<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Love Calculator - Smart Compatibility Score with Explainable Factors | SnipText</title>
  <meta name="description" content="A modern love calculator for fun that blends name similarity, phonetics, numerology, and zodiac. Adjust weights, see an explainable breakdown, generate a share card, and keep it all private in your browser." />
  <meta name="keywords" content="love calculator, compatibility score, name numerology, zodiac compatibility, love match, SnipText" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext" />
  <link rel="alternate" href="https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext" hreflang="x-default" />

  <!-- Styles -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Love Calculator - Smart Compatibility Score" />
  <meta property="og:description" content="Adjust weights, view a transparent breakdown, and create a share card. Fun, private, and modern." />
  <meta property="og:url" content="https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText tool preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Love Calculator - Smart Compatibility Score" />
  <meta name="twitter:description" content="Blend names, phonetics, numerology, and zodiac for a fun compatibility score." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#1D4ED8" />
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- JSON-LD: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText Love Calculator",
    "url":"https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext",
    "applicationCategory":"EntertainmentApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "featureList":[
      "Adjustable factor weights",
      "Name and phonetic similarity",
      "Numerology and zodiac blend",
      "Explainable scoring breakdown",
      "Shareable permalink",
      "Downloadable share card",
      "Private local history"
    ],
    "publisher":{
      "@type":"Organization",
      "name":"Snip Text",
      "logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}
    }
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"Is the Love Calculator private?",
        "acceptedAnswer":{"@type":"Answer","text":"Yes. Everything runs in your browser. No data is uploaded."}
      },
      {
        "@type":"Question",
        "name":"Can I adjust how the score is calculated?",
        "acceptedAnswer":{"@type":"Answer","text":"Yes. Use the weight sliders to change the impact of names, phonetics, numerology, and zodiac."}
      },
      {
        "@type":"Question",
        "name":"Can I share the result?",
        "acceptedAnswer":{"@type":"Answer","text":"You can copy a permalink or download a ready to share card as an image."}
      },
      {
        "@type":"Question",
        "name":"Is this scientifically accurate?",
        "acceptedAnswer":{"@type":"Answer","text":"No. It is a playful tool for entertainment only. The math is explainable but not scientific advice."}
      }
    ]
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://checkai.pro/"},
      {"@type":"ListItem","position":2,"name":"Tools","item":"https://checkai.pro/tools/"},
      {"@type":"ListItem","position":3,"name":"Love Calculator","item":"https://checkai.pro/tools/love-calculator-smart-compatibility-score-sniptext"}
    ]
  }
  </script>

  <style>
  /* =========================
     Brand tokens mapped for Love Calculator
     ========================= */
  :root{
    /* Using brand colors and including tool name keywords in variable names */
    --lovecalc-primary:#1D4ED8;       /* brand primary */
    --lovecalc-accent:#3B82F6;        /* brand accent */
    --lovecalc-bg-dark:#0F172A;       /* dark background */
    --lovecalc-white:#ffffff;
    --lovecalc-text-dim:#A9B1C6;
    --lovecalc-border:rgba(255,255,255,.14);
    --lovecalc-hot:#e85d27;
    --lovecalc-cta-end:#ff7c4c;

    --lovecalc-font-heading:'Poppins','Segoe UI',system-ui,-apple-system,Roboto,'Helvetica Neue',Arial,sans-serif;
    --lovecalc-font-body:'Roboto','Poppins','Segoe UI',system-ui,-apple-system,'Helvetica Neue',Arial,sans-serif;

    --lovecalc-rad-xl:22px;
    --lovecalc-rad-lg:16px;
    --lovecalc-rad-md:12px;

    --lovecalc-shadow-1:0 10px 30px rgba(0,0,0,.35);
    --lovecalc-shadow-2:0 18px 48px rgba(17,24,39,.46);

    --lovecalc-aurora-1: color-mix(in oklab, var(--lovecalc-primary) 26%, transparent);
    --lovecalc-aurora-2: color-mix(in oklab, var(--lovecalc-accent) 22%, transparent);
    --lovecalc-aurora-3: color-mix(in oklab, var(--lovecalc-cta-end) 12%, transparent);
  }

  /* Base */
  *{box-sizing:border-box}
  html,body{height:100%}
  html,body{
    margin:0; background:var(--lovecalc-bg-dark); color:var(--lovecalc-white);
    font-family:var(--lovecalc-font-body); line-height:1.55;
  }
  body::before{
    content:"";
    position:fixed; inset:0; z-index:-2;
    background:
      radial-gradient(1200px 600px at 8% -12%, var(--lovecalc-aurora-1), transparent 60%),
      radial-gradient(900px 500px at 100% 0%,  var(--lovecalc-aurora-2), transparent 52%),
      radial-gradient(800px 520px at 0% 100%, var(--lovecalc-aurora-3), transparent 58%),
      linear-gradient(180deg, var(--lovecalc-bg-dark) 0%, #0b1225 100%);
  }

  .lovecalc-page{ padding: clamp(16px,2.6vw,28px); max-width:1200px; margin:0 auto; isolation:isolate; }

  /* Hero */
  .lovecalc-hero{
    display:grid; gap: clamp(12px,2.2vw,20px);
    grid-template-columns: 1.25fr 1fr;
    margin-bottom: clamp(14px,2.4vw,22px);
  }
  @media (max-width:980px){ .lovecalc-hero{ grid-template-columns:1fr; } }

  .lovecalc-card{
    position:relative; padding: clamp(18px,2.6vw,26px);
    border:1px solid var(--lovecalc-border);
    border-radius: var(--lovecalc-rad-xl);
    box-shadow: var(--lovecalc-shadow-1);
    overflow:hidden;
    background: linear-gradient(135deg,
      color-mix(in oklab, var(--lovecalc-primary) 16%, transparent),
      color-mix(in oklab, var(--lovecalc-accent) 14%, transparent)
    );
    backdrop-filter: blur(6px);
  }
  .lovecalc-card::after{
    content:""; position:absolute; inset:-3px; pointer-events:none; filter: blur(16px); opacity:.55;
    background:
      radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--lovecalc-primary) 26%, transparent), transparent 65%),
      radial-gradient(460px 280px at 86% 0%,  color-mix(in oklab, var(--lovecalc-accent) 24%, transparent), transparent 62%);
  }

  .lovecalc-title{
    margin:0;
    font:800 clamp(22px,3.2vw,36px)/1.12 var(--lovecalc-font-heading);
    letter-spacing:.2px;
    background: linear-gradient(90deg,#fff,
      color-mix(in oklab, var(--lovecalc-accent) 54%, #fff) 38%,
      color-mix(in oklab, var(--lovecalc-cta-end) 40%, #fff) 78%, #fff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .lovecalc-sub{ margin:8px 0 0 0; color: var(--lovecalc-text-dim); }

  /* Buttons and inputs */
  .lovecalc-btn{
    --_bg: linear-gradient(180deg, color-mix(in oklab, var(--lovecalc-primary) 68%, transparent), color-mix(in oklab, var(--lovecalc-accent) 56%, transparent));
    --_bd: color-mix(in oklab, #000 12%, var(--lovecalc-primary));
    appearance:none; border:1px solid var(--_bd); background:var(--_bg); color:#fff;
    padding:10px 14px; border-radius:999px; font-weight:700; letter-spacing:.2px; cursor:pointer;
    transition: transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease;
    box-shadow: 0 10px 20px rgba(29,78,216,.22), 0 6px 14px rgba(59,130,246,.16);
    font-family: var(--lovecalc-font-heading); font-size:.96rem;
  }
  .lovecalc-btn:hover{ transform: translateY(-1px); filter: brightness(1.06); }
  .lovecalc-btn.ghost{ background: transparent; color:#e5e7eb; border:1px dashed var(--lovecalc-border); box-shadow:none; font-weight:600; }

  .lovecalc-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
  .lovecalc-chip, .lovecalc-input, .lovecalc-date, .lovecalc-number, .lovecalc-select{
    border:1px solid var(--lovecalc-border); background:#0f1b34; color:#e5e7eb;
    border-radius:999px; padding:9px 12px; font-size:14px;
    transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
  }
  .lovecalc-input:focus, .lovecalc-date:focus, .lovecalc-number:focus, .lovecalc-select:focus{
    outline:0; border-color: rgba(59,130,246,.35);
    box-shadow: 0 0 0 3px rgba(59,130,246,.15);
  }
  .lovecalc-input{ min-width:220px; }
  .lovecalc-date{ width:170px; }
  .lovecalc-number{ width:90px; text-align:center; }
  .lovecalc-select{ cursor:pointer; }

  .lovecalc-mini{ font-size:12px; color:#aab6c7; }

  /* Grid sections */
  .lovecalc-grid{
    display:grid; gap: clamp(12px,2.2vw,20px);
    grid-template-columns: 1.1fr 1fr;
  }
  @media (max-width:1040px){ .lovecalc-grid{ grid-template-columns:1fr; } }

  .lovecalc-section{
    border:1px solid var(--lovecalc-border);
    border-radius: var(--lovecalc-rad-lg);
    background: rgba(255,255,255,0.06);
    box-shadow: var(--lovecalc-shadow-2);
    backdrop-filter: blur(10px);
    padding: clamp(14px,2vw,18px);
    overflow:hidden;
  }
  .lovecalc-section h2{
    margin:0 0 10px; color:#fff;
    font: 700 14px/1 var(--lovecalc-font-heading);
    letter-spacing:.35px; text-transform:uppercase; opacity:.92;
  }

  /* Score meter */
  .lovecalc-score-wrap{
    display:grid; gap:10px;
    grid-template-columns: 1fr auto;
    align-items:center;
  }
  .lovecalc-scorebar{
    height:16px; width:100%;
    border:1px solid var(--lovecalc-border); border-radius:999px;
    background: linear-gradient(90deg, #14203d, #0f1b34);
    overflow:hidden; position:relative;
  }
  .lovecalc-scorefill{
    position:absolute; inset:0 0 0 0; width:0%;
    background: linear-gradient(90deg, var(--lovecalc-primary), var(--lovecalc-accent), var(--lovecalc-hot));
    transition: width .6s cubic-bezier(.2,.8,.2,1);
  }
  .lovecalc-score-num{
    font:800 28px/1 var(--lovecalc-font-heading);
    background: linear-gradient(90deg,#fff, #b3d1ff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    letter-spacing:.5px;
  }

  /* Weights sliders */
  .lovecalc-weights{ display:grid; gap:10px; grid-template-columns:1fr 1fr; }
  @media (max-width:640px){ .lovecalc-weights{ grid-template-columns:1fr; } }
  .lovecalc-weight{
    background:#0f1b34; border:1px solid var(--lovecalc-border); border-radius:12px; padding:10px;
  }
  .lovecalc-weight b{ display:block; font-size:12px; color:#aab6c7; margin-bottom:6px; }
  .lovecalc-weight input[type="range"]{ width:100%; accent-color:#3B82F6; }

  /* Breakdowns */
  .lovecalc-results{
    max-height:360px; overflow:auto;
    border:1px solid var(--lovecalc-border); border-radius:12px;
    background: rgba(255,255,255,.04);
  }
  table.lovecalc-table{ width:100%; border-collapse:collapse; font-size:13px; }
  .lovecalc-table th, .lovecalc-table td{
    padding:10px; border-bottom:1px solid var(--lovecalc-border); text-align:left; color:#e5e7eb;
  }
  .lovecalc-table th{
    position:sticky; top:0; z-index:1;
    background: linear-gradient(90deg,
      color-mix(in oklab, var(--lovecalc-primary) 10%, transparent),
      color-mix(in oklab, var(--lovecalc-accent) 8%, transparent));
    text-transform:uppercase; letter-spacing:.08em; font:700 12px/1 var(--lovecalc-font-heading);
  }
  .lovecalc-empty{ padding:18px; text-align:center; color:#aab6c7; }
  .lovecalc-badge{
    display:inline-block; padding:2px 8px; border-radius:999px; font:700 11px/1 var(--lovecalc-font-heading);
    background: color-mix(in oklab, var(--lovecalc-primary) 16%, transparent);
    color: color-mix(in oklab, var(--lovecalc-accent) 70%, #fff);
    border:1px solid var(--lovecalc-border);
  }

  /* Tabs */
  .lovecalc-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px; }
  .lovecalc-tab{
    padding:8px 12px; border-radius:999px; cursor:pointer; font-weight:700; font-size:.92rem;
    border:1px solid var(--lovecalc-border); background: rgba(255,255,255,.04); color:#e5e7eb;
    transition: transform .15s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
  }
  .lovecalc-tab:hover{ transform:translateY(-1px); border-color:#3b82f6; }
  .lovecalc-tab.active{
    background: rgba(59,130,246,.22); border-color: var(--lovecalc-accent);
    box-shadow: 0 0 0 6px rgba(59,130,246,.08);
  }

  /* Toast */
  .lovecalc-toast{
    position: fixed; right:16px; bottom:16px; background:#0b1223ee; color:#e5e7eb;
    border:1px solid var(--lovecalc-border); padding:10px 14px; border-radius:12px;
    box-shadow: var(--lovecalc-shadow-1); transform: translateY(20px); opacity:0;
    transition: transform .25s ease, opacity .25s ease; z-index:50;
  }
  .lovecalc-toast.show{ transform: translateY(0); opacity:1; }

  /* Canvas card */
  .lovecalc-card-stage{
    width:100%; background:#0f1b34; border:1px dashed var(--lovecalc-border);
    border-radius:12px; padding:10px; text-align:center;
  }
  .lovecalc-card-stage canvas{ width:100%; max-width:520px; height:auto; display:block; margin:0 auto; }

  /* Motion */
  @media (prefers-reduced-motion: no-preference){
    .lovecalc-card, .lovecalc-section { animation: lc-float 18s ease-in-out infinite; }
    @keyframes lc-float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-2px)} }
  }

.feature-card-all-pages {margin: 0 2rem;}
.tools-grid {margin: 1rem; background: #0e1730;}
.tool-card {background: #0f1b34;}
@media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>



    
  
<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="/features.html">Features</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="/login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>






 
  <main class="lovecalc-page" id="lovecalc-app" itemscope itemtype="https://schema.org/WebApplication" aria-label="Love Calculator tool">
    <!-- HERO -->
    <section class="lovecalc-hero">
      <div class="lovecalc-card" aria-labelledby="lovecalc-title">
        <h1 class="lovecalc-title" id="lovecalc-title">Love Calculator</h1>
        <p class="lovecalc-sub">
          A playful compatibility score that blends name similarity, phonetics, numerology, and zodiac. Adjust weights, see a clear breakdown, and share a beautiful result card. All calculations run on your device.
        </p>
        <div class="lovecalc-row" style="margin-top:10px;">
          <input class="lovecalc-input" id="lovecalc-name-a" type="text" placeholder="Your name" aria-label="Your name" autocomplete="name" />
          <input class="lovecalc-input" id="lovecalc-name-b" type="text" placeholder="Partner name" aria-label="Partner name" />
          <input class="lovecalc-date" id="lovecalc-date-a" type="date" aria-label="Your birthday" />
          <input class="lovecalc-date" id="lovecalc-date-b" type="date" aria-label="Partner birthday" />
        </div>
        <div class="lovecalc-row" style="margin-top:10px;">
          <select class="lovecalc-select" id="lovecalc-zodiac-a" aria-label="Your zodiac sign">
            <option value="">Your zodiac</option>
          </select>
          <select class="lovecalc-select" id="lovecalc-zodiac-b" aria-label="Partner zodiac sign">
            <option value="">Partner zodiac</option>
          </select>
          <button class="lovecalc-btn" id="lovecalc-calc">Calculate</button>
          <button class="lovecalc-btn ghost" id="lovecalc-swap" title="Swap names" aria-label="Swap names">Swap</button>
          <button class="lovecalc-btn ghost" id="lovecalc-load-demo">Load demo</button>
        </div>

        <div class="lovecalc-score-wrap" style="margin-top:12px;">
          <div class="lovecalc-scorebar" aria-label="Score meter">
            <div class="lovecalc-scorefill" id="lovecalc-scorefill"></div>
          </div>
          <div class="lovecalc-score-num" id="lovecalc-scorenum" aria-live="polite">0%</div>
        </div>
        <p class="lovecalc-mini">Tip: share a permalink after calculating. Everything stays private until you choose to share.</p>
      </div>

      <div class="lovecalc-card">
        <h2 class="lovecalc-mini" style="font-size:13px;margin:0 0 10px;">Factor weights</h2>
        <div class="lovecalc-weights" role="group" aria-label="Adjust factor weights">
          <div class="lovecalc-weight">
            <b>Name similarity</b>
            <input type="range" min="0" max="100" value="28" id="lovecalc-w-name" />
          </div>
          <div class="lovecalc-weight">
            <b>Phonetic match</b>
            <input type="range" min="0" max="100" value="18" id="lovecalc-w-phone" />
          </div>
          <div class="lovecalc-weight">
            <b>Numerology</b>
            <input type="range" min="0" max="100" value="24" id="lovecalc-w-num" />
          </div>
          <div class="lovecalc-weight">
            <b>Zodiac blend</b>
            <input type="range" min="0" max="100" value="20" id="lovecalc-w-zod" />
          </div>
        </div>
        <div class="lovecalc-row" style="margin-top:10px;">
          <button class="lovecalc-btn" id="lovecalc-balance">Rebalance to 100</button>
          <button class="lovecalc-btn ghost" id="lovecalc-reset-weights">Reset weights</button>
          <span class="lovecalc-mini" id="lovecalc-weight-sum">Sum: 90</span>
        </div>
      </div>
    </section>

    <!-- GRID -->
    <section class="lovecalc-grid">
      <!-- Left -->
      <div class="lovecalc-section">
        <h2>Explainable breakdown</h2>

        <div class="lovecalc-tabs" role="tablist" aria-label="Explainable tabs">
          <button class="lovecalc-tab active" data-scope="overview" role="tab" aria-selected="true">Overview</button>
          <button class="lovecalc-tab" data-scope="names" role="tab">Names</button>
          <button class="lovecalc-tab" data-scope="numerology" role="tab">Numerology</button>
          <button class="lovecalc-tab" data-scope="zodiac" role="tab">Zodiac</button>
        </div>

        <div class="lovecalc-results" id="lovecalc-explain">
          <table class="lovecalc-table" aria-describedby="lovecalc-title">
            <thead><tr><th>Factor</th><th>Details</th><th>Contribution</th></tr></thead>
            <tbody id="lovecalc-explain-body">
              <tr><td class="lovecalc-empty" colspan="3">No calculation yet.</td></tr>
            </tbody>
          </table>
        </div>

        <div class="lovecalc-row" style="margin-top:10px;">
          <button class="lovecalc-btn" id="lovecalc-copy-link">Copy permalink</button>
          <button class="lovecalc-btn" id="lovecalc-export-json">Export JSON</button>
          <button class="lovecalc-btn ghost" id="lovecalc-clear">Clear</button>
        </div>
        <p class="lovecalc-mini" style="margin-top:6px;">Entertainment only. Do not use for real decisions.</p>
      </div>

      <!-- Right -->
      <div class="lovecalc-section">
        <h2>Share card & insights</h2>
        <div class="lovecalc-card-stage" aria-live="polite">
          <canvas id="lovecalc-canvas" width="1000" height="520" role="img" aria-label="Shareable result card"></canvas>
        </div>
        <div class="lovecalc-row" style="margin-top:10px;">
          <button class="lovecalc-btn" id="lovecalc-download-card">Download card</button>
          <button class="lovecalc-btn ghost" id="lovecalc-random-idea">Date idea</button>
        </div>
        <ul class="lovecalc-mini" id="lovecalc-ideas" aria-label="Personalized ideas" style="margin:10px 0 0 16px;"></ul>

        <h2 style="margin-top:16px;">History on this device</h2>
        <div class="lovecalc-results" id="lovecalc-history">
          <table class="lovecalc-table">
            <thead><tr><th>Pair</th><th>Score</th><th>When</th><th>Actions</th></tr></thead>
            <tbody id="lovecalc-history-body">
              <tr><td class="lovecalc-empty" colspan="4">No history yet.</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>


     <div class="free-tools-guide">
    <p class="free-tools-guide-p">See your Zodiac Sign on SnipText's <a href="/tools/zodiac-sign-and-horoscope-calculator.html" class="free-tools-blog-link">Zodiac Sign & Horoscope Finder Page</a>.</p>
  </div>

     <div class="free-tools-guide">
    <p class="free-tools-guide-p">See Grade Calculation Guide on SnipText Blog Page <a href="/blog/love-calculator-smart-compatibility-score-explainable-weights-phonetics-numerology-zodiac-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>

  </main>

  <div class="lovecalc-toast" id="lovecalc-toast" role="status" aria-live="polite"></div>


    <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

    <article class="tool-card table-gen-tool-card" tabindex="0" data-href="/tools/quick-table-generator-csv-to-html-table-code.html" aria-labelledby="table-gen-tg">
        <div class="card-icon table-gen-card-icon" aria-hidden="true">
          <!-- Grid/Table icon -->
          <svg viewBox="0 0 24 24" class="svg-icon table-gen-svg" xmlns="http://www.w3.org/2000/svg" role="img">
            <rect x="3" y="4" width="18" height="16" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.4"/>
            <path d="M3 9h18M3 14h18M8 4v16M14 4v16" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
          </svg>
        </div>
        <h3 id="table-gen-tg" class="card-title table-gen-card-title">Quick Table Generator</h3>
        <p class="card-desc table-gen-card-desc">
          Paste or upload CSV to generate clean, responsive HTML table code with auto-detect delimiter, header toggle, sort, filter, paginate, transpose, sticky header, and one-click copy or download. Private, in-browser.
        </p>
        <a class="card-cta table-gen-card-cta" href="/tools/quick-table-generator-csv-to-html-table-code.html" aria-label="Open Quick Table Generator">Open →</a>
      </article>

      <article class="tool-card" tabindex="0" data-href="/tools/timeline-maker-academic-timeline.html" aria-labelledby="t13">
          <div class="card-icon" aria-hidden="true">
            <!-- Timeline icon: calendar + vertical line with nodes -->
            <svg viewBox="0 0 24 24" class="svg-icon">
              <!-- Calendar frame -->
              <rect x="3" y="4.5" width="18" height="16" rx="2.5" ry="2.5" stroke="currentColor" stroke-width="1.4" fill="none"/>
              <path d="M3 8h18" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" />
              <path d="M8 4.5v-2M16 4.5v-2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <!-- Vertical timeline -->
              <path d="M8.5 11v7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <circle cx="8.5" cy="12.5" r="1.4" fill="currentColor"/>
              <circle cx="8.5" cy="15.5" r="1.4" fill="currentColor"/>
              <circle cx="8.5" cy="18" r="1.4" fill="currentColor"/>
              <!-- Event cards hint -->
              <path d="M11.5 12.5h6M11.5 15.5h5M11.5 18h4" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
            </svg>
          </div>
          <h3 id="t13" class="card-title">Timeline Maker</h3>
          <p class="card-desc">Enter events to auto-generate an academic-style timeline with categories, eras, zoom, drag-reorder, and one-click export to HTML, SVG, or JSON. Private, in-browser.</p>
          <a class="card-cta" href="/tools/timeline-maker-academic-timeline.html" aria-label="Open Timeline Maker">Open →</a>
        </article>

    <article class="tool-card" tabindex="0" data-href="/tools/duplicate-word-finder.html" aria-labelledby="t3">
      <div class="card-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="svg-icon">
          <path d="M3 7h8v10H3zM13 3h8v10h-8z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t3" class="card-title">Duplicate Word Finder</h3>
      <p class="card-desc">Find repeated words and common duplicates, with options to highlight or remove them automatically.</p>
      <a class="card-cta" href="/tools/duplicate-word-finder.html" aria-label="Open Duplicate Word Finder">Open →</a>
    </article>

    <article class="tool-card" tabindex="0" data-href="/tools/whitespace-and-formatting-cleaner.html" aria-labelledby="t4">
      <div class="card-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="svg-icon">
          <path d="M3 7h18M8 11h8M6 15h12M4 19h16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t4" class="card-title">Whitespace & Formatting Cleaner</h3>
      <p class="card-desc">Trim whitespace, normalize newlines, remove extra spaces, and fix inconsistent indentation.</p>
      <a class="card-cta" href="/tools/whitespace-and-formatting-cleaner.html" aria-label="Open Whitespace & Formatting Cleaner">Open →</a>
    </article>

  </section>






  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="privacy-policy.html">Privacy Policy</a>
      <a href="terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        · All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>





<script src="js/index.js?v=reset1" defer></script>
<script src="js/auth.js?v=reset1" defer></script>
<script src="/tools/js/free-tools.js?v=reset1"></script>

  <script>
  // =========================
  // Utility helpers
  // =========================
  const $ = (sel, ctx=document) => ctx.querySelector(sel);
  const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

  const toast = (msg) => {
    const t = $('#lovecalc-toast');
    t.textContent = msg; t.classList.add('show');
    setTimeout(()=> t.classList.remove('show'), 2200);
  };

  const clamp01 = v => Math.max(0, Math.min(1, v));
  const lerp = (a,b,t)=> a + (b-a)*t;

  // Stable hash for seeding fun extras and colors
  function hashStr(s){
    let h=2166136261>>>0;
    for(let i=0;i<s.length;i++){h^=s.charCodeAt(i); h=(h*16777619)>>>0;}
    return h>>>0;
  }
  function seededRand(seed){
    // xorshift32
    let x = seed || 123456789;
    return ()=>{ x^=x<<13; x^=x>>>17; x^=x<<5; return ((x>>>0)%1e9)/1e9; };
  }

  // =========================
  // Name similarity - Jaro-Winkler
  // =========================
  function jaroWinkler(a,b){
    if(!a || !b) return 0;
    a=a.toLowerCase(); b=b.toLowerCase();
    const mDist = Math.floor(Math.max(a.length,b.length)/2)-1;
    const aMatches = new Array(a.length).fill(false);
    const bMatches = new Array(b.length).fill(false);
    let matches=0, transpositions=0;

    for(let i=0;i<a.length;i++){
      const start = Math.max(0, i - mDist);
      const end = Math.min(i + mDist + 1, b.length);
      for(let j=start;j<end;j++){
        if(bMatches[j]) continue;
        if(a[i]===b[j]){ aMatches[i]=true; bMatches[j]=true; matches++; break; }
      }
    }
    if(matches===0) return 0;

    let k=0;
    for(let i=0;i<a.length;i++){
      if(!aMatches[i]) continue;
      while(!bMatches[k]) k++;
      if(a[i]!==b[k]) transpositions++;
      k++;
    }
    const m = matches;
    const j = (m/a.length + m/b.length + (m - transpositions/2)/m) / 3;
    // Winkler prefix scale
    let l=0; for(;l<Math.min(4,a.length,b.length) && a[l]===b[l];l++);
    const p=0.1;
    return j + l*p*(1-j);
  }

  // =========================
  // Phonetics - simple Soundex + vowel pattern
  // =========================
  function soundex(s){
    if(!s) return '';
    s = s.toUpperCase().replace(/[^A-Z]/g,'');
    if(!s) return '';
    const map = {B:1,F:1,P:1,V:1,C:2,G:2,J:2,K:2,Q:2,S:2,X:2,Z:2,D:3,T:3,L:4,M:5,N:5,R:6};
    let out = s[0];
    let prev = map[s[0]]||'';
    for(let i=1;i<s.length;i++){
      const c = s[i];
      const code = map[c]||'';
      if(code!=='' && code!==prev) out += code;
      prev = code;
    }
    return (out + '000').slice(0,4);
  }
  function phoneticMatch(a,b){
    if(!a || !b) return 0;
    const sa = soundex(a), sb = soundex(b);
    let sc = 0;
    if(sa===sb) sc = 1;
    else {
      // partial equality weighting
      let eq=0; for(let i=0;i<4;i++) if(sa[i]===sb[i]) eq++;
      sc = eq/4;
    }
    // vowel rhythm
    const vow = s=> (s.toLowerCase().match(/[aeiou]/g)||[]).length;
    const va = vow(a), vb = vow(b);
    const vScore = 1 - Math.min(1, Math.abs(va-vb)/5);
    return 0.7*sc + 0.3*vScore;
  }

  // =========================
  // Numerology - simple name number and life path
  // =========================
  function reduceToSingle(n){
    while(n>9 && n!==11 && n!==22){ n = (''+n).split('').reduce((a,c)=>a+(+c),0); }
    return n;
  }
  function nameNumber(s){
    if(!s) return 0;
    const map = {a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:1,k:2,l:3,m:4,n:5,o:6,p:7,q:8,r:9,s:1,t:2,u:3,v:4,w:5,x:6,y:7,z:8};
    const sum = s.toLowerCase().replace(/[^a-z]/g,'').split('').reduce((a,c)=> a + (map[c]||0), 0);
    return reduceToSingle(sum);
  }
  function lifePath(dateStr){
    if(!dateStr) return 0;
    const s = dateStr.replace(/[^0-9]/g,''); // yyyymmdd
    const sum = s.split('').reduce((a,c)=> a + (+c), 0);
    return reduceToSingle(sum);
  }
  function numerologyCompat(n1, n2){
    if(!n1 || !n2) return 0.5;
    const diff = Math.abs(n1 - n2);
    const base = 1 - diff/9;
    // special master numbers
    if((n1===11 || n1===22) || (n2===11 || n2===22)) return clamp01(base + 0.05);
    return clamp01(base);
  }

  // =========================
  // Zodiac basic compatibility matrix (0..1)
  // Simplified and playful, not authoritative
  // =========================
  const ZODIAC = ["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];
  const ZM = {}; ZODIAC.forEach(z=>ZM[z]=ZODIAC.indexOf(z));
  // A light pattern: same element good, adjacent ok, opposite spicy
  const ELEMENT = {Aries:'Fire', Leo:'Fire', Sagittarius:'Fire',
                   Taurus:'Earth', Virgo:'Earth', Capricorn:'Earth',
                   Gemini:'Air', Libra:'Air', Aquarius:'Air',
                   Cancer:'Water', Scorpio:'Water', Pisces:'Water'};
  function zodiacCompat(a,b){
    if(!a || !b) return 0.5;
    if(!(a in ZM) || !(b in ZM)) return 0.5;
    if(a===b) return 0.86;
    const ea = ELEMENT[a], eb = ELEMENT[b];
    if(ea===eb) return 0.8;
    // Air + Fire, Water + Earth synergy
    const goodPairs = (ea==='Air' && eb==='Fire') || (ea==='Fire' && eb==='Air') ||
                      (ea==='Water' && eb==='Earth') || (ea==='Earth' && eb==='Water');
    if(goodPairs) return 0.72;
    // Neutral
    return 0.56;
  }

  // =========================
  // Core score
  // =========================
  function calcScore({nameA, nameB, dateA, dateB, zodiacA, zodiacB, w}){
    const jw = jaroWinkler(nameA, nameB);
    const ph = phoneticMatch(nameA, nameB);
    const nnA = nameNumber(nameA), nnB = nameNumber(nameB);
    const lpA = lifePath(dateA), lpB = lifePath(dateB);
    const numName = numerologyCompat(nnA, nnB);
    const numLife = numerologyCompat(lpA, lpB);
    const num = clamp01(0.55*numName + 0.45*numLife);
    const zc = zodiacCompat(zodiacA, zodiacB);

    const totalWeight = Math.max(1, (w.name + w.phone + w.num + w.zod));
    const score01 = clamp01(
      (w.name*jw + w.phone*ph + w.num*num + w.zod*zc) / totalWeight
    );

    // Tiny tie breaker for fun using seeded randomness
    const seed = hashStr((nameA||'')+'|'+(nameB||'')+'|'+(dateA||'')+'|'+(dateB||''));
    const rnd = seededRand(seed)();
    const final01 = clamp01(score01*0.985 + rnd*0.015);

    return {
      pct: Math.round(final01*100),
      parts: {jw, ph, num, zc},
      numerology: {nameA:nnA, nameB:nnB, lifeA:lpA, lifeB:lpB},
    };
  }

  // =========================
  // DOM wiring
  // =========================
  // Fill zodiac selects
  const zA = $('#lovecalc-zodiac-a'), zB = $('#lovecalc-zodiac-b');
  for(const z of ZODIAC){
    const o1 = document.createElement('option'); o1.value=z; o1.textContent=z; zA.appendChild(o1);
    const o2 = document.createElement('option'); o2.value=z; o2.textContent=z; zB.appendChild(o2);
  }

  // Weight handling
  const wEls = {
    name: $('#lovecalc-w-name'),
    phone: $('#lovecalc-w-phone'),
    num: $('#lovecalc-w-num'),
    zod: $('#lovecalc-w-zod')
  };
  function weightSum(){
    const sum = (+wEls.name.value)+(+wEls.phone.value)+(+wEls.num.value)+(+wEls.zod.value);
    $('#lovecalc-weight-sum').textContent = 'Sum: ' + sum;
    return sum;
  }
  $$('.lovecalc-weights input[type="range"]').forEach(r=> r.addEventListener('input', weightSum));
  $('#lovecalc-balance').addEventListener('click', ()=>{
    let sum = weightSum(); if(sum===0){ wEls.name.value=25; wEls.phone.value=25; wEls.num.value=25; wEls.zod.value=25; sum=100;}
    const scale = 100/sum;
    for(const k in wEls){ wEls[k].value = Math.round(+wEls[k].value * scale); }
    weightSum(); toast('Weights rebalanced to 100');
  });
  const defaultWeights = {name:28, phone:18, num:24, zod:20};
  $('#lovecalc-reset-weights').addEventListener('click', ()=>{
    for(const k in defaultWeights){ wEls[k].value = defaultWeights[k]; }
    weightSum(); toast('Weights reset');
  });
  weightSum();

  // Tabs
  $$('.lovecalc-tab').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      $$('.lovecalc-tab').forEach(b=> b.classList.remove('active'));
      btn.classList.add('active');
      renderExplain(btn.dataset.scope);
    });
  });

  // Swap, demo, clear
  $('#lovecalc-swap').addEventListener('click', ()=>{
    const a = $('#lovecalc-name-a'), b = $('#lovecalc-name-b');
    [a.value, b.value] = [b.value, a.value];
    [zA.value, zB.value] = [zB.value, zA.value];
    [$('#lovecalc-date-a').value, $('#lovecalc-date-b').value] = [$('#lovecalc-date-b').value, $('#lovecalc-date-a').value];
    toast('Swapped');
  });
  $('#lovecalc-load-demo').addEventListener('click', ()=>{
    $('#lovecalc-name-a').value = 'Alex Carter';
    $('#lovecalc-name-b').value = 'Jordan Lee';
    $('#lovecalc-date-a').value = '1995-03-18';
    $('#lovecalc-date-b').value = '1994-10-07';
    zA.value='Pisces'; zB.value='Libra';
    toast('Demo loaded. Now click Calculate.');
  });
  $('#lovecalc-clear').addEventListener('click', ()=>{
    ['lovecalc-name-a','lovecalc-name-b','lovecalc-date-a','lovecalc-date-b'].forEach(id=> $('#'+id).value='');
    zA.value=''; zB.value='';
    setScore(0);
    $('#lovecalc-explain-body').innerHTML = '<tr><td class="lovecalc-empty" colspan="3">Cleared.</td></tr>';
    drawCard({pair:'', score:0, badges:[], seed:hashStr('')});
    toast('Cleared');
  });

  // Calculate
  $('#lovecalc-calc').addEventListener('click', doCalc);

  function readWeights(){ return {
    name:+wEls.name.value, phone:+wEls.phone.value, num:+wEls.num.value, zod:+wEls.zod.value
  };}

  function doCalc(){
    const nameA = $('#lovecalc-name-a').value.trim();
    const nameB = $('#lovecalc-name-b').value.trim();
    if(!nameA || !nameB){ toast('Please enter both names'); return; }
    const dateA = $('#lovecalc-date-a').value || '';
    const dateB = $('#lovecalc-date-b').value || '';
    const zodiacA = zA.value || '';
    const zodiacB = zB.value || '';
    const weights = readWeights();

    const out = calcScore({nameA, nameB, dateA, dateB, zodiacA, zodiacB, w:weights});
    setScore(out.pct);
    lastResult = {nameA,nameB,dateA,dateB,zodiacA,zodiacB,weights,out};
    renderExplain($('.lovecalc-tab.active')?.dataset.scope || 'overview');
    drawCard({
      pair: nameA + ' ❤ ' + nameB,
      score: out.pct,
      badges: makeBadges(out),
      seed: hashStr(nameA+'|'+nameB)
    });
    pushHistory({pair:nameA+' & '+nameB, score:out.pct});
    updatePermalink();
  }

  function setScore(pct){
    $('#lovecalc-scorenum').textContent = pct + '%';
    $('#lovecalc-scorefill').style.width = pct + '%';
  }

  // Explainable table
  let lastResult = null;

  function renderExplain(scope){
    const tb = $('#lovecalc-explain-body');
    if(!lastResult){
      tb.innerHTML = '<tr><td class="lovecalc-empty" colspan="3">No calculation yet.</td></tr>';
      return;
    }
    const {out, weights} = lastResult;
    const rows = [];
    const pct = x=> Math.round(x*100)+'%';
    const contrib = (name,val,wKey)=> `<span class="lovecalc-badge">${Math.round(val*weights[wKey])} pts</span>`;

    if(scope==='overview'){
      rows.push(row('Name similarity', `Jaro-Winkler between names`, contrib('Name similarity', out.parts.jw,'name')));
      rows.push(row('Phonetic match', `Soundex code proximity and vowel rhythm`, contrib('Phonetic match', out.parts.ph,'phone')));
      rows.push(row('Numerology', `Name ${lastResult.out.numerology.nameA}/${lastResult.out.numerology.nameB}, Life ${lastResult.out.numerology.lifeA}/${lastResult.out.numerology.lifeB}`, contrib('Numerology', out.parts.num,'num')));
      rows.push(row('Zodiac blend', `${lastResult.zodiacA||'-'} with ${lastResult.zodiacB||'-'}`, contrib('Zodiac', out.parts.zc,'zod')));
    } else if(scope==='names'){
      rows.push(row('Jaro-Winkler', `Similarity of "${lastResult.nameA}" and "${lastResult.nameB}"`, pct(out.parts.jw)));
      rows.push(row('Phonetics', `Soundex and vowel balance`, pct(out.parts.ph)));
    } else if(scope==='numerology'){
      const n = out.numerology;
      rows.push(row('Name numbers', `${n.nameA} vs ${n.nameB}`, ' '));
      rows.push(row('Life paths', `${n.lifeA||'-'} vs ${n.lifeB||'-'}`, ' '));
      rows.push(row('Blend score', `Weighted name and life path`, pct(out.parts.num)));
    } else if(scope==='zodiac'){
      rows.push(row('Zodiac signs', `${lastResult.zodiacA||'-'} with ${lastResult.zodiacB||'-'}`, ' '));
      rows.push(row('Blend score', `Element synergy model`, pct(out.parts.zc)));
    }

    tb.innerHTML = rows.join('') + `<tr><td><strong>Total</strong></td><td>All factors combined</td><td><strong>${out.pct}%</strong></td></tr>`;

    function row(a,b,c){ return `<tr><td>${a}</td><td>${b}</td><td>${c}</td></tr>`; }
  }

  // Badges from result
  function makeBadges(out){
    const badges = [];
    if(out.parts.jw>0.85) badges.push('Instant spark');
    if(out.parts.ph>0.75) badges.push('Names sound great together');
    if(out.parts.num>0.7) badges.push('Numerology harmony');
    if(out.parts.zc>0.7) badges.push('Zodiac synergy');
    if(out.pct>=90) badges.push('Soulmate vibes');
    else if(out.pct>=75) badges.push('Very compatible');
    else if(out.pct>=60) badges.push('Promising match');
    else badges.push('Fun connection');
    return badges.slice(0,4);
  }

  // Permalink
  function updatePermalink(){
    if(!lastResult) return;
    const p = new URLSearchParams({
      a:lastResult.nameA, b:lastResult.nameB,
      da:lastResult.dateA||'', db:lastResult.dateB||'',
      za:lastResult.zodiacA||'', zb:lastResult.zodiacB||'',
      wn:lastResult.weights.name, wp:lastResult.weights.phone,
      wnum:lastResult.weights.num, wz:lastResult.weights.zod
    });
    history.replaceState(null,'','#'+p.toString());
  }
  function loadFromHash(){
    const h = location.hash.slice(1); if(!h) return;
    const p = new URLSearchParams(h);
    $('#lovecalc-name-a').value = p.get('a')||'';
    $('#lovecalc-name-b').value = p.get('b')||'';
    $('#lovecalc-date-a').value = p.get('da')||'';
    $('#lovecalc-date-b').value = p.get('db')||'';
    zA.value = p.get('za')||'';
    zB.value = p.get('zb')||'';
    if(p.has('wn')) wEls.name.value = +p.get('wn');
    if(p.has('wp')) wEls.phone.value = +p.get('wp');
    if(p.has('wnum')) wEls.num.value = +p.get('wnum');
    if(p.has('wz')) wEls.zod.value = +p.get('wz');
    weightSum();
  }
  loadFromHash();

  $('#lovecalc-copy-link').addEventListener('click', async ()=>{
    const url = location.href;
    try{ await navigator.clipboard.writeText(url); toast('Permalink copied'); }
    catch(e){ toast('Copy not allowed. Select the address bar to copy.'); }
  });

  // Export JSON
  $('#lovecalc-export-json').addEventListener('click', ()=>{
    if(!lastResult){ toast('Calculate first'); return; }
    const data = {
      names:[lastResult.nameA, lastResult.nameB],
      dates:[lastResult.dateA||null, lastResult.dateB||null],
      zodiac:[lastResult.zodiacA||null, lastResult.zodiacB||null],
      weights:lastResult.weights,
      parts:lastResult.out.parts,
      numerology:lastResult.out.numerology,
      score:lastResult.out.pct,
      generatedAt:new Date().toISOString()
    };
    const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'love-calculator-smart-compatibility-score-sniptext-result.json';
    a.click();
    URL.revokeObjectURL(a.href);
  });

  // History in localStorage
  function readHistory(){
    try{ return JSON.parse(localStorage.getItem('lovecalc-history')||'[]'); }catch(e){ return []; }
  }
  function writeHistory(arr){
    localStorage.setItem('lovecalc-history', JSON.stringify(arr.slice(0,50)));
  }
  function pushHistory(item){
    const arr = readHistory();
    arr.unshift({pair:item.pair, score:item.score, t:Date.now()});
    writeHistory(arr);
    renderHistory();
  }
  function renderHistory(){
    const tb = $('#lovecalc-history-body');
    const arr = readHistory();
    if(!arr.length){ tb.innerHTML = '<tr><td class="lovecalc-empty" colspan="4">No history yet.</td></tr>'; return; }
    tb.innerHTML = arr.map((x,i)=> `<tr>
      <td>${x.pair}</td>
      <td>${x.score}%</td>
      <td>${new Date(x.t).toLocaleString()}</td>
      <td>
        <button class="lovecalc-chip" data-act="load" data-idx="${i}">Load</button>
        <button class="lovecalc-chip" data-act="del" data-idx="${i}">Delete</button>
      </td>
    </tr>`).join('');
    tb.querySelectorAll('button').forEach(b=>{
      b.addEventListener('click', ()=>{
        const idx = +b.dataset.idx;
        const act = b.dataset.act;
        const arr = readHistory();
        const x = arr[idx];
        if(act==='del'){ arr.splice(idx,1); writeHistory(arr); renderHistory(); }
        if(act==='load' && x){
          const [a,bn] = x.pair.split(' & ');
          $('#lovecalc-name-a').value=a||''; $('#lovecalc-name-b').value=bn||'';
          toast('Loaded names. Add birthdays or zodiac if you want and calculate.');
        }
      });
    });
  }
  renderHistory();

  // Date ideas based on seed
  const IDEA_BANK = [
    'Cook a new recipe together at home',
    'Sunset walk and photo session',
    'Board game night with snacks',
    'Try a local food truck crawl',
    'Stargazing with a simple playlist',
    'Visit a small museum or gallery',
    'Make custom sundaes challenge',
    'Thrift store treasure hunt',
    'Coffee tasting flight at home',
    'Plan a mini book club date'
  ];
  $('#lovecalc-random-idea').addEventListener('click', ()=>{
    const seed = lastResult ? hashStr(lastResult.nameA+'|'+lastResult.nameB) : hashStr('x');
    const rnd = seededRand(seed)();
    const pick = IDEA_BANK[Math.floor(rnd*IDEA_BANK.length)];
    const li = document.createElement('li'); li.textContent = pick; $('#lovecalc-ideas').prepend(li);
  });

  // Share card drawing
  function drawCard({pair, score, badges, seed}){
    const c = $('#lovecalc-canvas'); const ctx = c.getContext('2d');
    // Background
    ctx.clearRect(0,0,c.width,c.height);
    // Gradient aurora
    const g = ctx.createLinearGradient(0,0,c.width,0);
    g.addColorStop(0,'#111a33'); g.addColorStop(0.5,'#0f1730'); g.addColorStop(1,'#0b1225');
    ctx.fillStyle = g; ctx.fillRect(0,0,c.width,c.height);

    // Floating blobs
    const rand = seededRand(seed);
    for(let i=0;i<6;i++){
      const x = rand()*c.width, y = rand()*c.height;
      const r = 80 + rand()*140;
      const gr = ctx.createRadialGradient(x,y,10,x,y,r);
      const col = i%2 ? '#1D4ED8' : (i%3 ? '#3B82F6' : '#e85d27');
      gr.addColorStop(0, col+'99'); gr.addColorStop(1, 'transparent');
      ctx.fillStyle = gr; ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fill();
    }

    // Frame
    ctx.strokeStyle = 'rgba(255,255,255,.14)';
    ctx.lineWidth = 2; ctx.strokeRect(16,16,c.width-32,c.height-32);

    // Title
    ctx.fillStyle = '#ffffff';
    ctx.font = 'bold 34px Poppins, Segoe UI, sans-serif';
    ctx.fillText('Love Calculator', 40, 70);

    // Pair
    ctx.font = '700 28px Poppins, Segoe UI, sans-serif';
    ctx.fillText(pair || 'Your pair goes here', 40, 120);

    // Score
    const meterW = 560, meterH = 22, mx = 40, my = 160;
    ctx.fillStyle = '#0f1b34'; ctx.fillRect(mx,my,meterW,meterH);
    // border
    ctx.strokeStyle = 'rgba(255,255,255,.24)'; ctx.strokeRect(mx,my,meterW,meterH);
    // fill
    const w = Math.round((score/100)*meterW);
    const grad = ctx.createLinearGradient(mx,my,mx+meterW,my);
    grad.addColorStop(0,'#1D4ED8'); grad.addColorStop(0.6,'#3B82F6'); grad.addColorStop(1,'#e85d27');
    ctx.fillStyle = grad; ctx.fillRect(mx,my,w,meterH);

    ctx.fillStyle = '#ffffff';
    ctx.font = '800 56px Poppins, Segoe UI, sans-serif';
    ctx.fillText((score||0)+'%', mx+meterW+20, my+meterH);

    // Badges
    ctx.font = 'bold 16px Poppins, Segoe UI, sans-serif';
    const bgs = ['#1D4ED8','#3B82F6','#e85d27','#6B7280'];
    let bx = 40, by = 220;
    (badges||['Fun connection']).forEach((b,i)=>{
      const padX=12, padY=8;
      const w = ctx.measureText(b).width + padX*2;
      ctx.fillStyle = bgs[i%bgs.length]; ctx.globalAlpha = .22; ctx.fillRect(bx,by-18,w,30); ctx.globalAlpha = 1;
      ctx.strokeStyle = 'rgba(255,255,255,.25)'; ctx.strokeRect(bx,by-18,w,30);
      ctx.fillStyle = '#e5e7eb'; ctx.fillText(b,bx+padX,by);
      bx += w + 12;
      if(bx>c.width-220){ bx = 40; by += 40; }
    });

    // Footer
    ctx.font = '500 14px Roboto, Arial, sans-serif';
    ctx.fillStyle = '#aab6c7';
    ctx.fillText('Generated for fun at SnipText • Private in-browser', 40, c.height-40);
  }

  // Download card
  $('#lovecalc-download-card').addEventListener('click', ()=>{
    const c = $('#lovecalc-canvas');
    const link = document.createElement('a');
    link.download = 'love-calculator-smart-compatibility-score-sniptext-card.png';
    link.href = c.toDataURL('image/png');
    link.click();
  });

  // Copy permalink button duplicates updatePermalink then copy
  $('#lovecalc-copy-link').addEventListener('dblclick', async ()=>{
    updatePermalink();
    try{ await navigator.clipboard.writeText(location.href); toast('Permalink copied'); }
    catch(e){ toast('Copy not allowed. Use the address bar.'); }
  });

  // Draw empty card at start
  drawCard({pair:'', score:0, badges:[], seed:hashStr('')});

  // Accessibility: enter to calculate
  ['lovecalc-name-a','lovecalc-name-b','lovecalc-date-a','lovecalc-date-b'].forEach(id=>{
    $('#'+id).addEventListener('keydown',(e)=>{ if(e.key==='Enter') doCalc(); });
  });
  </script>
</body>
</html>
