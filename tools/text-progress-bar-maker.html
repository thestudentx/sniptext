<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Text Progress Bar Maker - Show % Completion For Goals | SnipText</title>
  <meta name="description" content="Create beautiful text progress bars that show percent completion for goals. Linear and circular styles, gradients, stripes, milestones, labels, live preview, and one-click embed. Private, fast, and free." />
  <meta name="keywords" content="text progress bar maker, progress bar generator, percent completion bar, goal tracker bar, circular progress, radial progress, striped progress, gradient progress, milestone progress" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/text-progress-bar-maker" />
  <link rel="alternate" href="https://checkai.pro/tools/text-progress-bar-maker" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/text-progress-bar-maker" hreflang="x-default" />

  <!-- Styling -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Text Progress Bar Maker - Show % Completion For Goals" />
  <meta property="og:description" content="Design smooth linear and circular progress bars with gradients, stripes, and milestones. Export HTML, SVG, PNG." />
  <meta property="og:url" content="https://checkai.pro/tools/text-progress-bar-maker" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText Text Progress Bar Maker preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@SnipText" />
  <meta name="twitter:title" content="Text Progress Bar Maker - Show % Completion For Goals" />
  <meta name="twitter:description" content="Build stylish progress bars for your goals. Live preview, milestones, gradients, exports." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#1D4ED8" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

  <!-- Global CSS imports that your site already uses -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Structured Data: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText Text Progress Bar Maker",
    "url":"https://checkai.pro/tools/text-progress-bar-maker",
    "applicationCategory":"DesignApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "browserRequirements":"Requires JavaScript; works on modern browsers.",
    "featureList":[
      "Linear and circular text progress bars",
      "Gradients, stripes, glow and rounded caps",
      "Milestones with labels and tooltips",
      "Auto percent from current and goal",
      "One-click embed HTML and SVG export",
      "PNG snapshot download",
      "URL share with encoded settings"
    ],
    "screenshot":"https://checkai.pro/images/sniptext-default-tools-img",
    "publisher":{
      "@type":"Organization",
      "name":"Snip Text",
      "url":"https://checkai.pro/",
      "logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}
    }
  }
  </script>

  <!-- Structured Data: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Is the Text Progress Bar Maker private?","acceptedAnswer":{"@type":"Answer","text":"Yes. All changes happen locally in your browser. No uploads."}},
      {"@type":"Question","name":"Can I export SVG or PNG?","acceptedAnswer":{"@type":"Answer","text":"Yes. Use Export SVG for crisp embeds and Download PNG for images."}},
      {"@type":"Question","name":"How do milestones work?","acceptedAnswer":{"@type":"Answer","text":"Add milestone values or percentages with labels. They appear as ticks with tooltips on the bar or ring."}},
      {"@type":"Question","name":"Can I share a preset?","acceptedAnswer":{"@type":"Answer","text":"Yes. Click Share URL. Your configuration is encoded in the link."}}
    ]
  }
  </script>

  <!-- Structured Data: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://checkai.pro/"},
      {"@type":"ListItem","position":2,"name":"Free Tools","item":"https://checkai.pro/tools/free-tools"},
      {"@type":"ListItem","position":3,"name":"Text Progress Bar Maker","item":"https://checkai.pro/tools/text-progress-bar-maker"}
    ]
  }
  </script>

  <!-- Page styles (self-contained) -->
  <style>
    :root{
      /* Text Progress Bar Maker palette derived from brand codes directly */
      --progressbar-primary: #1D4ED8;   /* blue 700 */
      --progressbar-accent:  #3B82F6;   /* blue 500 */
      --progressbar-bg-dark: #0F172A;   /* slate 950 */
      --progressbar-bg-darker: #0b1120; /* slightly darker for depth */
      --progressbar-white: #ffffff;
      --progressbar-text-dim: #cbd5e1;
      --progressbar-border: #1f2a44;
      --progressbar-warm: #ff7c4c;      /* gradient end */
      --progressbar-warn: #e85d27;      /* brand used-often */
      --progressbar-ok:   #22c55e;
      --progressbar-danger:#ef4444;

      /* Gradients */
      --progressbar-hero-grad:
        radial-gradient(1200px 520px at 8% -10%, color-mix(in oklab, var(--progressbar-primary) 20%, transparent), transparent 60%),
        radial-gradient(900px 520px at 100% 0%, color-mix(in oklab, var(--progressbar-accent) 16%, transparent), transparent 60%),
        linear-gradient(180deg, var(--progressbar-bg-dark) 0%, #1d1f2f 100%);

      --progressbar-accent-grad-a: linear-gradient(90deg, var(--progressbar-primary), var(--progressbar-accent));
      --progressbar-accent-grad-b: linear-gradient(90deg, var(--progressbar-accent), var(--progressbar-warm));

      /* Card and glass */
      --progressbar-card: rgba(255,255,255,0.06);
      --progressbar-glass: rgba(255,255,255,0.08);
      --progressbar-glass-2: rgba(255,255,255,0.03);

      /* Layout */
      --progressbar-radius: 14px;
      --progressbar-radius-lg: 18px;
      --progressbar-maxw: 1200px;

      /* Motion */
      --progressbar-ease: cubic-bezier(.22,.61,.36,1);
      --progressbar-dur: 220ms;

      color-scheme: dark;
      font-family: 'Poppins','Roboto',system-ui,-apple-system,'Segoe UI','Helvetica Neue',Arial,sans-serif;
    }

    html,body{
      height:100%;
      margin:0;
      background: var(--progressbar-hero-grad) fixed no-repeat;
      background-size: cover;
      color: var(--progressbar-white);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    main#progressbar-maker-app{
      padding:48px 20px; min-height:72vh;
      display:flex; flex-direction:column; gap:18px; align-items:center;
    }

    .progressbar-maker-hero{width:100%;max-width:var(--progressbar-maxw)}
    .progressbar-maker-hero-inner{
      display:grid; grid-template-columns:1fr 470px; gap:28px; align-items:start;
      border:1px solid var(--progressbar-border);
      border-radius:var(--progressbar-radius-lg);
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      backdrop-filter: blur(10px);
      padding:18px;
      box-shadow: 0 16px 46px rgba(2,6,23,0.55);
      animation:progressbar-fade .35s var(--progressbar-ease) both;
    }
    @media (max-width:980px){ .progressbar-maker-hero-inner{grid-template-columns:1fr} }

    .progressbar-maker-title{
      margin:0 0 6px; font-weight:800; letter-spacing:.2px;
      font-size:clamp(1.75rem,2.6vw,2.35rem); line-height:1.18;
      background: var(--progressbar-accent-grad-b);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .progressbar-maker-subtitle{margin:0 0 14px; color:#cdd6f4; font-size:.98rem; max-width:70ch}

    .progressbar-maker-toolbar{
      display:flex; flex-wrap:wrap; gap:10px; margin-bottom:12px
    }
    .progressbar-maker-btn{
      background:var(--progressbar-glass);
      padding:10px 14px; border-radius:12px; border:1px solid var(--progressbar-border);
      cursor:pointer; backdrop-filter:blur(6px);
      font-weight:600; color:var(--progressbar-white);
      transition: transform var(--progressbar-dur) var(--progressbar-ease),
                  filter var(--progressbar-dur) var(--progressbar-ease),
                  box-shadow var(--progressbar-dur) var(--progressbar-ease);
    }
    .progressbar-maker-btn:hover{ transform:translateY(-2px); filter:brightness(1.06) }
    .progressbar-maker-btn-small{ padding:8px 10px; font-size:.9rem }
    .progressbar-maker-btn-outline{ background:transparent; border:1px solid color-mix(in oklab, #000 10%, var(--progressbar-border)) }
    .progressbar-maker-btn-ghost{ background:transparent; border:1px dashed color-mix(in oklab, #000 10%, var(--progressbar-border)) }

    /* Left: preview */
    .progressbar-maker-left{ display:grid; gap:12px }
    .progressbar-maker-preview-card{
      background: linear-gradient(180deg,var(--progressbar-glass-2),transparent);
      border:1px solid color-mix(in oklab, #000 6%, var(--progressbar-border));
      border-radius: 14px;
      padding:14px;
      display:grid; gap:12px;
    }
    .progressbar-maker-preview-stage{
      display:grid; gap:18px; min-height:120px;
      padding:12px; border-radius:12px;
      background: rgba(255,255,255,.03);
      border:1px dashed rgba(255,255,255,.08);
    }
    .progressbar-maker-preview-note{color: var(--progressbar-text-dim); font-size:.9rem}

    /* Linear bar */
    .progressbar-maker-linear-wrap{
      width:100%; display:grid; gap:8px;
    }
    .progressbar-maker-linear{
      position:relative; width:100%; height:18px; border-radius:999px;
      background: rgba(255,255,255,.08); border:1px solid var(--progressbar-border); overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
    }
    .progressbar-maker-linear-fill{
      position:absolute; inset:0 auto 0 0; width:0%;
      background: var(--progressbar-accent-grad-b);
      transition: width 360ms var(--progressbar-ease), filter 320ms var(--progressbar-ease);
      will-change: width;
    }
    .progressbar-maker-linear-striped{
      background-image: repeating-linear-gradient(45deg, rgba(255,255,255,.18) 0 12px, transparent 12px 24px);
      mix-blend-mode: screen; height:100%;
      animation:progressbar-stripes 12s linear infinite;
      opacity:.45; pointer-events:none;
    }
    .progressbar-maker-linear-label{
      display:flex; justify-content:space-between; align-items:center; font-size:.92rem; color:#e5e7eb;
    }

    /* Circular ring */
    .progressbar-maker-circular-wrap{ display:grid; grid-template-columns:120px 1fr; gap:14px; align-items:center }
    @media (max-width:540px){ .progressbar-maker-circular-wrap{ grid-template-columns:1fr } }
    .progressbar-maker-circular{
      width:120px; height:120px; display:grid; place-items:center; position:relative;
    }
    .progressbar-maker-circular svg{ transform:rotate(-90deg) }
    .progressbar-maker-circular text{
      font-weight:700; font-size:16px; fill:#e5e7eb;
    }
    .progressbar-maker-circular .progressbar-maker-circular-bg{ stroke:rgba(255,255,255,.12) }
    .progressbar-maker-circular .progressbar-maker-circular-fg{
      stroke-linecap:round; filter:drop-shadow(0 0 8px rgba(59,130,246,.45));
      transition: stroke-dashoffset 380ms var(--progressbar-ease);
    }

    /* Right: controls */
    .progressbar-maker-right{
      display:grid; gap:12px;
      border:1px solid var(--progressbar-border); background:var(--progressbar-card);
      border-radius:var(--progressbar-radius-lg); padding:14px;
    }
    .progressbar-maker-field{
      display:grid; gap:6px;
    }
    .progressbar-maker-label{ font-size:.9rem; color:#e2e8f0 }
    .progressbar-maker-input, .progressbar-maker-select{
      background:transparent; color:#fff; border:1px solid var(--progressbar-border);
      border-radius:10px; padding:9px 10px; outline:none; font-size:.95rem;
      transition:border-color var(--progressbar-dur) var(--progressbar-ease), box-shadow var(--progressbar-dur) var(--progressbar-ease);
    }
    .progressbar-maker-input:focus, .progressbar-maker-select:focus{
      border-color: var(--progressbar-accent);
      box-shadow: 0 0 0 3px rgba(59,130,246,.18);
    }
    .progressbar-maker-flex{ display:flex; gap:10px; flex-wrap:wrap; align-items:center }
    .progressbar-maker-checkbox{ display:inline-flex; align-items:center; gap:8px }

    /* Advanced cards */
    .progressbar-maker-advanced{
      margin-top:18px; width:100%; max-width:var(--progressbar-maxw);
      display:grid; grid-template-columns:1.1fr .9fr; gap:16px;
    }
    @media (max-width:992px){ .progressbar-maker-advanced{ grid-template-columns:1fr } }
    .progressbar-maker-card{
      border:1px solid var(--progressbar-border); background:var(--progressbar-card);
      border-radius:var(--progressbar-radius-lg); overflow:hidden;
    }
    .progressbar-maker-card-head{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:12px 14px;
      background: linear-gradient(90deg,
        color-mix(in oklab, var(--progressbar-primary) 14%, transparent),
        color-mix(in oklab, var(--progressbar-accent) 10%, transparent));
      border-bottom:1px solid var(--progressbar-border);
    }
    .progressbar-maker-card-title{ margin:0; font-size:12px; letter-spacing:.35px; text-transform:uppercase; opacity:.9 }
    .progressbar-maker-card-body{ padding:14px; display:grid; gap:12px }

    /* Milestones list */
    .progressbar-maker-milestones{ display:grid; gap:10px }
    .progressbar-maker-milestone-row{
      display:grid; grid-template-columns:1fr 1fr 40px; gap:10px; align-items:center;
    }
    @media (max-width:680px){ .progressbar-maker-milestone-row{ grid-template-columns:1fr 1fr } }
    .progressbar-maker-del{ background:transparent; border:1px solid var(--progressbar-border); border-radius:8px; padding:6px; cursor:pointer }
    .progressbar-maker-del:hover{ background:rgba(255,255,255,.06) }

    /* Output area */
    .progressbar-maker-output{
      width:100%; background:rgba(255,255,255,.04); border:1px solid var(--progressbar-border);
      border-radius:12px; padding:12px; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:.9rem;
      color:#e2e8f0; overflow:auto; max-height:260px;
    }

    /* Focus style */
    :where(.progressbar-maker-btn,.progressbar-maker-input,.progressbar-maker-select):focus-visible{
      outline:2px solid color-mix(in oklab, var(--progressbar-accent) 60%, white);
      outline-offset:2px;
    }

    /* Scrollbars */
    @supports (scrollbar-width:thin){
      #progressbar-maker-app *{ scrollbar-width:thin; scrollbar-color: rgba(255,255,255,.25) transparent; }
    }
    #progressbar-maker-app *::-webkit-scrollbar{ height:10px; width:10px }
    #progressbar-maker-app *::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.25); border-radius:999px }

    /* Animations */
    @keyframes progressbar-fade{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)} }
    @keyframes progressbar-stripes{ from{background-position:0 0} to{background-position:240px 0} }

    /* Helper */
    .progressbar-maker-muted{ color: var(--progressbar-text-dim); font-size:.92rem }
    .feature-card-all-pages {margin: 0 2rem;}
    .tools-grid {margin: 1rem; background: #0e1730;}
    .tool-card {background: #0f1b34;}
    @media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>



    


  
<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="/features.html">Features</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="/login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>




<main id="progressbar-maker-app" aria-label="Text Progress Bar Maker application">
  <section class="progressbar-maker-hero" aria-hidden="false">
    <div class="progressbar-maker-hero-inner">
      <!-- LEFT: live preview -->
      <div class="progressbar-maker-left">
        <h1 class="progressbar-maker-title">Text Progress Bar Maker</h1>
        <p class="progressbar-maker-subtitle">Show percent completion for goals with clean linear and circular bars. Use gradients, stripes, glow, milestones, labels, and export ready-to-embed HTML or SVG. Private and blazing fast.</p>

        <div class="progressbar-maker-preview-card">
          <div class="progressbar-maker-preview-stage" id="progressbar-maker-preview">
            <!-- Linear preview -->
            <div class="progressbar-maker-linear-wrap">
              <div class="progressbar-maker-linear" id="progressbar-maker-linear">
                <div class="progressbar-maker-linear-fill" id="progressbar-maker-linear-fill"></div>
                <div class="progressbar-maker-linear-striped" id="progressbar-maker-linear-striped" style="display:none;"></div>
              </div>
              <div class="progressbar-maker-linear-label">
                <span id="progressbar-maker-linear-text">Goal progress: <b>0%</b></span>
                <span class="progressbar-maker-muted" id="progressbar-maker-linear-meta">0 of 100</span>
              </div>
            </div>

            <!-- Circular preview -->
            <div class="progressbar-maker-circular-wrap">
              <div class="progressbar-maker-circular">
                <svg width="120" height="120" viewBox="0 0 120 120" role="img" aria-label="Circular progress">
                  <defs>
                    <linearGradient id="progressbar-maker-grad" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#3B82F6"/>
                      <stop offset="100%" stop-color="#ff7c4c"/>
                    </linearGradient>
                  </defs>
                  <circle class="progressbar-maker-circular-bg" cx="60" cy="60" r="52" stroke-width="12" fill="none"/>
                  <circle class="progressbar-maker-circular-fg" id="progressbar-maker-circ-fg" cx="60" cy="60" r="52" stroke-width="12" fill="none" stroke="url(#progressbar-maker-grad)" stroke-dasharray="327" stroke-dashoffset="327"/>
                  <text id="progressbar-maker-circ-text" x="50%" y="54%" text-anchor="middle" dominant-baseline="middle">0%</text>
                </svg>
              </div>
              <div>
                <div class="progressbar-maker-muted" id="progressbar-maker-circ-label">Project completion</div>
                <div class="progressbar-maker-muted">Style: <b id="progressbar-maker-style-label">Gradient</b> • Caps: <b id="progressbar-maker-caps-label">Rounded</b></div>
              </div>
            </div>

            <div class="progressbar-maker-preview-note">Tip: Toggle stripes or glow for subtle motion. Use milestones to pin key targets with labels and tooltips.</div>
          </div>

          <div class="progressbar-maker-toolbar" role="toolbar" aria-label="Progress bar actions">
            <button id="progressbar-maker-copy-embed" class="progressbar-maker-btn" title="Copy HTML embed">Copy embed</button>
            <button id="progressbar-maker-export-svg" class="progressbar-maker-btn progressbar-maker-btn-outline" title="Download SVG">Export SVG</button>
            <button id="progressbar-maker-download-png" class="progressbar-maker-btn progressbar-maker-btn-outline" title="Download PNG snapshot">Download PNG</button>
            <button id="progressbar-maker-share-url" class="progressbar-maker-btn progressbar-maker-btn-ghost" title="Share current settings">Share URL</button>
            <button id="progressbar-maker-reset" class="progressbar-maker-btn progressbar-maker-btn-ghost" title="Reset all">Reset</button>
          </div>
        </div>
      </div>

      <!-- RIGHT: controls -->
      <aside class="progressbar-maker-right">
        <div class="progressbar-maker-field">
          <label class="progressbar-maker-label" for="progressbar-maker-current">Current value</label>
          <input id="progressbar-maker-current" class="progressbar-maker-input" type="number" min="0" value="0" />
        </div>
        <div class="progressbar-maker-field">
          <label class="progressbar-maker-label" for="progressbar-maker-goal">Goal value</label>
          <input id="progressbar-maker-goal" class="progressbar-maker-input" type="number" min="1" value="100" />
        </div>

        <div class="progressbar-maker-flex">
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-style">Style</label>
            <select id="progressbar-maker-style" class="progressbar-maker-select">
              <option value="gradient" selected>Gradient</option>
              <option value="solid">Solid</option>
              <option value="warm">Blue to warm</option>
            </select>
          </div>
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-shape">Shape</label>
            <select id="progressbar-maker-shape" class="progressbar-maker-select">
              <option value="linear" selected>Linear</option>
              <option value="circular">Circular</option>
              <option value="both">Both</option>
            </select>
          </div>
        </div>

        <div class="progressbar-maker-flex">
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-height">Linear height (px)</label>
            <input id="progressbar-maker-height" class="progressbar-maker-input" type="number" min="6" max="40" value="18" />
          </div>
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-radius">Linear radius (px)</label>
            <input id="progressbar-maker-radius" class="progressbar-maker-input" type="number" min="0" max="40" value="999" />
          </div>
        </div>

        <div class="progressbar-maker-flex">
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-ring-size">Circular size (px)</label>
            <input id="progressbar-maker-ring-size" class="progressbar-maker-input" type="number" min="80" max="220" value="120" />
          </div>
          <div class="progressbar-maker-field" style="min-width:140px;flex:1">
            <label class="progressbar-maker-label" for="progressbar-maker-ring-thick">Circular thickness (px)</label>
            <input id="progressbar-maker-ring-thick" class="progressbar-maker-input" type="number" min="6" max="24" value="12" />
          </div>
        </div>

        <div class="progressbar-maker-flex">
          <label class="progressbar-maker-checkbox">
            <input type="checkbox" id="progressbar-maker-striped" /> <span>Striped fill</span>
          </label>
          <label class="progressbar-maker-checkbox">
            <input type="checkbox" id="progressbar-maker-glow" checked /> <span>Glow</span>
          </label>
          <label class="progressbar-maker-checkbox">
            <input type="checkbox" id="progressbar-maker-rounded" checked /> <span>Rounded caps</span>
          </label>
          <label class="progressbar-maker-checkbox">
            <input type="checkbox" id="progressbar-maker-show-labels" checked /> <span>Show labels</span>
          </label>
        </div>

        <div class="progressbar-maker-field">
          <label class="progressbar-maker-label" for="progressbar-maker-title">Title label</label>
          <input id="progressbar-maker-title" class="progressbar-maker-input" type="text" value="Goal progress" />
        </div>
        <div class="progressbar-maker-field">
          <label class="progressbar-maker-label" for="progressbar-maker-decimals">Percent decimals</label>
          <input id="progressbar-maker-decimals" class="progressbar-maker-input" type="number" min="0" max="3" value="0" />
        </div>
      </aside>
    </div>

    <!-- Advanced panels -->
    <div class="progressbar-maker-advanced">
      <!-- Milestones -->
      <section class="progressbar-maker-card" aria-labelledby="progressbar-maker-milestones-title">
        <div class="progressbar-maker-card-head">
          <h2 id="progressbar-maker-milestones-title" class="progressbar-maker-card-title">Milestones</h2>
          <button id="progressbar-maker-add-milestone" class="progressbar-maker-btn progressbar-maker-btn-small">Add milestone</button>
        </div>
        <div class="progressbar-maker-card-body">
          <div class="progressbar-maker-milestones" id="progressbar-maker-milestones"></div>
          <div class="progressbar-maker-muted">Add value or percent (use 50% for percent). Labels appear as ticks with tooltips.</div>
        </div>
      </section>

      <!-- Embed & exports -->
      <section class="progressbar-maker-card" aria-labelledby="progressbar-maker-embed-title">
        <div class="progressbar-maker-card-head">
          <h2 id="progressbar-maker-embed-title" class="progressbar-maker-card-title">Embed & Export</h2>
          <div class="progressbar-maker-muted">Copy, SVG, PNG, and shareable URL</div>
        </div>
        <div class="progressbar-maker-card-body">
          <pre class="progressbar-maker-output" id="progressbar-maker-embed-code" aria-label="Embed code"></pre>
          <div class="progressbar-maker-flex">
            <button id="progressbar-maker-copy-code" class="progressbar-maker-btn progressbar-maker-btn-small">Copy code</button>
            <button id="progressbar-maker-export-svg-2" class="progressbar-maker-btn progressbar-maker-btn-small progressbar-maker-btn-outline">Export SVG</button>
            <button id="progressbar-maker-download-png-2" class="progressbar-maker-btn progressbar-maker-btn-small progressbar-maker-btn-outline">Download PNG</button>
            <button id="progressbar-maker-share-url-2" class="progressbar-maker-btn progressbar-maker-btn-small progressbar-maker-btn-ghost">Share URL</button>
          </div>
        </div>
      </section>
    </div>
  </section>

  <!-- Help link to Blog if needed -->
  <div class="free-tools-guide">
    <p class="free-tools-guide-p">Read a quick guide on the SnipText Blog <a href="/blog/blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>
</main>

  

  


      <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

    <article class="tool-card" tabindex="0" data-href="/tools/emoji-replacer.html" aria-labelledby="t5">
      <div class="card-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="svg-icon">
          <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.4" fill="none"/>
          <path d="M8 10h.01M16 10h.01M8 15s1.5 1.5 4 1.5 4-1.5 4-1.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t5" class="card-title">Emoji Replacer</h3>
      <p class="card-desc">Replace words with emojis, convert emoticons to emojis, or remove emoji characters from text.</p>
      <a class="card-cta" href="/tools/emoji-replacer.html" aria-label="Open Emoji Replacer">Open →</a>
    </article>

    <article class="tool-card" tabindex="0" data-href="/tools/case-converter.html" aria-labelledby="t2">
      <div class="card-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="svg-icon">
          <path d="M4 20h16M8 4l4 8 4-8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t2" class="card-title">Case Converter</h3>
      <p class="card-desc">Switch between uppercase, lowercase, sentence case, title case and alternating case with one click.</p>
      <a class="card-cta" href="/tools/case-converter.html" aria-label="Open Case Converter">Open →</a>
    </article>

    <article class="tool-card" tabindex="0" data-href="/tools/word-counter.html" aria-labelledby="t1">
      <div class="card-icon" aria-hidden="true">
        <!-- simple SVG icon -->
        <svg viewBox="0 0 24 24" class="svg-icon">
          <path d="M4 6h16M4 12h10M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t1" class="card-title">Word & Character Counter</h3>
      <p class="card-desc">Instantly count words, characters, sentences and lines. Live updates as you type or paste text.</p>
      <a class="card-cta" href="/tools/word-counter.html" aria-label="Open Word & Character Counter">Open →</a>
    </article>

    <article class="tool-card" tabindex="0" data-href="/tools/random-text-generator.html" aria-labelledby="t10">
        <div class="card-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="svg-icon">
            <path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
        </div>
        <h3 id="t10" class="card-title">Random Text Generator</h3>
        <p class="card-desc">Generate placeholder text: lorem ipsum, short sentences, and dummy paragraphs for testing layouts.</p>
        <a class="card-cta" href="/tools/random-text-generator.html" aria-label="Open Random Text Generator">Open →</a>
    </article>

  </section>




  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="privacy-policy.html">Privacy Policy</a>
      <a href="terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        · All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>





  <!-- Include the JavaScript file for this page -->
<script src="/js/index.js?v=reset1" defer></script>
  <script src="/js/auth.js?v=reset1"></script>
<script src="/tools/js/free-tools.js?v=reset1"></script>

<script>
(function(){
  // Shortcuts to elements
  const $ = (s,root=document)=>root.querySelector(s);
  const $$ = (s,root=document)=>Array.from(root.querySelectorAll(s));

  // Inputs
  const elCurrent = $('#progressbar-maker-current');
  const elGoal = $('#progressbar-maker-goal');
  const elStyle = $('#progressbar-maker-style');
  const elShape = $('#progressbar-maker-shape');
  const elHeight = $('#progressbar-maker-height');
  const elRadius = $('#progressbar-maker-radius');
  const elRingSize = $('#progressbar-maker-ring-size');
  const elRingThick = $('#progressbar-maker-ring-thick');
  const elStriped = $('#progressbar-maker-striped');
  const elGlow = $('#progressbar-maker-glow');
  const elRounded = $('#progressbar-maker-rounded');
  const elShowLabels = $('#progressbar-maker-show-labels');
  const elTitle = $('#progressbar-maker-title');
  const elDecimals = $('#progressbar-maker-decimals');

  // Preview pieces
  const elLinear = $('#progressbar-maker-linear');
  const elLinearFill = $('#progressbar-maker-linear-fill');
  const elLinearStripe = $('#progressbar-maker-linear-striped');
  const elLinearText = $('#progressbar-maker-linear-text');
  const elLinearMeta = $('#progressbar-maker-linear-meta');

  const elCircFG = $('#progressbar-maker-circ-fg');
  const elCircText = $('#progressbar-maker-circ-text');
  const elCircLabel = $('#progressbar-maker-circ-label');
  const elStyleLabel = $('#progressbar-maker-style-label');
  const elCapsLabel = $('#progressbar-maker-caps-label');

  const elEmbed = $('#progressbar-maker-embed-code');

  const elAddMilestone = $('#progressbar-maker-add-milestone');
  const elMilestones = $('#progressbar-maker-milestones');

  // Toolbar buttons
  const btnCopyEmbed = $('#progressbar-maker-copy-embed');
  const btnExportSvg = $('#progressbar-maker-export-svg');
  const btnDownloadPng = $('#progressbar-maker-download-png');
  const btnShareUrl = $('#progressbar-maker-share-url');
  const btnReset = $('#progressbar-maker-reset');

  // Secondary toolbar
  const btnCopyCode = $('#progressbar-maker-copy-code');
  const btnExportSvg2 = $('#progressbar-maker-export-svg-2');
  const btnDownloadPng2 = $('#progressbar-maker-download-png-2');
  const btnShareUrl2 = $('#progressbar-maker-share-url-2');

  // State
  let milestones = [];

  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function parsePercent(str, goal){
    // accepts "50" or "50%" or raw value
    if(typeof str === 'string' && str.trim().endsWith('%')){
      const p = parseFloat(str);
      return clamp(isFinite(p) ? p : 0, 0, 100);
    }
    const val = parseFloat(str);
    if(!isFinite(val) || goal <= 0) return 0;
    return clamp((val/goal)*100, 0, 100);
  }

  function getPercent(){
    const current = parseFloat(elCurrent.value) || 0;
    const goal = Math.max(1, parseFloat(elGoal.value)||100);
    return clamp((current/goal)*100, 0, 100);
  }

  function fmtPct(p){
    const d = clamp(parseInt(elDecimals.value,10)||0, 0, 3);
    return p.toFixed(d);
  }

  function updateLinear(percent){
    elLinear.style.height = clamp(parseInt(elHeight.value)||18, 6, 40) + 'px';
    const rad = parseInt(elRadius.value);
    elLinear.style.borderRadius = isFinite(rad) ? rad + 'px' : '999px';
    elLinearFill.style.width = percent + '%';

    // style fill
    const style = elStyle.value;
    if(style === 'solid'){
      elLinearFill.style.background = '#3B82F6';
    }else if(style === 'warm'){
      elLinearFill.style.background = 'linear-gradient(90deg,#3B82F6,#ff7c4c)';
    }else{
      elLinearFill.style.background = 'linear-gradient(90deg,#1D4ED8,#3B82F6)';
    }

    // stripes
    elLinearStripe.style.display = elStriped.checked ? 'block' : 'none';

    // label
    const current = parseFloat(elCurrent.value)||0;
    const goal = Math.max(1, parseFloat(elGoal.value)||100);
    if(elShowLabels.checked){
      elLinearText.innerHTML = (elTitle.value||'Goal progress') + ': <b>' + fmtPct(percent) + '%</b>';
      elLinearMeta.textContent = current + ' of ' + goal;
      elLinearText.parentElement.style.display = '';
    }else{
      elLinearText.parentElement.style.display = 'none';
    }

    // milestones ticks
    renderLinearMilestones(goal);
  }

  function renderLinearMilestones(goal){
    // remove existing ticks
    $$('.progressbar-maker-tick', elLinear).forEach(n=>n.remove());
    milestones.forEach(m=>{
      const p = parsePercent(m.value, goal);
      const tick = document.createElement('div');
      tick.className = 'progressbar-maker-tick';
      tick.style.position = 'absolute';
      tick.style.top = '0';
      tick.style.bottom = '0';
      tick.style.width = '2px';
      tick.style.left = 'calc(' + p + '% - 1px)';
      tick.style.background = 'rgba(255,255,255,.6)';
      tick.style.opacity = '.9';
      tick.title = (m.label||'Milestone') + ' • ' + fmtPct(p) + '%';
      elLinear.appendChild(tick);
    });
  }

  function updateCircular(percent){
    const size = clamp(parseInt(elRingSize.value)||120, 80, 220);
    const thick = clamp(parseInt(elRingThick.value)||12, 6, 24);
    const radius = Math.max(10, (size/2) - thick - 6);
    const circumference = 2 * Math.PI * radius;

    const svg = elCircFG.closest('svg');
    svg.setAttribute('width', size);
    svg.setAttribute('height', size);
    const bg = svg.querySelector('.progressbar-maker-circular-bg');
    bg.setAttribute('r', radius);
    bg.setAttribute('stroke-width', thick);

    elCircFG.setAttribute('r', radius);
    elCircFG.setAttribute('stroke-width', thick);
    elCircFG.setAttribute('stroke-dasharray', circumference.toFixed(1));
    const dash = ((100 - percent)/100) * circumference;
    elCircFG.setAttribute('stroke-dashoffset', dash.toFixed(1));
    elCircText.textContent = fmtPct(percent) + '%';

    // caps
    elCircFG.style.strokeLinecap = elRounded.checked ? 'round' : 'butt';
    elCapsLabel.textContent = elRounded.checked ? 'Rounded' : 'Butt';

    // style
    const style = elStyle.value;
    const grad = svg.querySelector('#progressbar-maker-grad stop:nth-child(1)');
    const grad2 = svg.querySelector('#progressbar-maker-grad stop:nth-child(2)');
    if(style === 'solid'){
      grad.setAttribute('stop-color', '#3B82F6');
      grad2.setAttribute('stop-color', '#3B82F6');
      $('#progressbar-maker-style-label').textContent = 'Solid';
    }else if(style === 'warm'){
      grad.setAttribute('stop-color', '#3B82F6');
      grad2.setAttribute('stop-color', '#ff7c4c');
      $('#progressbar-maker-style-label').textContent = 'Blue to warm';
    }else{
      grad.setAttribute('stop-color', '#1D4ED8');
      grad2.setAttribute('stop-color', '#3B82F6');
      $('#progressbar-maker-style-label').textContent = 'Gradient';
    }

    // glow
    elCircFG.style.filter = elGlow.checked ? 'drop-shadow(0 0 8px rgba(59,130,246,.45))' : 'none';

    // label
    elCircLabel.textContent = (elTitle.value||'Project completion');

    // milestones dots
    renderCircularMilestones(svg, radius, percent);
  }

  function renderCircularMilestones(svg, r){
    // purge old
    $$('.progressbar-maker-dot', svg).forEach(n=>n.remove());
    const goal = Math.max(1, parseFloat(elGoal.value)||100);
    milestones.forEach(m=>{
      const p = parsePercent(m.value, goal);
      const theta = (Math.PI * 2) * (p/100) - Math.PI/2; // start at top
      const cx = 60 + (r) * Math.cos(theta);
      const cy = 60 + (r) * Math.sin(theta);
      const dot = document.createElementNS('http://www.w3.org/2000/svg','circle');
      dot.setAttribute('class','progressbar-maker-dot');
      dot.setAttribute('cx', cx.toFixed(1));
      dot.setAttribute('cy', cy.toFixed(1));
      dot.setAttribute('r', 3.2);
      dot.setAttribute('fill', '#e2e8f0');
      dot.setAttribute('opacity', '0.9');
      dot.setAttribute('data-title', (m.label||'Milestone') + ' • ' + fmtPct(p) + '%');
      svg.appendChild(dot);
      // simple tooltip on title
      dot.addEventListener('mouseenter', ()=>{ svg.setAttribute('aria-label', dot.getAttribute('data-title')); });
    });
  }

  function updateVisibility(){
    const shape = elShape.value;
    const linearWrap = $('.progressbar-maker-linear-wrap');
    const circularWrap = $('.progressbar-maker-circular-wrap');
    linearWrap.style.display = (shape === 'linear' || shape === 'both') ? '' : 'none';
    circularWrap.style.display = (shape === 'circular' || shape === 'both') ? '' : 'none';
  }

  function exportEmbed(){
    const current = parseFloat(elCurrent.value)||0;
    const goal = Math.max(1, parseFloat(elGoal.value)||100);
    const percent = getPercent();
    const style = elStyle.value;
    const height = clamp(parseInt(elHeight.value)||18, 6, 40);
    const radius = parseInt(elRadius.value);
    const rounded = elRounded.checked;

    const linearHtml =
`<div class="sniptext-progressbar-linear" style="height:${height}px;border-radius:${isFinite(radius)?radius:999}px;background:rgba(255,255,255,.12);position:relative;overflow:hidden;">
  <i class="sniptext-progressbar-fill" style="position:absolute;inset:0 auto 0 0;width:${percent.toFixed(0)}%;background:${style==='solid' ? '#3B82F6' : (style==='warm' ? 'linear-gradient(90deg,#3B82F6,#ff7c4c)' : 'linear-gradient(90deg,#1D4ED8,#3B82F6)')};${rounded?'border-radius:999px;':''}"></i>
</div>`;

    const size = clamp(parseInt(elRingSize.value)||120, 80, 220);
    const thick = clamp(parseInt(elRingThick.value)||12, 6, 24);
    const radius2 = Math.max(10, (size/2) - thick - 6);
    const circ = 2*Math.PI*radius2;
    const dash = ((100 - percent)/100) * circ;

    const circularHtml =
`<svg class="sniptext-progressbar-circular" width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" aria-label="Progress ${percent.toFixed(0)}%">
  <defs>
    <linearGradient id="sniptext-progressbar-grad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="${style==='solid' ? '#3B82F6' : (style==='warm' ? '#3B82F6' : '#1D4ED8')}" />
      <stop offset="100%" stop-color="${style==='solid' ? '#3B82F6' : (style==='warm' ? '#ff7c4c' : '#3B82F6')}" />
    </linearGradient>
  </defs>
  <circle cx="${size/2}" cy="${size/2}" r="${radius2}" stroke="rgba(0,0,0,.15)" stroke-width="${thick}" fill="none"/>
  <circle cx="${size/2}" cy="${size/2}" r="${radius2}" stroke="url(#sniptext-progressbar-grad)" stroke-width="${thick}" fill="none"
          transform="rotate(-90 ${size/2} ${size/2})"
          stroke-linecap="${rounded?'round':'butt'}"
          stroke-dasharray="${circ.toFixed(1)}" stroke-dashoffset="${dash.toFixed(1)}"/>
  <text x="50%" y="54%" text-anchor="middle" dominant-baseline="middle" fill="#e5e7eb" font-size="16" font-weight="700">${percent.toFixed(0)}%</text>
</svg>`;

    const shape = elShape.value;
    let out = '';
    if(shape === 'linear') out = linearHtml;
    else if(shape === 'circular') out = circularHtml;
    else out = linearHtml + '\n\n' + circularHtml;

    elEmbed.textContent = out;
    return out;
  }

  function render(){
    const percent = getPercent();
    updateVisibility();
    updateLinear(percent);
    updateCircular(percent);
    exportEmbed();
  }

  // Milestone UI
  function addMilestoneRow(initial = {value:'50%', label:'Halfway'}){
    const row = document.createElement('div');
    row.className = 'progressbar-maker-milestone-row';
    row.innerHTML = `
      <input class="progressbar-maker-input progressbar-maker-milestone-value" placeholder="Value or % (e.g., 500 or 50%)" value="${initial.value}">
      <input class="progressbar-maker-input progressbar-maker-milestone-label" placeholder="Label" value="${initial.label}">
      <button class="progressbar-maker-del" title="Remove">✕</button>
    `;
    const valEl = $('.progressbar-maker-milestone-value', row);
    const lblEl = $('.progressbar-maker-milestone-label', row);
    const delEl = $('.progressbar-maker-del', row);

    valEl.addEventListener('input', saveMilestones);
    lblEl.addEventListener('input', saveMilestones);
    delEl.addEventListener('click', ()=>{
      row.remove();
      saveMilestones();
    });

    elMilestones.appendChild(row);
    saveMilestones();
  }

  function saveMilestones(){
    milestones = $$('.progressbar-maker-milestone-row', elMilestones).map(r=>({
      value: $('.progressbar-maker-milestone-value', r).value,
      label: $('.progressbar-maker-milestone-label', r).value
    }));
    render();
  }

  // PNG snapshot via canvas
  async function downloadPNG(){
    const node = $('#progressbar-maker-preview');
    const scale = window.devicePixelRatio || 1;
    const svgElems = node.querySelectorAll('svg');
    // Inline fonts and styles are already ok for simple snapshot with foreignObject
    const xml = new XMLSerializer().serializeToString(node.cloneNode(true));
    const blob = new Blob([`<svg xmlns="http://www.w3.org/2000/svg" width="${node.clientWidth*scale}" height="${node.clientHeight*scale}">
      <foreignObject width="100%" height="100%" transform="scale(${scale})">
        ${xml}
      </foreignObject>
    </svg>`], {type:'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(blob);

    const img = new Image();
    img.crossOrigin = 'anonymous';
    img.src = url;
    await new Promise(res=>{ img.onload = res; });
    const canvas = document.createElement('canvas');
    canvas.width = node.clientWidth*scale;
    canvas.height = node.clientHeight*scale;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0);
    URL.revokeObjectURL(url);

    canvas.toBlob(b=>{
      const a = document.createElement('a');
      a.href = URL.createObjectURL(b);
      a.download = 'sniptext-progress-bar.png';
      a.click();
      URL.revokeObjectURL(a.href);
    }, 'image/png');
  }

  function exportSVG(){
    // Export circular or linear SVG. If shape is linear only, wrap linear in an SVG foreignObject.
    const shape = elShape.value;
    const code = exportEmbed();
    let svgOut = '';
    if(shape === 'circular'){
      svgOut = code;
    }else{
      // wrap linear HTML in SVG foreignObject for portability
      const width = 600, height = clamp(parseInt(elHeight.value)||18, 6, 40) + 24;
      svgOut = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}">
  <foreignObject x="0" y="0" width="100%" height="100%">
    <div xmlns="http://www.w3.org/1999/xhtml" style="padding:12px;background:transparent;color:#fff;font-family:system-ui,Segoe UI,Roboto,Arial;">
${code.replace(/</g,'&lt;').replace(/>/g,'&gt;')}
    </div>
  </foreignObject>
</svg>`;
    }
    const blob = new Blob([svgOut], {type:'image/svg+xml'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'sniptext-progress-bar.svg';
    a.click();
    URL.revokeObjectURL(a.href);
  }

  function copy(text){
    navigator.clipboard.writeText(text).then(()=>{},()=>{});
  }

  function shareUrl(){
    const params = new URLSearchParams();
    params.set('c', elCurrent.value);
    params.set('g', elGoal.value);
    params.set('s', elStyle.value);
    params.set('sh', elShape.value);
    params.set('h', elHeight.value);
    params.set('r', elRadius.value);
    params.set('rs', elRingSize.value);
    params.set('rt', elRingThick.value);
    params.set('st', elStriped.checked ? 1 : 0);
    params.set('gl', elGlow.checked ? 1 : 0);
    params.set('rc', elRounded.checked ? 1 : 0);
    params.set('lb', elShowLabels.checked ? 1 : 0);
    params.set('t', encodeURIComponent(elTitle.value||''));
    params.set('d', elDecimals.value);
    if(milestones.length){
      params.set('m', encodeURIComponent(JSON.stringify(milestones)));
    }
    const link = location.origin + '/tools/text-progress-bar-maker?' + params.toString();
    copy(link);
    alert('Share URL copied');
  }

  function loadFromUrl(){
    const q = new URLSearchParams(location.search);
    if(!q.has('g') && !q.has('c')) return;
    elCurrent.value = q.get('c') || elCurrent.value;
    elGoal.value = q.get('g') || elGoal.value;
    elStyle.value = q.get('s') || elStyle.value;
    elShape.value = q.get('sh') || elShape.value;
    elHeight.value = q.get('h') || elHeight.value;
    elRadius.value = q.get('r') || elRadius.value;
    elRingSize.value = q.get('rs') || elRingSize.value;
    elRingThick.value = q.get('rt') || elRingThick.value;
    elStriped.checked = q.get('st') === '1' ? true : elStriped.checked;
    elGlow.checked = q.get('gl') === '1' ? true : elGlow.checked;
    elRounded.checked = q.get('rc') === '1' ? true : elRounded.checked;
    elShowLabels.checked = q.get('lb') === '1' ? true : elShowLabels.checked;
    const t = q.get('t'); if(t) elTitle.value = decodeURIComponent(t);
    const d = q.get('d'); if(d) elDecimals.value = d;
    const m = q.get('m');
    if(m){
      try{ milestones = JSON.parse(decodeURIComponent(m)); }catch(e){}
      elMilestones.innerHTML = '';
      milestones.forEach(ms=> addMilestoneRow(ms));
    }
    render();
  }

  // Events
  [elCurrent, elGoal, elStyle, elShape, elHeight, elRadius, elRingSize, elRingThick, elStriped, elGlow, elRounded, elShowLabels, elTitle, elDecimals]
    .forEach(el=> el.addEventListener('input', render));

  elAddMilestone.addEventListener('click', ()=> addMilestoneRow({value: '50%', label: 'Halfway'}));

  btnCopyEmbed.addEventListener('click', ()=>{ copy(exportEmbed()); alert('Embed code copied'); });
  btnExportSvg.addEventListener('click', exportSVG);
  btnDownloadPng.addEventListener('click', downloadPNG);
  btnShareUrl.addEventListener('click', shareUrl);
  btnReset.addEventListener('click', ()=>{
    elCurrent.value = 0; elGoal.value = 100; elStyle.value = 'gradient'; elShape.value='linear';
    elHeight.value = 18; elRadius.value = 999; elRingSize.value=120; elRingThick.value=12;
    elStriped.checked=false; elGlow.checked=true; elRounded.checked=true; elShowLabels.checked=true;
    elTitle.value='Goal progress'; elDecimals.value=0;
    elMilestones.innerHTML=''; milestones=[];
    render();
  });

  btnCopyCode.addEventListener('click', ()=>{ copy(elEmbed.textContent); alert('Embed code copied'); });
  btnExportSvg2.addEventListener('click', exportSVG);
  btnDownloadPng2.addEventListener('click', downloadPNG);
  btnShareUrl2.addEventListener('click', shareUrl);

  // Init
  addMilestoneRow({value:'25%', label:'Kickoff'});
  addMilestoneRow({value:'75%', label:'Almost done'});
  loadFromUrl();
  render();
})();
</script>
</body>
</html>
