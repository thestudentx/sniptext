<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date());
    gtag('config','G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script>
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>HTML CSS JS Minifier and Beautifier - Fast, Private, Smart Options | SnipText</title>
  <meta name="description" content="Minify or beautify HTML, CSS and JavaScript with smart options. Paste or drop files, auto detect language, live HTML preview, batch tabs, gzip size estimate, copy and download. Runs fully in your browser." />
  <meta name="keywords" content="html minifier, css minifier, js minifier, javascript beautifier, html beautifier, css formatter, code compressor, online minifier, code pretty print, private in browser" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/html-css-js-minifier-beautifier" />
  <link rel="alternate" href="https://checkai.pro/tools/html-css-js-minifier-beautifier" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/html-css-js-minifier-beautifier" hreflang="x-default" />

  <!-- Styles -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="HTML CSS JS Minifier and Beautifier" />
  <meta property="og:description" content="Fast, private and clean code minify and pretty print with unique extras like live HTML preview and gzip size estimate." />
  <meta property="og:url" content="https://checkai.pro/tools/html-css-js-minifier-beautifier" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="HTML CSS JS Minifier and Beautifier tool screenshot" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="HTML CSS JS Minifier and Beautifier" />
  <meta name="twitter:description" content="Minify and beautify HTML, CSS and JS in your browser. Drag and drop, live preview, batch tabs, gzip estimate and copy or download instantly." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#0F172A" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- Fonts (brand stack) -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>

  <!-- Structured Data: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText HTML CSS JS Minifier and Beautifier",
    "url":"https://checkai.pro/tools/html-css-js-minifier-beautifier",
    "applicationCategory":"DeveloperApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "featureList":[
      "Minify or beautify HTML, CSS and JS",
      "Auto language detection and batch tabs",
      "Live HTML preview sandbox",
      "Gzip size estimate using browser compression",
      "Drag and drop files or paste",
      "Copy, download and tiny share link",
      "Whitespace and case options, safe JS mode"
    ],
    "publisher":{"@type":"Organization","name":"SnipText","logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}}
  }
  </script>

  <style>
  /* =============================================================
     SNIPTEXT • HTML CSS JS MINIFIER AND BEAUTIFIER
     Single file • dark theme • brand gradients
     Prefix: htmcssjs- (from HTML CSS JS)
     CSS vars include tool words like --minify and --beautify
  ============================================================= */
  :root{
    /* Brand palette mapped into tool specific vars */
    --htmcssjs-primary:#1D4ED8;  /* color-primary */
    --htmcssjs-accent:#3B82F6;   /* color-accent */
    --htmcssjs-bg-dark:#0F172A;  /* color-bg-dark */
    --htmcssjs-bg-soft:#1d1f2f;  /* color-footer-bg */
    --htmcssjs-white:#ffffff;
    --htmcssjs-text:#E6EEF8;
    --htmcssjs-muted:#9FB0C7;
    --htmcssjs-border:rgba(255,255,255,.14);
    --htmcssjs-warm:#ff7c4c;     /* gradient cta end */
    --htmcssjs-often:#e85d27;    /* used often */

    /* Tool intent names baked into tokens */
    --minify-glow:#10B981;       /* success green */
    --beautify-glow:#F59E0B;     /* amber */

    --htmcssjs-radius-xl:20px;
    --htmcssjs-radius-lg:14px;
    --htmcssjs-radius-md:10px;

    --htmcssjs-shadow-1:0 10px 30px rgba(0,0,0,.35);
    --htmcssjs-shadow-2:0 18px 48px rgba(17,24,39,.46);

    color-scheme: dark;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--htmcssjs-text);
    font-family:'Roboto','Poppins','Segoe UI',system-ui,-apple-system,Arial,sans-serif;
    background:
      radial-gradient(1100px 520px at 14% -10%, color-mix(in oklab, var(--htmcssjs-primary) 22%, transparent), transparent 60%),
      radial-gradient(900px 500px at 100% 0%, color-mix(in oklab, var(--htmcssjs-accent) 20%, transparent), transparent 52%),
      radial-gradient(800px 520px at 0% 100%, color-mix(in oklab, var(--htmcssjs-warm) 12%, transparent), transparent 58%),
      linear-gradient(180deg, var(--htmcssjs-bg-dark) 0%, var(--htmcssjs-bg-soft) 100%);
    background-attachment: fixed;
  }

  .htmcssjs-main{ width:min(1200px,92vw); margin: clamp(16px,3vw,40px) auto 80px; }

  /* Hero */
  .htmcssjs-hero{ display:grid; grid-template-columns:1.1fr .9fr; gap: clamp(14px,2.4vw,22px); align-items:center; border:1px solid var(--htmcssjs-border); border-radius:var(--htmcssjs-radius-xl); padding: clamp(18px,3vw,28px); background: linear-gradient(135deg, color-mix(in oklab, var(--htmcssjs-primary) 18%, transparent), color-mix(in oklab, var(--htmcssjs-accent) 16%, transparent)) border-box; backdrop-filter: blur(8px); box-shadow: var(--htmcssjs-shadow-1); position:relative; overflow:hidden }
  .htmcssjs-hero::after{ content:""; position:absolute; inset:-3px; filter: blur(16px); opacity:.6; pointer-events:none; background: radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--htmcssjs-primary) 26%, transparent), transparent 65%), radial-gradient(460px 280px at 86% 0%, color-mix(in oklab, var(--htmcssjs-accent) 22%, transparent), transparent 62%) }
  @media (max-width:980px){ .htmcssjs-hero{ grid-template-columns:1fr } }

  .htmcssjs-title{ margin:0 0 6px; font-weight:800; letter-spacing:.2px; line-height:1.12; font-family:'Poppins','Segoe UI',sans-serif; font-size: clamp(22px,3.2vw,36px); background: linear-gradient(90deg,#fff, color-mix(in oklab, var(--htmcssjs-accent) 54%, #fff) 38%, color-mix(in oklab, var(--htmcssjs-warm) 40%, #fff) 78%, #fff); -webkit-background-clip:text; background-clip:text; color:transparent }
  .htmcssjs-sub{ margin:6px 0 0; color:var(--htmcssjs-muted); font-size:clamp(14px,1.8vw,16px) }
  .htmcssjs-badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px }
  .htmcssjs-badge{ padding:6px 10px; border:1px solid var(--htmcssjs-border); border-radius:999px; background: color-mix(in oklab, var(--htmcssjs-bg-dark) 72%, transparent); color:#dbe7ff; font-size:.82rem }

  .htmcssjs-hero-art svg{ justify-self:end; width:min(260px,42vw); height:auto; display:block; color:#d6e2ff }

  /* Grid */
  .htmcssjs-grid{ margin-top: clamp(14px,2.6vw,24px); display:grid; grid-template-columns: 1fr 1fr; gap: clamp(12px,2.4vw,20px) }
  @media (max-width:1100px){ .htmcssjs-grid{ grid-template-columns:1fr } }

  /* Cards */
  .htmcssjs-card{ border:1px solid var(--htmcssjs-border); border-radius:var(--htmcssjs-radius-lg); background: rgba(255,255,255,.06); box-shadow: var(--htmcssjs-shadow-2); backdrop-filter: blur(10px); overflow:hidden }
  .htmcssjs-card-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px; background: linear-gradient(90deg, color-mix(in oklab, var(--htmcssjs-primary) 12%, transparent), color-mix(in oklab, var(--htmcssjs-accent) 10%, transparent) ); border-bottom:1px solid var(--htmcssjs-border) }
  .htmcssjs-card-title{ margin:0; font-size:13px; letter-spacing:.35px; text-transform:uppercase; opacity:.9; font-family:'Poppins','Segoe UI',sans-serif }
  .htmcssjs-section{ padding:12px 14px; display:grid; gap:12px }

  /* Inputs */
  .htmcssjs-field{ display:grid; gap:6px }
  .htmcssjs-label{ font-weight:700; font-size:.95rem; color:#dfe7ff; letter-spacing:.2px }
  .htmcssjs-input, .htmcssjs-select, .htmcssjs-textarea{ background:#0e1730; color:#e6ecff; border:1px solid var(--htmcssjs-border); border-radius:10px; padding:12px 14px; outline:none; transition:border-color .2s ease, box-shadow .2s ease, transform .12s ease; min-height:44px }
  .htmcssjs-textarea{ min-height:260px; resize:vertical; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; line-height:1.45; font-size:13px; white-space:pre }
  .htmcssjs-select{ appearance:none }
  .htmcssjs-input:focus, .htmcssjs-select:focus, .htmcssjs-textarea:focus{ border-color: rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.25); transform:translateY(-1px) }
  .htmcssjs-row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center }

  /* Buttons */
  .htmcssjs-btn{ --_bg: linear-gradient(180deg, color-mix(in oklab, var(--htmcssjs-primary) 70%, transparent), color-mix(in oklab, var(--htmcssjs-accent) 62%, transparent)); --_txt:#fff; --_bd: color-mix(in oklab, #000 12%, var(--htmcssjs-primary)); appearance:none; border:1px solid var(--_bd); background:var(--_bg); color:var(--_txt); padding:10px 12px; border-radius:12px; font-weight:700; font-size:13px; letter-spacing:.3px; cursor:pointer; transition: transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease; box-shadow: 0 10px 20px rgba(29,78,216,.22), 0 6px 14px rgba(59,130,246,.16); font-family:'Poppins','Segoe UI',sans-serif }
  .htmcssjs-btn:hover{ transform: translateY(-1px); filter: brightness(1.06) }
  .htmcssjs-btn:active{ transform: translateY(0); filter: brightness(.98) }
  .htmcssjs-btn-ghost{ background:transparent; color:#e5e7eb; border:1px dashed var(--htmcssjs-border); box-shadow:none }
  .htmcssjs-btn-warm{ background: linear-gradient(135deg, var(--htmcssjs-accent), var(--htmcssjs-warm)); border-color:transparent }
  .htmcssjs-btn-red{ background: linear-gradient(135deg, #EF4444, #F59E0B); border-color: transparent }

  /* Output */
  .htmcssjs-stats{ display:flex; gap:8px; flex-wrap:wrap }
  .htmcssjs-pill{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--htmcssjs-border); border-radius:999px; background: color-mix(in oklab, var(--htmcssjs-bg-dark) 72%, transparent); color:#bcd3ff; font-size:.8rem }
  .htmcssjs-pane{ border:1px solid var(--htmcssjs-border); border-radius:10px; overflow:auto; background: rgba(14,23,48,.6); max-height:520px; position:relative }
  .htmcssjs-preview{ width:100%; height:260px; border:1px solid var(--htmcssjs-border); border-radius:10px; background:#0a1021 }

  /* Toast */
  .htmcssjs-toast{ position: fixed; inset:auto 16px 16px auto; background:#0b1223ee; color:#e5e7eb; padding:10px 14px; border-radius:12px; border:1px solid var(--htmcssjs-border); backdrop-filter: blur(8px); box-shadow: var(--htmcssjs-shadow-1); transform: translateY(20px); opacity:0; pointer-events:none; transition: transform .25s ease, opacity .25s ease; z-index:50 }
  .htmcssjs-toast.show{ transform: translateY(0); opacity:1 }

  /* Subtle float */
  @media (prefers-reduced-motion:no-preference){ .htmcssjs-card{ animation: htmcssjs-float 18s ease-in-out infinite } @keyframes htmcssjs-float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-2px)} } }
  :focus-visible{ outline:2px solid color-mix(in oklab, var(--htmcssjs-accent) 60%, #fff); outline-offset:2px }
  .kbd{ font:600 11px/1.2 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; background: color-mix(in oklab, var(--htmcssjs-bg-dark) 78%, transparent); color:#cbd5e1; padding:3px 6px; border-radius:8px; border:1px solid var(--htmcssjs-border) }

  /* Feature section links - optional cross links styling */
  .feature-card-all-pages {margin: 0 2rem;}
  .tools-grid {margin: 1rem; background: #0e1730;}
  .tool-card {background: #0f1b34;}
  @media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>



    
  
<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="/features.html">Features</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="/login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>







<main class="htmcssjs-main" id="htmcssjs-main" aria-label="HTML CSS JS Minifier and Beautifier">
  <!-- HERO -->
  <section class="htmcssjs-hero" aria-labelledby="htmcssjs-title">
    <div>
      <h1 class="htmcssjs-title" id="htmcssjs-title">HTML CSS JS Minifier and Beautifier</h1>
      <p class="htmcssjs-sub">Paste or drop code, pick minify or beautify, and get results with smart options. Auto language detection, live HTML preview, batch file tabs, gzip size estimate and tiny share link. Everything runs locally in your browser.</p>
      <div class="htmcssjs-badges">
        <span class="htmcssjs-badge">Local only</span>
        <span class="htmcssjs-badge">Auto detect</span>
        <span class="htmcssjs-badge">Live preview</span>
        <span class="htmcssjs-badge">Gzip estimate</span>
      </div>
    </div>
    <div class="htmcssjs-hero-art" aria-hidden="true">
      <svg viewBox="0 0 220 160" role="img" aria-label="Code brackets and spark icon">
        <defs>
          <filter id="hglow" x="-30%" y="-30%" width="160%" height="160%">
            <feDropShadow dx="0" dy="0" stdDeviation="1.6" flood-color="currentColor" flood-opacity=".35"/>
          </filter>
        </defs>
        <g stroke="currentColor" fill="none" stroke-linecap="round" stroke-width="2" opacity=".9" filter="url(#hglow)">
          <path d="M70 30 L40 60 L70 90" />
          <path d="M150 30 L180 60 L150 90" />
          <path d="M110 24 L110 96" opacity=".6" />
        </g>
        <g fill="currentColor">
          <circle cx="110" cy="112" r="2"/>
          <circle cx="100" cy="118" r="1.5"/>
          <circle cx="120" cy="122" r="1.8"/>
        </g>
      </svg>
    </div>
  </section>

  <!-- GRID -->
  <section class="htmcssjs-grid">
    <!-- LEFT: Inputs -->
    <article class="htmcssjs-card">
      <header class="htmcssjs-card-head">
        <h2 class="htmcssjs-card-title">Enter or drop code</h2>
        <div class="htmcssjs-row">
          <button class="htmcssjs-btn htmcssjs-btn-ghost" id="htmcssjs-clear" title="Clear input">Clear</button>
          <button class="htmcssjs-btn" id="htmcssjs-sample" title="Load a sample">Try sample</button>
        </div>
      </header>

      <div class="htmcssjs-section" id="htmcssjs-inputs">
        <div class="htmcssjs-row" style="align-items:flex-start">
          <div class="htmcssjs-field" style="flex:1 1 640px">
            <label class="htmcssjs-label" for="htmcssjs-code">Your code</label>
            <textarea id="htmcssjs-code" class="htmcssjs-textarea" placeholder="Paste or drop file here" aria-label="Source code" spellcheck="false"></textarea>
            <div class="htmcssjs-row">
              <input type="file" id="htmcssjs-file" class="htmcssjs-input" multiple accept=".txt,.js,.ts,.json,.py,.java,.cs,.cpp,.c,.html,.htm,.css,.md,.yaml,.yml,.sh" />
              <button class="htmcssjs-btn htmcssjs-btn-ghost" id="htmcssjs-paste" title="Paste from clipboard"><span class="kbd">Ctrl</span>+<span class="kbd">V</span> paste</button>
              <button class="htmcssjs-btn htmcssjs-btn-ghost" id="htmcssjs-tab-new" title="Create a new tab">New tab</button>
            </div>
          </div>
          <div class="htmcssjs-field" style="flex:0 0 260px">
            <label class="htmcssjs-label" for="htmcssjs-lang">Language</label>
            <select id="htmcssjs-lang" class="htmcssjs-select" aria-label="Language">
              <option value="auto">Auto detect</option>
              <option value="html">HTML</option>
              <option value="css">CSS</option>
              <option value="js">JavaScript</option>
            </select>
            <div class="htmcssjs-row" style="margin-top:8px">
              <button class="htmcssjs-btn" id="htmcssjs-minify" title="Minify code">Minify</button>
              <button class="htmcssjs-btn htmcssjs-btn-warm" id="htmcssjs-beautify" title="Beautify code">Beautify</button>
            </div>
          </div>
        </div>

        <div class="htmcssjs-row" style="align-items:flex-start">
          <div class="htmcssjs-field" style="flex:1 1 340px">
            <label class="htmcssjs-label">Options</label>
            <div class="htmcssjs-row">
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-trim" checked /> Trim trailing spaces</label>
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-newline" checked /> Ensure final newline</label>
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-tabs" /> Use tabs for indent</label>
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-keep-comments" /> Keep important comments</label>
            </div>
            <div class="htmcssjs-row">
              <label class="htmcssjs-label">Indent</label>
              <select id="htmcssjs-indent" class="htmcssjs-select" aria-label="Indent size">
                <option value="2">2 spaces</option>
                <option value="4" selected>4 spaces</option>
                <option value="8">8 spaces</option>
              </select>
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-safe-js" checked /> Safe JS mode</label>
              <label class="htmcssjs-label"><input type="checkbox" id="htmcssjs-html-preview" checked /> Live HTML preview</label>
            </div>
          </div>
          <div class="htmcssjs-field" style="flex:1 1 320px">
            <label class="htmcssjs-label">Share and export</label>
            <div class="htmcssjs-row">
              <button class="htmcssjs-btn" id="htmcssjs-copy">Copy output</button>
              <button class="htmcssjs-btn htmcssjs-btn-ghost" id="htmcssjs-download">Download .txt</button>
              <button class="htmcssjs-btn htmcssjs-btn-warm" id="htmcssjs-share">Copy tiny link</button>
            </div>
            <p class="htmcssjs-sub" style="margin:6px 0 0">Keyboard: <span class="kbd">Ctrl</span>+<span class="kbd">Enter</span> run, <span class="kbd">Ctrl</span>+<span class="kbd">S</span> download, <span class="kbd">Ctrl</span>+<span class="kbd">Shift</span>+<span class="kbd">C</span> copy output.</p>
          </div>
        </div>

        <!-- Tabs list -->
        <div class="htmcssjs-row" id="htmcssjs-tabs" aria-label="Tabs" role="tablist"></div>
      </div>
    </article>

    <!-- RIGHT: Results -->
    <aside class="htmcssjs-card" aria-live="polite">
      <header class="htmcssjs-card-head">
        <h2 class="htmcssjs-card-title">Results</h2>
        <div class="htmcssjs-stats">
          <span class="htmcssjs-pill" id="htmcssjs-stat-in">In: 0 B</span>
          <span class="htmcssjs-pill" id="htmcssjs-stat-out">Out: 0 B</span>
          <span class="htmcssjs-pill" id="htmcssjs-stat-save">Saved: 0%</span>
          <span class="htmcssjs-pill" id="htmcssjs-stat-gzip">Gzip: -</span>
        </div>
      </header>

      <div class="htmcssjs-section">
        <div class="htmcssjs-field">
          <label class="htmcssjs-label" for="htmcssjs-output">Output</label>
          <textarea id="htmcssjs-output" class="htmcssjs-textarea" placeholder="Your result will appear here" aria-label="Output code" spellcheck="false"></textarea>
        </div>
        <div class="htmcssjs-field">
          <label class="htmcssjs-label">HTML live preview</label>
          <iframe id="htmcssjs-preview" class="htmcssjs-preview" title="HTML live preview" sandbox="allow-same-origin" aria-hidden="true"></iframe>
        </div>
      </div>
    </aside>
  </section>

  <div style="margin-top:16px">
    <p class="htmcssjs-sub">More you might like:
      <a href="/tools/code-diff-checker-side-by-side" rel="nofollow">Code Diff Checker</a>,
      <a href="/tools/quick-table-generator-csv-to-html-table-code.html" rel="nofollow">Quick Table Generator</a>,
      <a href="/tools/word-counter.html" rel="nofollow">Word Counter</a>.
    </p>
  </div>


     <div class="free-tools-guide">
    <p class="free-tools-guide-p">See HTML, CSS, JS Minifier and Beautifier Guide on SnipText Blog Page <a href="/blog/html-css-js-minifier-and-beautifier-guide-fast-private-seo-best-practices-developer-workflows-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>
</main>

<div class="htmcssjs-toast" id="htmcssjs-toast" role="status" aria-live="polite"></div>


    <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

    <article class="tool-card" tabindex="0"
         data-href="/tools/code-diff-checker-side-by-side.html"
         aria-labelledby="tcoddiff" data-filter="Devs & Hacks">
  <div class="card-icon" aria-hidden="true">
    <!-- Code Diff Checker icon: split panels + +/- markers -->
    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Code Diff Checker icon">
      <!-- Panels -->
      <rect x="2" y="3" width="9" height="18" rx="2" fill="none" stroke="currentColor" opacity="0.8"/>
      <rect x="13" y="3" width="9" height="18" rx="2" fill="none" stroke="currentColor" opacity="0.5"/>
      <!-- Left lines -->
      <g stroke="currentColor" stroke-width="1" opacity="0.85">
        <path d="M4.5 6.5h5.5"/><path d="M4.5 9.5h3.5"/><path d="M4.5 12.5h5.5"/><path d="M4.5 15.5h4.5"/>
      </g>
      <!-- Right lines -->
      <g stroke="currentColor" stroke-width="1" opacity="0.65">
        <path d="M15.5 6.5h5.0"/><path d="M15.5 9.5h2.0"/><path d="M15.5 12.5h5.0"/><path d="M15.5 15.5h3.0"/>
      </g>
      <!-- Diff markers -->
      <g fill="currentColor">
        <!-- add -->
        <circle cx="21" cy="9.5" r="0.9" />
        <path d="M21 8.6v1.8M20.1 9.5h1.8" stroke="currentColor" stroke-width="0.8" stroke-linecap="round"/>
        <!-- delete -->
        <circle cx="11" cy="15.5" r="0.9" />
        <path d="M10.1 15.5h1.8" stroke="currentColor" stroke-width="0.8" stroke-linecap="round"/>
      </g>
      <!-- Split chevron -->
      <path d="M12 6l-1.2 1.2M12 6l1.2 1.2M12 18l-1.2-1.2M12 18l1.2-1.2"
            stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.85"/>
    </svg>
  </div>
  <h3 id="tcoddiff" class="card-title">Code Diff Checker</h3>
  <p class="card-desc">
    Compare code side by side or inline with word level highlights. Ignore whitespace or case, sync scroll, see a minimap, drag and drop files, copy HTML output, and export a unified diff patch. Private and in your browser.
  </p>
  <a class="card-cta"
     href="/tools/code-diff-checker-side-by-side.html"
     aria-label="Open Code Diff Checker">Open →</a>
</article>

      <article class="tool-card hashgen-tool-card" tabindex="0" data-href="/tools/hash-generator-md5-sha1-sha256.html" aria-labelledby="hashgen-tg" data-filter="Devs & Hacks">
  <div class="card-icon hashgen-card-icon" aria-hidden="true">
    <!-- Hash Generator icon: shield + hex + hash mark -->
    <svg viewBox="0 0 24 24" class="svg-icon hashgen-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Hash Generator - MD5, SHA1, SHA256">
      <!-- Shield -->
      <path d="M12 2.5l6 2.2v5.2c0 4.7-3 8.7-6 9.6-3-0.9-6-4.9-6-9.6V4.7l6-2.2z" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.9"/>
      <!-- Hex grid dots -->
      <g fill="currentColor" opacity="0.5">
        <circle cx="8.2" cy="8.3" r="0.6"/><circle cx="10.5" cy="7.1" r="0.6"/><circle cx="12.8" cy="8.3" r="0.6"/>
        <circle cx="15.1" cy="7.1" r="0.6"/><circle cx="10.5" cy="9.7" r="0.6"/><circle cx="12.8" cy="11.0" r="0.6"/>
        <circle cx="8.2" cy="11.0" r="0.6"/><circle cx="15.1" cy="10.0" r="0.6"/><circle cx="12.8" cy="13.2" r="0.6"/>
      </g>
      <!-- Hash mark # -->
      <g stroke="currentColor" stroke-width="1.4" stroke-linecap="round" opacity="0.95">
        <path d="M8.9 12.6h6.2M8.9 9.9h6.2M10.6 8.2l-1.4 7.2M14.8 8.2l-1.4 7.2"/>
      </g>
      <!-- Small check for verify -->
      <path d="M16.3 16.9l1.4 1.4 2.6-2.6" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/>
    </svg>
  </div>
  <h3 id="hashgen-tg" class="card-title hashgen-card-title">Hash Generator - MD5, SHA1, SHA256</h3>
  <p class="card-desc hashgen-card-desc">
    Generate hashes for text and files in your browser. Add salt, create HMAC, and verify checksums with a clean results table. Drag and drop multiple files, export a .sha256 list, import checksum files, and copy everything in one click. Private and fast.
  </p>
  <a class="card-cta hashgen-card-cta" href="/tools/hash-generator-md5-sha1-sha256.html" aria-label="Open Hash Generator - MD5, SHA1, SHA256">Open →</a>
</article>

    <article class="tool-card passwordgen-card-teaser" tabindex="0"
                  data-href="/tools/random-password-generator.html"
                  aria-labelledby="t-passwordgen" data-filter="Devs & Hacks">
                  <div class="card-icon passwordgen-card-icon" aria-hidden="true">
                    <!-- Random Password Generator icon: lock + spark + dice pip -->
                    <svg viewBox="0 0 24 24" class="svg-icon passwordgen-svg" role="img" aria-label="Random Password Generator icon" xmlns="http://www.w3.org/2000/svg">
                      <!-- lock body -->
                      <rect x="3.5" y="10" width="17" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
                      <!-- shackle -->
                      <path d="M7.5 10V7.6c0-2.3 1.9-4.1 4.2-4.1s4.2 1.8 4.2 4.1V10" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                      <!-- keyhole -->
                      <circle cx="12" cy="15" r="1.2" fill="currentColor"/>
                      <path d="M12 16.2v1.6" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/>
                      <!-- spark (entropy) -->
                      <path d="M18.8 5.2l.5 1.4 1.4.5-1.4.5-.5 1.4-.5-1.4-1.4-.5 1.4-.5.5-1.4z" fill="currentColor"/>
                      <!-- tiny dice pip to hint randomness -->
                      <rect x="4.6" y="5.2" width="3" height="3" rx="0.6" fill="none" stroke="currentColor" stroke-width="1.2"/>
                      <circle cx="6.1" cy="6.7" r="0.5" fill="currentColor"/>
                    </svg>
                  </div>
                  <h3 id="t-passwordgen" class="card-title passwordgen-card-title">Random Password Generator</h3>
                  <p class="card-desc passwordgen-card-desc">
                    Create strong classic passwords, pronounceable strings, passphrases, PINs, and Wi-Fi keys. Batch generate, copy, or export TXT/CSV, with a live entropy meter, ambiguity filter, required characters, and local presets. Everything runs client-side for privacy.
                  </p>
                  <a class="card-cta passwordgen-card-cta"
                    href="/tools/random-password-generator.html"
                    aria-label="Open Random Password Generator">Open →</a>
</article>  

    <article class="tool-card jso-yam-tom-card toolcard" tabindex="0" data-href="/tools/json-yaml-toml-converter-pretty-format-parse-sniptext.html" aria-labelledby="jso-yam-tom-tg" data-filter="Data & Converters">
  <div class="card-icon jso-yam-tom-icon" aria-hidden="true">
    <!-- JSON ↔ YAML ↔ TOML icon: three nodes with circular arrows -->
    <svg viewBox="0 0 24 24" class="svg-icon jso-yam-tom-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="JSON YAML TOML Converter">
      <!-- Frame -->
      <rect x="1.25" y="2" width="21.5" height="20" rx="3" fill="none" stroke="currentColor" stroke-width="1.1" opacity="0.35"/>
      <!-- Nodes -->
      <circle cx="6.8" cy="9" r="2.8" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.95"/>
      <circle cx="17.2" cy="9" r="2.8" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.95"/>
      <circle cx="12" cy="16.2" r="2.8" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.95"/>
      <!-- Labels -->
      <g fill="currentColor" opacity="0.9" font-family="monospace" font-size="2.6">
        <text x="6.1" y="9.4">J</text>
        <text x="16.6" y="9.4">Y</text>
        <text x="11.4" y="16.6">T</text>
      </g>
      <!-- Circular arrows -->
      <path d="M9.8 7.1c1.6-1.4 3.8-1.4 5.4 0" fill="none" stroke="currentColor" stroke-width="1.1" opacity="0.9"/>
      <polygon points="15.6,6.3 16.8,7.2 15.3,7.8" fill="currentColor" opacity="0.9"/>
      <path d="M15.6 11.1c.4 1.9-.4 3.3-1.8 4.3" fill="none" stroke="currentColor" stroke-width="1.1" opacity="0.9"/>
      <polygon points="14.4,15.1 13.7,16.5 12.9,15.1" fill="currentColor" opacity="0.9"/>
      <path d="M10.2 15.4c-1.5-1-2.3-2.4-1.9-4.3" fill="none" stroke="currentColor" stroke-width="1.1" opacity="0.9"/>
      <polygon points="7.7,10.9 8.2,9.5 9.1,10.9" fill="currentColor" opacity="0.9"/>
    </svg>
  </div>
  <h3 id="jso-yam-tom-tg" class="card-title jso-yam-tom-title">JSON ↔ YAML ↔ TOML Converter</h3>
  <p class="card-desc jso-yam-tom-desc">
    Convert JSON, YAML, and TOML both ways with pretty print, minify, and optional key sort. Auto detect input, paste or drop files, copy or download output, and run a round trip check to verify integrity. Powered by js-yaml and TOML UMD, everything runs locally for privacy and speed.
  </p>
  <a class="card-cta jso-yam-tom-cta" href="/tools/json-yaml-toml-converter-pretty-format-parse-sniptext.html" aria-label="Open JSON YAML TOML Converter">Open →</a>
</article>  

  </section>






  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="/feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="/privacy-policy.html">Privacy Policy</a>
      <a href="/terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        · All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>





<script src="/js/index.js?v=reset1" defer></script>
  <script src="/js/auth.js?v=reset1"></script>
<script src="/tools/js/free-tools.js?v=reset1"></script>

<script>
(function(){
  'use strict';

  // Short helpers
  const $ = (s, d=document) => d.querySelector(s);
  const $$ = (s, d=document) => Array.from(d.querySelectorAll(s));
  const byId = id => document.getElementById(id);
  const toastEl = byId('htmcssjs-toast');
  const toast = (msg) => { toastEl.textContent = msg; toastEl.classList.add('show'); clearTimeout(toast._t); toast._t = setTimeout(()=>toastEl.classList.remove('show'), 2200) };
  const bytes = (n) => new Blob([n]).size; // handles utf8
  const fmt = (n) => n<1024? n+" B" : n<1024*1024? (n/1024).toFixed(1)+" KB" : (n/1024/1024).toFixed(2)+" MB";

  // Elements
  const codeIn = byId('htmcssjs-code');
  const fileIn = byId('htmcssjs-file');
  const out = byId('htmcssjs-output');
  const langSel = byId('htmcssjs-lang');
  const indentSel = byId('htmcssjs-indent');
  const useTabs = byId('htmcssjs-tabs'); // note: id reused for tab list and checkbox is htmcssjs-tabs in options? We'll name checkbox id htmcssjs-tabs above. Keep handle separately
  const tabsCheckbox = byId('htmcssjs-tabs');
  const optTabs = byId('htmcssjs-tabs');
  const useTabsCheckbox = byId('htmcssjs-tabs');

  const trimCB = byId('htmcssjs-trim');
  const nlCB = byId('htmcssjs-newline');
  const keepCommentsCB = byId('htmcssjs-keep-comments');
  const safeJsCB = byId('htmcssjs-safe-js');
  const previewCB = byId('htmcssjs-html-preview');
  const previewFrame = byId('htmcssjs-preview');

  const statIn = byId('htmcssjs-stat-in');
  const statOut = byId('htmcssjs-stat-out');
  const statSave = byId('htmcssjs-stat-save');
  const statGzip = byId('htmcssjs-stat-gzip');

  // Tabs model
  const tabsBar = byId('htmcssjs-tabs');
  const tabBtnNew = byId('htmcssjs-tab-new');
  let tabs = []; // {id, name, content, lang}
  let activeTabId = null;
  const newId = () => 't'+Math.random().toString(36).slice(2,8);

  function renderTabs(){
    if(!tabsBar) return;
    tabsBar.innerHTML = '';
    tabs.forEach(t=>{
      const b = document.createElement('button');
      b.className = 'htmcssjs-btn htmcssjs-btn-ghost';
      b.setAttribute('role','tab');
      b.setAttribute('aria-selected', String(t.id===activeTabId));
      b.textContent = t.name;
      b.addEventListener('click', ()=> switchTab(t.id));
      const x = document.createElement('button');
      x.className='htmcssjs-btn htmcssjs-btn-red'; x.style.padding='6px 8px'; x.textContent='×'; x.title='Close tab';
      x.addEventListener('click', (e)=>{ e.stopPropagation(); closeTab(t.id) });
      const wrap=document.createElement('span'); wrap.className='htmcssjs-row'; wrap.appendChild(b); wrap.appendChild(x);
      tabsBar.appendChild(wrap);
    });
  }
  function addTab(name, content, lang){
    const id=newId(); tabs.push({id,name,content,lang}); activeTabId=id; renderTabs(); loadActive(); }
  function switchTab(id){ saveActive(); activeTabId=id; loadActive(); renderTabs(); }
  function closeTab(id){ const i=tabs.findIndex(t=>t.id===id); if(i>-1){ tabs.splice(i,1); if(activeTabId===id){ activeTabId = tabs[0]?.id || null; loadActive(); } renderTabs(); } }
  function saveActive(){ const t=tabs.find(x=>x.id===activeTabId); if(t){ t.content=codeIn.value; t.lang=langSel.value } }
  function loadActive(){ const t=tabs.find(x=>x.id===activeTabId); if(t){ codeIn.value=t.content; langSel.value=t.lang||'auto'; } else { codeIn.value=''; langSel.value='auto'; } }

  tabBtnNew.addEventListener('click', ()=> addTab('Untitled', '', 'auto'));

  // Drop and paste
  function readFiles(files){
    Array.from(files).forEach(f=>{
      const reader = new FileReader();
      reader.onload = ()=>{
        const text = reader.result || '';
        addTab(f.name, String(text), detectLangByName(f.name));
      };
      reader.readAsText(f);
    });
  }
  fileIn.addEventListener('change', e=> readFiles(e.target.files));
  codeIn.addEventListener('dragover', e=>{ e.preventDefault(); });
  codeIn.addEventListener('drop', e=>{ e.preventDefault(); readFiles(e.dataTransfer.files) });
  byId('htmcssjs-paste').addEventListener('click', async()=>{
    try{ const t = await navigator.clipboard.readText(); codeIn.value = t; toast('Pasted from clipboard'); }catch{ toast('Clipboard not available') }
  });


  // Detect language
  function detectLangByName(name){ const n=(name||'').toLowerCase(); if(/\.(html|htm)$/.test(n)) return 'html'; if(/\.css$/.test(n)) return 'css'; if(/\.(js|ts|mjs|cjs|json)$/.test(n)) return 'js'; return 'auto'; }
  function detectLangByContent(s){ s=s.trim(); if(/^<!doctype|<html|<head|<body|<div|<span/i.test(s)) return 'html'; if(/\{[\s\S]*\}|;\s*\}/.test(s) && /\bfunction\b|=>|console\.|var\s|let\s|const\s/.test(s)) return 'js'; if(/\{|\}|;/.test(s) && /:\s*[^;]+;/.test(s) && !/function|=>/.test(s)) return 'css'; return 'js'; }
  function currentLang(){ const sel=langSel.value; if(sel==='auto'){ return detectLangByContent(codeIn.value) } return sel }

  // Minifiers and beautifiers
  const makeIndent = (n, tabs) => tabs? '\t' : ' '.repeat(Number(n)||4);

  // HTML beautify using DOM parsing and pretty print
  function beautifyHTML(html, indSize, tabs){
    try{
      const doc = new DOMParser().parseFromString(html, 'text/html');
      const buf = [];
      const indent = makeIndent(indSize, tabs);
      const voids = new Set(['area','base','br','col','embed','hr','img','input','link','meta','param','source','track','wbr']);
      function walk(node, depth){
        const pad = indent.repeat(depth);
        for(let c=node.firstChild; c; c=c.nextSibling){
          if(c.nodeType===Node.TEXT_NODE){
            const t = c.nodeValue.replace(/\s+/g,' ').trim();
            if(t) buf.push(pad + t + '\n');
          } else if(c.nodeType===Node.COMMENT_NODE){
            if(keepCommentsCB.checked) buf.push(pad + '<!-- ' + c.nodeValue.trim() + ' -->\n');
          } else if(c.nodeType===Node.ELEMENT_NODE){
            const tag = c.tagName.toLowerCase();
            // attributes
            const attrs = Array.from(c.attributes).map(a=> `${a.name}="${a.value}"`).join(' ');
            const open = '<'+tag + (attrs? ' '+attrs: '') + '>';
            if(voids.has(tag)){
              buf.push(pad + open + '\n');
            } else {
              buf.push(pad + open + '\n');
              walk(c, depth+1);
              buf.push(pad + '</'+tag+'>\n');
            }
          }
        }
      }
      walk(doc.body, 0);
      return buf.join('') || html; // fallback to original if empty
    }catch(e){ return html }
  }

  // HTML minify: strip comments, collapse whitespace between tags, keep pre/code/textarea spacing
  function minifyHTML(html){
    const keepImportant = keepCommentsCB.checked;
    html = html.replace(/<!--([\s\S]*?)-->/g, (m, c)=> keepImportant && /!|@preserve|@license|@cc_on/.test(c)? m : '');
    // protect content of pre, code, textarea
    const map = new Map(); let i=0;
    html = html.replace(/<(pre|code|textarea)[^>]*>[\s\S]*?<\/\1>/gi, s=>{ const k='\u0000'+(i++); map.set(k,s); return k });
    html = html.replace(/\s{2,}/g,' ').replace(/>\s+</g,'><').trim();
    map.forEach((v,k)=> html = html.replace(k, v));
    return html;
  }

  // CSS beautify
  function beautifyCSS(css, indSize, tabs){
    const indent = makeIndent(indSize, tabs); let depth=0; let out='';
    // remove comments optionally
    css = css.replace(/\/\*[\s\S]*?\*\//g, m=> keepCommentsCB.checked? m : '');
    for(let i=0;i<css.length;i++){
      const ch = css[i];
      if(ch==='{' ){ out += ' {\n'; depth++; out += indent.repeat(depth); }
      else if(ch==='}' ){ depth=Math.max(0,depth-1); out = out.replace(/[\t ]+$/,''); out += '\n' + indent.repeat(depth) + '}\n' + indent.repeat(depth); }
      else if(ch===';'){ out += ';\n' + indent.repeat(depth) }
      else out += ch;
    }
    return out.trim();
  }

  // CSS minify
  function minifyCSS(css){
    const keepImportant = keepCommentsCB.checked;
    css = css.replace(/\/\*[\s\S]*?\*\//g, m=> /!|@license|@preserve/.test(m) && keepImportant? m : '');
    css = css.replace(/\s+/g,' ')
             .replace(/\s*{\s*/g,'{')
             .replace(/\s*}\s*/g,'}')
             .replace(/\s*;\s*/g,';')
             .replace(/;}/g,'}')
             .replace(/\s*:\s*/g,':')
             .replace(/\s*,\s*/g,',')
             .trim();
    return css;
  }

  // JS comment stripper and whitespace reducer with a safe mode
  function stripJsComments(code){
    // State machine that keeps strings and regex literals
    let out=''; let i=0; const n=code.length; let ch, next;
    let inStr=false, strCh=''; let inRegex=false; let inLine=false, inBlock=false; let esc=false;
    while(i<n){
      ch=code[i]; next=code[i+1];
      if(inLine){
        if(ch==='\n'){ inLine=false; out+='\n'; }
        i++; continue;
      }
      if(inBlock){
        if(ch==='*' && next==='/' ){ inBlock=false; i+=2; continue; }
        i++; continue;
      }
      if(inStr){
        out+=ch;
        if(esc){ esc=false; }
        else if(ch==='\\'){ esc=true; }
        else if(ch===strCh){ inStr=false; }
        i++; continue;
      }
      if(inRegex){
        out+=ch;
        if(esc){ esc=false; }
        else if(ch==='\\'){ esc=true; }
        else if(ch==='/' ){ inRegex=false; }
        i++; continue;
      }
      // detect start of comments
      if(ch==='/' && next==='/' ){ inLine=true; i+=2; continue; }
      if(ch==='/' && next==='*' ){ inBlock=true; i+=2; continue; }
      // detect strings
      if(ch==='"' || ch==="'" || ch==='`'){ inStr=true; strCh=ch; out+=ch; i++; continue; }
      // possible regex literal: after certain tokens
      if(ch==='/' && !/[\w)\]]/.test(code[i-1]||' ')){
        inRegex=true; out+='/'; i++; continue;
      }
      out+=ch; i++;
    }
    return out;
  }
  function minifyJS(code){
    const keepImportant = keepCommentsCB.checked;
    if(keepImportant){
      // Preserve /*! ... */ blocks
      code = code.replace(/\/\*!([\s\S]*?)\*\//g, (m)=>'\u0001'+btoa(m)+'\u0001');
    }
    code = stripJsComments(code);
    // collapse whitespace cautiously
    // remove spaces around operators and after commas where safe
    code = code
      .replace(/\s+/g, ' ')
      .replace(/\s*([=+\-*/%|&^!<>?:,;{}()\[\]])\s*/g, '$1')
      .replace(/;}/g, '}')
      .trim();
    if(safeJsCB.checked){
      // do not join lines that could change ASI behavior at beginning of line with ( [ + - / .
      code = code.replace(/\n([([+\-/.])/g, '\n $1');
    }
    if(keepImportant){ code = code.replace(/\u0001([A-Za-z0-9+/=]+)\u0001/g, (_,b)=> atob(b)); }
    return code;
  }

  // JS beautify: naive formatter based on braces and semicolons
  function beautifyJS(code, indSize, tabs){
    const indent = makeIndent(indSize, tabs); let depth=0; let out='';
    code = stripJsComments(code); // keep code readable
    let i=0, n=code.length; let ch; let inStr=false, sCh='', esc=false; let inRegex=false;
    function push(c){ out+=c }
    while(i<n){
      ch=code[i];
      if(inStr){
        push(ch);
        if(esc){ esc=false }
        else if(ch==='\\'){ esc=true }
        else if(ch===sCh){ inStr=false }
        i++; continue;
      }
      if(inRegex){ push(ch); if(ch==='\\'){ i+=2; continue } if(ch==='/' ){ inRegex=false } i++; continue; }
      if(ch==='"' || ch==="'" || ch==='`'){ inStr=true; sCh=ch; push(ch); i++; continue }
      if(ch==='/' && code[i+1] && !/[\w)\]]/.test(code[i-1]||' ')){ inRegex=true; push('/'); i++; continue }

      if(ch==='{' ){ push(' {\n'); depth++; push(indent.repeat(depth)); i++; continue }
      if(ch==='}' ){ depth=Math.max(0,depth-1); out=out.replace(/[\t ]+$/,''); push('\n'+indent.repeat(depth)+'}\n'+indent.repeat(depth)); i++; continue }
      if(ch===';' ){ push(';\n'+indent.repeat(depth)); i++; continue }
      if(ch==='\n' || ch==='\r'){ i++; continue }
      push(ch); i++;
    }
    return out.trim();
  }

  // Stats and preview
  async function updateStats(){
    const input = codeIn.value || '';
    const output = out.value || '';
    statIn.textContent = 'In: ' + fmt(bytes(input));
    statOut.textContent = 'Out: ' + fmt(bytes(output));
    const saved = bytes(input)? Math.max(0, 100 - Math.round( (bytes(output)/bytes(input))*100 )) : 0;
    statSave.textContent = 'Saved: ' + saved + '%';
    // gzip using CompressionStream if available
    try{
      if('CompressionStream' in window){
        const gzIn = await gzipSize(input);
        const gzOut = await gzipSize(output);
        const savedGz = gzIn? Math.max(0, 100 - Math.round((gzOut/gzIn)*100)) : 0;
        statGzip.textContent = 'Gzip: ' + fmt(gzOut) + ' ('+savedGz+'% saved)';
      } else {
        statGzip.textContent = 'Gzip: browser unsupported';
      }
    }catch{ statGzip.textContent = 'Gzip: -' }
  }

  async function gzipSize(text){
    const cs = new CompressionStream('gzip');
    const writer = cs.writable.getWriter();
    writer.write(new TextEncoder().encode(text));
    writer.close();
    const buff = await new Response(cs.readable).arrayBuffer();
    return buff.byteLength;
  }

  function previewHTML(html){
    if(!previewCB.checked){ previewFrame.setAttribute('aria-hidden','true'); previewFrame.srcdoc=''; return }
    previewFrame.removeAttribute('aria-hidden');
    previewFrame.srcdoc = html;
  }

  // Share tiny link (base64 of trimmed code if < 40KB)
  function tinyLink(text){
    const utf8 = new TextEncoder().encode(text);
    if(utf8.length > 40000){ toast('Input too large for tiny link'); return; }
    const b64 = btoa(unescape(encodeURIComponent(text)));
    const url = location.origin + location.pathname + '#code=' + b64;
    navigator.clipboard.writeText(url).then(()=> toast('Tiny link copied')); }

  // Load from tiny link if present
  (function(){
    const h = location.hash.slice(1);
    const m = /code=([^&]+)/.exec(h);
    if(m){ try{ const txt = decodeURIComponent(escape(atob(m[1]))); codeIn.value = txt; toast('Loaded from link'); }catch{} }
  })();

  // Run actions
  function runMinify(){ const lang=currentLang(); const src=codeIn.value; let res=src; if(lang==='html') res=minifyHTML(src); else if(lang==='css') res=minifyCSS(src); else res=minifyJS(src); postProcess(res, 'minify'); }
  function runBeautify(){ const lang=currentLang(); const src=codeIn.value; const ind=indentSel.value; const tabs=byId('htmcssjs-tabs').checked; let res=src; if(lang==='html') res=beautifyHTML(src, ind, tabs); else if(lang==='css') res=beautifyCSS(src, ind, tabs); else res=beautifyJS(src, ind, tabs); postProcess(res, 'beautify'); }
  function postProcess(text, kind){ if(trimCB.checked){ text=text.replace(/[ \t]+$/gm,'') } if(nlCB.checked && !/\n$/.test(text)){ text += '\n' } out.value = text; updateStats(); if(currentLang()==='html'){ previewHTML(out.value) } toast(kind==='minify'? 'Minified' : 'Beautified') }

  byId('htmcssjs-minify').addEventListener('click', runMinify);
  byId('htmcssjs-beautify').addEventListener('click', runBeautify);

  // Copy, download, share
  byId('htmcssjs-copy').addEventListener('click', ()=>{ navigator.clipboard.writeText(out.value).then(()=> toast('Output copied')) });
  byId('htmcssjs-download').addEventListener('click', ()=>{
    const blob = new Blob([out.value], {type:'text/plain'});
    const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='result.txt'; a.click(); URL.revokeObjectURL(a.href);
  });
  byId('htmcssjs-share').addEventListener('click', ()=> tinyLink(codeIn.value));

  // Keyboard shortcuts
  document.addEventListener('keydown', e=>{
    if(e.ctrlKey && e.key==='Enter'){ e.preventDefault(); runMinify(); }
    if(e.ctrlKey && e.key.toLowerCase()==='s'){ e.preventDefault(); byId('htmcssjs-download').click() }
    if(e.ctrlKey && e.shiftKey && e.key.toLowerCase()==='c'){ e.preventDefault(); byId('htmcssjs-copy').click() }
  });

  // Live HTML preview when output updates by user
  out.addEventListener('input', ()=>{ if(currentLang()==='html') previewHTML(out.value); updateStats(); });
  codeIn.addEventListener('input', ()=> updateStats());
  langSel.addEventListener('change', ()=>{ if(langSel.value==='html' && out.value) previewHTML(out.value); updateStats(); });

  // Init
  updateStats();
})();
</script>
</body>
</html>
