<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Random Writing Prompt Generator - JSON Prompts, Filters, Favorites, Export | SnipText</title>
  <meta name="description" content="Generate random writing prompts with genre, tone, and length filters. Save favorites, export as JSON or CSV, import your own list, and share a link to your exact settings. Fast, private, in-browser." />
  <meta name="keywords" content="random writing prompt generator, writing prompts JSON, story idea generator, prompt filters, export JSON CSV, private in browser, SnipText" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export" />
  <link rel="alternate" href="https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export" hreflang="x-default" />

  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/tools/css/free-tools.css">

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Random Writing Prompt Generator - JSON Prompts, Filters, Favorites, Export" />
  <meta property="og:description" content="Smart prompt generator with filters, favorites, and JSON or CSV export. Private and fast in your browser." />
  <meta property="og:url" content="https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText tool preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Random Writing Prompt Generator - JSON Prompts, Filters, Favorites, Export" />
  <meta name="twitter:description" content="Generate prompts with filters, favorites, and easy export. Everything runs in your browser." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#1D4ED8" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />
  <link rel="icon" href="/favicon.png" type="image/png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

  <!-- JSON-LD: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText Random Writing Prompt Generator",
    "url":"https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export",
    "applicationCategory":"UtilitiesApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "browserRequirements":"Requires JavaScript; modern browser",
    "featureList":[
      "Random prompt generation",
      "Genre, tone, and length filters",
      "Favorites and history",
      "JSON and CSV export",
      "Import custom JSON",
      "Shareable URL state",
      "Keyboard shortcuts",
      "Private in browser"
    ],
    "publisher":{"@type":"Organization","name":"Snip Text","logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}}
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Is the Random Writing Prompt Generator private?","acceptedAnswer":{"@type":"Answer","text":"Yes. Everything runs locally in your browser. Your data is not uploaded."}},
      {"@type":"Question","name":"Can I import my own JSON prompts?","acceptedAnswer":{"@type":"Answer","text":"Yes. Use Import JSON to load an array of prompt objects with fields like text, genre, tone, and length."}},
      {"@type":"Question","name":"How do I share settings and a selected prompt?","acceptedAnswer":{"@type":"Answer","text":"Use Share Link. The URL hash encodes your filters, the current prompt, and favorites if you want."}},
      {"@type":"Question","name":"Can I export prompts to CSV or JSON?","acceptedAnswer":{"@type":"Answer","text":"Yes. Export the visible list, favorites, or full library as CSV or JSON."}}
    ]
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://checkai.pro/"},
      {"@type":"ListItem","position":2,"name":"Tools","item":"https://checkai.pro/tools/free-tools.html"},
      {"@type":"ListItem","position":3,"name":"Random Writing Prompt Generator","item":"https://checkai.pro/tools/random-writing-prompt-generator-json-list-filters-export"}
    ]
  }
  </script>

  <style>
/* =========================
   Brand tokens aligned to role model
   ========================= */
:root{
  --wp-primary:#1D4ED8;
  --wp-accent:#3B82F6;
  --wp-warm:#ff7c4c;

  --wp-bg:#0F172A;
  --wp-text:#e5e7eb;
  --wp-muted:rgba(255,255,255,.78);
  --wp-border:rgba(255,255,255,.14);

  --wp-r-xl:20px;
  --wp-r-lg:14px;
  --wp-r-md:10px;

  --wp-shadow-1:0 10px 30px rgba(0,0,0,.35);
  --wp-shadow-2:0 18px 48px rgba(17,24,39,.46);

  --wp-maxw:1200px;

  --wp-font-head:'Poppins','Segoe UI',system-ui,-apple-system,Roboto,'Helvetica Neue',Arial,sans-serif;
  --wp-font-body:'Roboto','Segoe UI',system-ui,-apple-system,'Helvetica Neue',Arial,sans-serif;
  --wp-font-mono:ui-monospace,SFMono-Regular,Menlo,Consolas,"Roboto Mono",monospace;
}

/* =========================
   Base + aurora backdrop
   ========================= */
html,body{height:100%}
html,body{
  margin:0; background:var(--wp-bg); color:var(--wp-text);
  font-family:var(--wp-font-body); line-height:1.55; -webkit-font-smoothing:antialiased;
}
.writingprompt-page{
  position:relative; isolation:isolate;
  min-height:100svh;
  padding:clamp(16px,3vw,40px) 0 80px;
}
.writingprompt-page::before{
  content:""; position:fixed; inset:0; z-index:-2;
  background:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--wp-primary) 26%, transparent), transparent 60%),
    radial-gradient(900px 500px at 100% 0%,  color-mix(in oklab, var(--wp-accent) 22%, transparent), transparent 52%),
    radial-gradient(800px 520px at 0% 100%, color-mix(in oklab, var(--wp-warm) 12%, transparent), transparent 58%),
    linear-gradient(180deg, var(--wp-bg) 0%, #0b1225 100%);
}
.writingprompt-container{
  width:min(var(--wp-maxw),92vw);
  margin:0 auto;
}

/* =========================
   Hero (glassy block + gradient title)
   ========================= */
.writingprompt-hero{
  border:1px solid var(--wp-border);
  border-radius:var(--wp-r-xl);
  padding:clamp(18px,3vw,28px);
  background:linear-gradient(135deg,
    color-mix(in oklab, var(--wp-primary) 20%, transparent),
    color-mix(in oklab, var(--wp-accent) 18%, transparent)
  ) border-box;
  box-shadow:var(--wp-shadow-1);
  overflow:hidden; position:relative;
  backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
}
.writingprompt-hero::after{
  content:""; position:absolute; inset:-3px; pointer-events:none; filter:blur(16px); opacity:.6;
  background:
    radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--wp-primary) 28%, transparent), transparent 65%),
    radial-gradient(460px 280px at 86% 0%,  color-mix(in oklab, var(--wp-accent) 26%, transparent), transparent 62%);
}
.writingprompt-title{
  margin:0 0 6px; font-weight:800; letter-spacing:.2px; line-height:1.12;
  font-family:var(--wp-font-head); font-size:clamp(26px,3.6vw,38px);
  background:linear-gradient(90deg,#fff,
    color-mix(in oklab,var(--wp-accent) 54%, #fff) 38%,
    color-mix(in oklab,var(--wp-warm) 40%, #fff) 78%, #fff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.writingprompt-sub{ color:var(--wp-muted); margin:6px 0 0; font-size:clamp(14px,2vw,16px) }

/* =========================
   Grid like role model
   ========================= */
.writingprompt-grid{
  display:grid; grid-template-columns:1fr 1fr;
  gap:clamp(12px,2.4vw,20px); margin-top:clamp(14px,2.6vw,24px);
}
@media (max-width:1000px){ .writingprompt-grid{ grid-template-columns:1fr } }

/* =========================
   Cards (glass surface) + header bands
   ========================= */
.writingprompt-card{
  border:1px solid var(--wp-border);
  border-radius:var(--wp-r-lg);
  background:rgba(255,255,255,.06);
  box-shadow:var(--wp-shadow-2);
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
  overflow:hidden; position:relative;
}
.writingprompt-card-h{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 14px; border-bottom:1px solid var(--wp-border);
  background:linear-gradient(90deg,
    color-mix(in oklab, var(--wp-primary) 11%, transparent),
    color-mix(in oklab, var(--wp-accent) 9%, transparent));
}
.writingprompt-card-t{
  font-family:var(--wp-font-head); font-weight:700; font-size:14px;
  letter-spacing:.35px; text-transform:uppercase; display:flex; align-items:center; gap:10px; margin:0; color:#e5e7eb;
}
.writingprompt-chip{
  border:1px solid var(--wp-border); padding:6px 10px; border-radius:999px; font-size:12px; color:var(--wp-muted);
  background:color-mix(in oklab, var(--wp-bg) 72%, transparent);
}
.writingprompt-card-b{ padding:14px; display:grid; gap:12px }

/* Subtle float like role model */
@media (prefers-reduced-motion:no-preference){
  .writingprompt-card{ animation: wp-float 18s ease-in-out infinite }
  @keyframes wp-float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-2px)} }
}

/* =========================
   Buttons (primary, warm, ghost)
   ========================= */
.writingprompt-btn{
  --_bg:linear-gradient(180deg,
    color-mix(in oklab, var(--wp-primary) 70%, transparent),
    color-mix(in oklab, var(--wp-accent) 62%, transparent));
  --_txt:#fff; --_bd:color-mix(in oklab, #000 12%, var(--wp-primary));
  appearance:none; border:1px solid var(--_bd); background:var(--_bg); color:var(--_txt);
  padding:10px 12px; border-radius:12px; font-weight:700; font-size:13px; letter-spacing:.3px; cursor:pointer; position:relative;
  transition:transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease;
  box-shadow:0 10px 20px rgba(29,78,216,.22), 0 6px 14px rgba(59,130,246,.16);
  font-family:var(--wp-font-head);
}
.writingprompt-btn:hover{ transform:translateY(-1px); filter:brightness(1.06) }
.writingprompt-btn:active{ transform:translateY(0); filter:brightness(.98) }
.writingprompt-btn-prim{ background:linear-gradient(135deg, var(--wp-accent), var(--wp-warm)); border-color:transparent }
.writingprompt-btn-warm{ background:linear-gradient(135deg, var(--wp-warm), #ff9a6a); border-color:transparent }
.writingprompt-btn-ghost{ background:transparent; border:1px dashed var(--wp-border); color:#e5e7eb; box-shadow:none; font-weight:700 }

/* =========================
   Inputs, selects, toggles
   ========================= */
.writingprompt-select,.writingprompt-number,.writingprompt-input{
  background:#0f1b34; color:#e5e7eb; border:1px solid var(--wp-border);
  border-radius:10px; padding:9px 12px; font-size:14px; outline:0;
  transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.writingprompt-select{ background:#0e1730 }
.writingprompt-select:hover,.writingprompt-number:hover,.writingprompt-input:hover{ border-color:rgba(59,130,246,.45) }
.writingprompt-select:focus,.writingprompt-number:focus,.writingprompt-input:focus{
  border-color:rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.25);
}

.writingprompt-toggle{
  display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none;
  padding:8px 10px; background:#0b1226; border:1px dashed var(--wp-border); border-radius:12px; color:#e6ecff;
}
.writingprompt-toggle input{ accent-color:var(--wp-accent) }

/* =========================
   Result, list, code
   ========================= */
.writingprompt-result{
  min-height:160px; border:1px solid var(--wp-border); border-radius:12px; background:#0b142b; padding:16px; position:relative; overflow:auto;
}
.writingprompt-result h3{ margin:0 0 8px; font-family:var(--wp-font-head) }
.writingprompt-result p{ margin:0; font-size:15px }

.writingprompt-list{ display:grid; gap:8px; max-height:260px; overflow:auto }
.writingprompt-item{
  border:1px dashed var(--wp-border); border-radius:10px; padding:10px; display:flex; justify-content:space-between; gap:10px;
  background:#0b1226;
}
.writingprompt-item p{ margin:0; color:#dfe8ff }
.writingprompt-item small{ color:var(--wp-muted) }
.writingprompt-item .writingprompt-mini{ display:flex; gap:6px; align-items:center }

.writingprompt-count{ color:var(--wp-muted); font-size:13px }

.writingprompt-code{
  width:100%; min-height:140px; background:#0a1022; color:#e6efff;
  border:1px solid var(--wp-border); border-radius:12px; padding:12px; font:13px/1.6 var(--wp-font-mono); white-space:pre; overflow:auto;
}

/* =========================
   Toast + hint + guide links
   ========================= */
.writingprompt-toast{
  position:fixed; right:16px; bottom:16px; background:#0b1226; border:1px solid var(--wp-border);
  color:#e5e7eb; padding:12px 14px; border-radius:12px; box-shadow:var(--wp-shadow-1);
  transform:translateY(8px); opacity:0; pointer-events:none;
  transition:transform .25s ease, opacity .25s ease;
}
.writingprompt-toast.show{ transform:translateY(0); opacity:1 }

.writingprompt-hint{ color:var(--wp-muted); font-size:13px }
.free-tools-guide{ margin-top:16px }
.free-tools-guide-p{ color:var(--wp-muted) }
.free-tools-blog-link{ color:#bcd3ff; text-decoration:underline; text-underline-offset:2px }
.free-tools-blog-link:hover{ color:#d7e4ff }

/* =========================
   Focus ring (keep accessible)
   ========================= */
:where(.writingprompt-btn,.writingprompt-select,.writingprompt-number,.writingprompt-input,.writingprompt-toggle):focus{
  outline:2px solid color-mix(in oklab, var(--wp-accent) 60%, white); outline-offset:2px;
}

/* Motion preferences */
@media (prefers-reduced-motion:reduce){
  .writingprompt-card,.writingprompt-btn,.writingprompt-hero{ transition:none !important; animation:none !important; }
}

.feature-card-all-pages {margin: 0 2rem;}
.tools-grid {margin: 1rem; background: #0e1730;}
.tool-card {background: #0f1b34;}
@media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>


    
  
<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="/features.html">Features</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="/login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>




  
  <main class="writingprompt-page" id="writingprompt-app">
    <div class="writingprompt-container">
      <section class="writingprompt-hero">
        <h1 class="writingprompt-title">Random Writing Prompt Generator</h1>
        <p class="writingprompt-sub">Spin fresh ideas with genre, tone, and length filters. Save favorites, import your own JSON, and export results. Private, instant, in your browser.</p>
      </section>

      <section class="writingprompt-grid">
        <!-- Left: Prompt, controls -->
        <article class="writingprompt-card">
          <header class="writingprompt-card-h">
            <div class="writingprompt-card-t">
              üé≤ Prompt
              <span class="writingprompt-chip">Keyboard: Ctrl + Enter</span>
            </div>
            <div class="writingprompt-flex">
              <button class="writingprompt-btn writingprompt-btn-prim" id="writingprompt-generate">Generate</button>
              <button class="writingprompt-btn" id="writingprompt-lock">Lock current</button>
              <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-copy">Copy</button>
            </div>
          </header>
          <div class="writingprompt-card-b">
            <div class="writingprompt-result" aria-live="polite">
              <h3 id="writingprompt-title">Your next idea awaits</h3>
              <p id="writingprompt-text">Click Generate to get a writing prompt. Add filters to shape tone, genre, and length.</p>
            </div>

            <div class="writingprompt-actions">
              <div class="writingprompt-flex">
                <label class="writingprompt-toggle" title="Live generate when filters change or you type seed">
                  <input type="checkbox" id="writingprompt-live"> Live generate
                </label>
                <span class="writingprompt-badge" id="writingprompt-stats">0 prompts ‚Ä¢ 0 favorites</span>
              </div>
              <div class="writingprompt-flex">
                <input id="writingprompt-seed" class="writingprompt-input" placeholder="Optional seed words (comma separated)" />
                <button class="writingprompt-btn" id="writingprompt-share">Share link</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Right: Filters, library, favorites -->
        <article class="writingprompt-card">
          <header class="writingprompt-card-h">
            <div class="writingprompt-card-t">‚öôÔ∏è Filters & Library</div>
            <div class="writingprompt-flex">
              <input type="file" id="writingprompt-file" accept="application/json" hidden>
              <button class="writingprompt-btn" id="writingprompt-import">Import JSON</button>
              <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-export-json">Export JSON</button>
              <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-export-csv">Export CSV</button>
            </div>
          </header>
          <div class="writingprompt-card-b">
            <div class="writingprompt-flex">
              <label for="writingprompt-genre">Genre</label>
              <select id="writingprompt-genre" class="writingprompt-select">
                <option value="">Any</option>
                <option>Fantasy</option>
                <option>Science Fiction</option>
                <option>Mystery</option>
                <option>Romance</option>
                <option>Horror</option>
                <option>Historical</option>
                <option>Nonfiction</option>
                <option>Poetry</option>
              </select>

              <label for="writingprompt-tone">Tone</label>
              <select id="writingprompt-tone" class="writingprompt-select">
                <option value="">Any</option>
                <option>Light</option>
                <option>Serious</option>
                <option>Humorous</option>
                <option>Dark</option>
                <option>Inspirational</option>
                <option>Academic</option>
              </select>

              <label for="writingprompt-length">Length</label>
              <select id="writingprompt-length" class="writingprompt-select">
                <option value="">Any</option>
                <option>Micro</option>
                <option>Short</option>
                <option>Medium</option>
                <option>Long</option>
              </select>

              <label class="writingprompt-toggle"><input type="checkbox" id="writingprompt-unique" checked> No repeats</label>
            </div>

            <div class="writingprompt-flex">
              <label class="writingprompt-toggle"><input type="checkbox" id="writingprompt-include-questions" checked> Include question-style prompts</label>
              <label class="writingprompt-toggle"><input type="checkbox" id="writingprompt-include-visual" checked> Include visual cues</label>
              <label class="writingprompt-toggle"><input type="checkbox" id="writingprompt-include-academic"> Academic practice</label>
            </div>

            <div class="writingprompt-flex">
              <input id="writingprompt-search" class="writingprompt-input" placeholder="Search in library..." />
              <button class="writingprompt-btn" id="writingprompt-clear-filters">Clear filters</button>
            </div>

            <div class="writingprompt-list" id="writingprompt-list" aria-label="Prompt library"></div>

            <div class="writingprompt-actions">
              <div class="writingprompt-flex">
                <button class="writingprompt-btn writingprompt-btn-warm" id="writingprompt-fav">Add to favorites</button>
                <button class="writingprompt-btn" id="writingprompt-view-fav">View favorites</button>
                <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-clear-fav">Clear favorites</button>
              </div>
              <span class="writingprompt-count" id="writingprompt-count-hint">Showing 0 of 0</span>
            </div>
          </div>
        </article>
      </section>

      <!-- Code view for JSON list -->
      <section class="writingprompt-card" style="margin-top:14px">
        <header class="writingprompt-card-h">
          <div class="writingprompt-card-t">üóÇ JSON List (read only)</div>
          <div class="writingprompt-flex">
            <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-copy-json">Copy JSON</button>
            <button class="writingprompt-btn writingprompt-btn-ghost" id="writingprompt-download-json">Download JSON</button>
          </div>
        </header>
        <div class="writingprompt-card-b">
          <pre class="writingprompt-code" id="writingprompt-json"></pre>
          <p class="writingprompt-hint">Tip: Bring your own prompts. Use Import JSON to merge with this library. We never upload your data.</p>
        </div>
      </section>
    </div>

    <div class="free-tools-guide">
    <p class="free-tools-guide-p">See Random Prompt Generator Guide on SnipText Blog Page <a href="/blog/random-writing-prompt-generator-guide-json-prompts-filters-favorites-import-export-private-in-browser-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>

    <div class="writingprompt-toast" id="writingprompt-toast" role="status" aria-live="polite">Copied</div>
  </main>


  <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

          <article class="tool-card" tabindex="0" data-href="/tools/random-synonym-finder-smart-thesaurus-batch-rewrite-tone-length-filters-free-online-tool-sniptext.html" aria-labelledby="t-synonym">
                  <div class="card-icon" aria-hidden="true">
                    <!-- Synonym icon: shuffle arrows + sparkle -->
                    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Random Synonym Finder icon">
                      <!-- shuffle paths -->
                      <path d="M3 7h4c2.5 0 4 5 7 5h7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
                      <path d="M3 17h4c1.6 0 2.7-2 3.6-3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
                      <!-- arrowheads -->
                      <path d="M17 3l4 4-4 4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                      <path d="M17 13l4 4-4 4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                      <!-- sparkle -->
                      <path d="M7 4.5l.6-1.2.6 1.2 1.2.6-1.2.6-.6 1.2-.6-1.2-1.2-.6 1.2-.6z" stroke="currentColor" stroke-width="1.2" fill="none" />
                    </svg>
                  </div>
                  <h3 id="t-synonym" class="card-title">Random Synonym Finder</h3>
                  <p class="card-desc">
                    Highlight a word and spin smart synonyms by tone, formality, length, and frequency. Batch-rewrite with locks, A/B compare, and export your replacement map. Private, in-browser.
                  </p>
                  <a class="card-cta" href="/tools/random-synonym-finder-smart-thesaurus-batch-rewrite-tone-length-filters-free-online-tool-sniptext.html" aria-label="Open Random Synonym Finder">Open ‚Üí</a>
              </article>

              <article class="tool-card anagram-tool-card" tabindex="0" data-href="/tools/anagram-generator-fast-anagram-filters-multi-word-export-sniptext-tool.html" aria-labelledby="anagram-tg">
                  <div class="card-icon anagram-card-icon" aria-hidden="true">
                    <!-- Anagram icon: shuffled arrows + letter tiles -->
                    <svg viewBox="0 0 24 24" class="svg-icon anagram-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Anagram Generator">
                      <!-- shuffle arrows -->
                      <path d="M3 7h4c2 0 3 3 5 3h6" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                      <path d="M15.5 5.2 19 7.5l-3.5 2.3" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M3 17h4c2 0 3-3 5-3h6" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                      <path d="M15.5 14.2 19 16.5l-3.5 2.3" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                      <!-- letter tiles -->
                      <rect x="2.8" y="9.4" width="4.6" height="4.6" rx="1" fill="none" stroke="currentColor" stroke-width="1.2"/>
                      <text x="5.1" y="12.6" text-anchor="middle" font-size="2.6" font-family="ui-sans-serif, system-ui" fill="currentColor">A</text>
                      <rect x="16.6" y="8.1" width="4.6" height="4.6" rx="1" fill="none" stroke="currentColor" stroke-width="1.2" opacity=".95"/>
                      <text x="18.9" y="11.3" text-anchor="middle" font-size="2.6" font-family="ui-sans-serif, system-ui" fill="currentColor">G</text>
                    </svg>
                  </div>
                  <h3 id="anagram-tg" class="card-title anagram-card-title">Anagram Generator</h3>
                  <p class="card-desc anagram-card-desc">
                    Rearrange letters into single or multi-word anagrams with smart filters for length, starts/ends with, include or exclude letters, and wildcard patterns. Rank by frequency or Scrabble score, paste your own dictionary, and export results. Private, in-browser.
                  </p>
                  <a class="card-cta anagram-card-cta" href="/tools/anagram-generator-fast-anagram-filters-multi-word-export-sniptext-tool.html" aria-label="Open Anagram Generator">Open ‚Üí</a>
              </article>

              <article class="tool-card piglatin-card-teaser" tabindex="0"
                  data-href="/tools/pig-latin-converter-fun-accurate-and-classroom-friendly.html"
                  aria-labelledby="t-piglatin">
                  <div class="card-icon" aria-hidden="true">
                    <!-- Pig Latin icon: pig snout + speech bubble "ay" motif -->
                    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Pig Latin Converter icon">
                      <!-- head -->
                      <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="1.6"/>
                      <!-- ears -->
                      <path d="M7.2 6.5l-2-1.6 0 2.8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M16.8 6.5l2-1.6 0 2.8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <!-- snout -->
                      <ellipse cx="12" cy="14" rx="4.2" ry="2.6" fill="none" stroke="currentColor" stroke-width="1.6"/>
                      <circle cx="10.7" cy="14" r="0.7" fill="currentColor"/>
                      <circle cx="13.3" cy="14" r="0.7" fill="currentColor"/>
                      <!-- smile hint -->
                      <path d="M9 11.2c.8.5 2 .5 3 0" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                      <!-- speech bubble tail with tiny 'ay' strokes -->
                      <path d="M18 9.2c1.9 0 3.3 1.4 3.3 3.1 0 1.8-1.4 3.2-3.3 3.2h-1.1l-1.2 1.3v-1.3h-0.2"
                            fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M17.2 11.5l.5 1.6m1-1.6l-.5 1.6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                    </svg>
                  </div>
                  <h3 id="t-piglatin" class="card-title">Pig Latin Converter</h3>
                  <p class="card-desc">
                    Turn English into Pig Latin with smart punctuation and capitalization, choose suffix styles, see side by side diffs, try reverse mode, and export TXT, CSV, or JSON. Private, in browser.
                  </p>
                  <a class="card-cta"
                    href="/tools/pig-latin-converter-fun-accurate-and-classroom-friendly.html"
                    aria-label="Open Pig Latin Converter">Open ‚Üí</a>
              </article>

    <article class="tool-card" tabindex="0" data-href="/tools/text-to-list-to-text-converter.html" aria-labelledby="t9">
      <div class="card-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="svg-icon">
          <path d="M4 6h16M4 12h16M4 18h16M8 6v12" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </div>
      <h3 id="t9" class="card-title">Text ‚Üî List Converter</h3>
      <p class="card-desc">Quickly switch between plain text and structured lists with bullets, numbers, or custom separators.</p>
      <a class="card-cta" href="/tools/text-to-list-to-text-converter.html" aria-label="Open Text to List Converter">Open ‚Üí</a>
    </article>

  </section>




  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="privacy-policy.html">Privacy Policy</a>
      <a href="terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        ¬∑ All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>




  <div class="random-text-toast" id="random-text-toast" role="status" aria-live="polite"></div>


    <!-- Include the JavaScript file for this page -->
  <script src="/js/index.js" defer></script>
  <script src="/js/auth.js"></script>
  <script src="/tools/js/free-tools.js"></script>

  <script>
    // Helpers
    const $ = (s,p=document)=>p.querySelector(s);
    const $$ = (s,p=document)=>[...p.querySelectorAll(s)];
    const wpToast = msg => { const t = $('#writingprompt-toast'); t.textContent = msg||'Done'; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1300); };
    const wpCSV = row => row.map(c=> `"${String(c).replace(/"/g,'""')}"`).join(',') + '\\n';
    const wpDownload = (filename, text, type='text/plain') => {
      const blob = new Blob([text], {type}); const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = filename; document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    };

    // Library - default JSON prompts (short, varied). You can expand easily.
    const writingpromptDefault = [
      {id:1, text:"A letter arrives 10 years late and changes everything.", genre:"Mystery", tone:"Serious", length:"Short", tags:["letter","time"], type:"narrative"},
      {id:2, text:"Describe a city at dawn using only sounds and smells.", genre:"Nonfiction", tone:"Light", length:"Short", tags:["sensory","city"], type:"descriptive"},
      {id:3, text:"Two historians argue over a footnote that rewrites history.", genre:"Historical", tone:"Humorous", length:"Medium", tags:["debate","research"], type:"dialogue", academic:true},
      {id:4, text:"Write a micro horror set in a library after closing time.", genre:"Horror", tone:"Dark", length:"Micro", tags:["library","silence"], type:"narrative"},
      {id:5, text:"A scientist tries to apologize to a future version of themselves.", genre:"Science Fiction", tone:"Serious", length:"Short", tags:["time","apology"], type:"narrative"},
      {id:6, text:"What does courage smell like", genre:"Poetry", tone:"Inspirational", length:"Short", tags:["metaphor"], type:"question"},
      {id:7, text:"Write an academic abstract for a fairy tale.", genre:"Fantasy", tone:"Academic", length:"Short", tags:["abstract","fairy"], type:"narrative", academic:true},
      {id:8, text:"Two strangers swap phones by mistake, then decide to keep them.", genre:"Romance", tone:"Light", length:"Medium", tags:["phones","meetcute"], type:"narrative"},
      {id:9, text:"Describe a planet where shadows speak.", genre:"Science Fiction", tone:"Dark", length:"Short", tags:["worldbuilding","shadows"], type:"descriptive"},
      {id:10, text:"Write a note your character leaves in a library book.", genre:"Nonfiction", tone:"Light", length:"Micro", tags:["note","library"], type:"narrative"},
      {id:11, text:"A chef loses their sense of taste before a big competition.", genre:"Nonfiction", tone:"Serious", length:"Medium", tags:["chef","loss"], type:"narrative"},
      {id:12, text:"What is the kindest lie you ever told", genre:"Poetry", tone:"Serious", length:"Short", tags:["ethics"], type:"question"},
      {id:13, text:"Rewrite a myth as a tech support ticket.", genre:"Fantasy", tone:"Humorous", length:"Short", tags:["myth","tech"], type:"narrative"},
      {id:14, text:"Design a museum label for an ordinary object that saved a life.", genre:"Nonfiction", tone:"Inspirational", length:"Short", tags:["object","museum"], type:"expository"},
      {id:15, text:"Two messages arrive at the same time with opposite truths.", genre:"Mystery", tone:"Serious", length:"Short", tags:["truth","choice"], type:"narrative"},
      {id:16, text:"An astronaut plants a garden in zero gravity.", genre:"Science Fiction", tone:"Inspirational", length:"Medium", tags:["garden","space"], type:"narrative"},
      {id:17, text:"Use only questions to show two exes trying to make peace.", genre:"Romance", tone:"Serious", length:"Short", tags:["dialogue"], type:"dialogue", questionLike:true},
      {id:18, text:"Write a 6 line poem where the last word of each line rhymes.", genre:"Poetry", tone:"Light", length:"Short", tags:["rhyme"], type:"poetry"},
      {id:19, text:"A village votes on whether to keep winter forever.", genre:"Fantasy", tone:"Dark", length:"Medium", tags:["vote","season"], type:"narrative"},
      {id:20, text:"Give instructions for something impossible, like bottling laughter.", genre:"Nonfiction", tone:"Humorous", length:"Short", tags:["instructions"], type:"expository"}
    ];

    // State
    const state = {
      library:[...writingpromptDefault],
      favorites:[],
      lockedId:null,
      unique:true,
      historyIds:new Set(),
    };

    // Elements
    const els = {
      title: $('#writingprompt-title'),
      text: $('#writingprompt-text'),
      list: $('#writingprompt-list'),
      genre: $('#writingprompt-genre'),
      tone: $('#writingprompt-tone'),
      length: $('#writingprompt-length'),
      unique: $('#writingprompt-unique'),
      includeQ: $('#writingprompt-include-questions'),
      includeV: $('#writingprompt-include-visual'),
      includeA: $('#writingprompt-include-academic'),
      search: $('#writingprompt-search'),
      stats: $('#writingprompt-stats'),
      countHint: $('#writingprompt-count-hint'),
      json: $('#writingprompt-json'),
      generate: $('#writingprompt-generate'),
      lock: $('#writingprompt-lock'),
      copy: $('#writingprompt-copy'),
      live: $('#writingprompt-live'),
      seed: $('#writingprompt-seed'),
      share: $('#writingprompt-share'),
      importBtn: $('#writingprompt-import'),
      file: $('#writingprompt-file'),
      exportJson: $('#writingprompt-export-json'),
      exportCsv: $('#writingprompt-export-csv'),
      copyJson: $('#writingprompt-copy-json'),
      downloadJson: $('#writingprompt-download-json'),
      fav: $('#writingprompt-fav'),
      viewFav: $('#writingprompt-view-fav'),
      clearFav: $('#writingprompt-clear-fav'),
      app: $('#writingprompt-app'),
    };

    // Filtering
    function filteredLibrary(){
      const q = (els.search.value||'').trim().toLowerCase();
      return state.library.filter(p=>{
        if (els.genre.value && p.genre !== els.genre.value) return false;
        if (els.tone.value && p.tone !== els.tone.value) return false;
        if (els.length.value && p.length !== els.length.value) return false;
        if (!els.includeQ.checked && (p.type==='question' || p.questionLike)) return false;
        if (!els.includeV.checked && p.tags?.includes('visual')) return false;
        if (els.includeA.checked && !p.academic) return false;
        if (q && !(p.text.toLowerCase().includes(q) || (p.tags||[]).some(t=>String(t).toLowerCase().includes(q)))) return false;
        if (els.unique.checked && state.historyIds.has(p.id)) return false;
        return true;
      });
    }

    function renderList(){
      const items = filteredLibrary();
      els.list.innerHTML = '';
      for(const p of items.slice(0,100)){ // cap to keep it snappy
        const div = document.createElement('div');
        div.className = 'writingprompt-item';
        div.innerHTML = `
          <div>
            <p>${escapeHtml(p.text)}</p>
            <small>${p.genre||'Any'} ‚Ä¢ ${p.tone||'Any'} ‚Ä¢ ${p.length||'Any'}</small>
          </div>
          <div class="writingprompt-mini">
            <button class="writingprompt-btn" data-id="${p.id}" data-act="use">Use</button>
            <button class="writingprompt-btn writingprompt-btn-ghost" data-id="${p.id}" data-act="fav">‚òÖ</button>
          </div>
        `;
        els.list.appendChild(div);
      }
      els.countHint.textContent = `Showing ${items.length} of ${state.library.length}`;
      els.stats.textContent = `${state.library.length} prompts ‚Ä¢ ${state.favorites.length} favorites`;
    }

    function escapeHtml(s){return String(s).replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]))}

    // Random selection
    function pickPrompt(){
      if (state.lockedId){
        const p = state.library.find(x=>x.id===state.lockedId);
        if (p) return p;
      }
      const pool = filteredLibrary();
      if (!pool.length){
        return {id:0, text:"No prompts match your filters. Try clearing filters or importing more prompts.", genre:"", tone:"", length:""};
      }
      // Seed influence: boost prompts containing any seed word
      const seeds = (els.seed.value||'').toLowerCase().split(',').map(s=>s.trim()).filter(Boolean);
      const weighted = pool.flatMap(p=>{
        const score = seeds.length ? seeds.reduce((acc,w)=> acc + (p.text.toLowerCase().includes(w) ? 2 : 0), 1) : 1;
        return Array(Math.max(1,Math.min(5,score))).fill(p);
      });
      const chosen = weighted[Math.floor(Math.random()*weighted.length)];
      if (els.unique.checked && chosen.id) state.historyIds.add(chosen.id);
      return chosen;
    }

    function showPrompt(p){
      els.title.textContent = p.genre ? `${p.genre} ‚Ä¢ ${p.tone||'Tone free'}` : 'Random prompt';
      els.text.textContent = p.text;
    }

    // Favorites
    function addFavorite(current){
      if (!current || !current.id){ wpToast('Nothing to favorite'); return; }
      if (!state.favorites.some(f=>f.id===current.id)){
        state.favorites.push(current);
        saveLocal();
        wpToast('Added to favorites');
        renderList();
      } else { wpToast('Already in favorites'); }
    }

    function viewFavorites(){
      els.search.value = '';
      els.genre.value = '';
      els.tone.value = '';
      els.length.value = '';
      els.includeQ.checked = true;
      els.includeV.checked = true;
      els.includeA.checked = false;
      els.unique.checked = false;
      // temporarily swap library to favorites view
      const original = state.library;
      state.library = [...state.favorites];
      renderList();
      state.library = original;
      wpToast('Showing favorites preview');
    }

    function clearFavorites(){
      state.favorites = [];
      saveLocal();
      renderList();
      wpToast('Cleared favorites');
    }

    // Import/Export
    function exportVisibleJSON(){
      const items = filteredLibrary();
      wpDownload('writing-prompts.json', JSON.stringify(items, null, 2), 'application/json');
    }
    function exportVisibleCSV(){
      const items = filteredLibrary();
      let csv = wpCSV(['id','text','genre','tone','length','tags','type','academic']);
      for(const p of items){
        csv += wpCSV([p.id, p.text, p.genre||'', p.tone||'', p.length||'', (p.tags||[]).join('|'), p.type||'', p.academic?1:0]);
      }
      wpDownload('writing-prompts.csv', csv, 'text/csv');
    }

    async function importJSON(file){
      try{
        const text = await file.text();
        const arr = JSON.parse(text);
        if (!Array.isArray(arr)) throw new Error('JSON must be an array of prompt objects');
        let maxId = Math.max(0, ...state.library.map(p=>p.id||0));
        const cleaned = arr.map(o=>{
          const id = ++maxId;
          return {
            id,
            text: String(o.text||o.prompt||'').trim(),
            genre: o.genre||'',
            tone: o.tone||'',
            length: o.length||'',
            tags: Array.isArray(o.tags) ? o.tags : (o.tags? String(o.tags).split(',').map(s=>s.trim()): []),
            type: o.type||'narrative',
            academic: !!o.academic
          }
        }).filter(p=>p.text);
        state.library.push(...cleaned);
        renderJSON();
        renderList();
        saveLocal();
        wpToast(`Imported ${cleaned.length} prompts`);
      }catch(e){
        wpToast('Import failed');
        console.error(e);
      }
    }

    // JSON view
    function renderJSON(){
      els.json.textContent = JSON.stringify(state.library, null, 2);
    }

    // URL share
    function encodeState(current){
      const s = {
        g: els.genre.value, t: els.tone.value, l: els.length.value,
        q: els.search.value, u: els.unique.checked ? 1 : 0,
        iq: els.includeQ.checked ? 1 : 0, iv: els.includeV.checked ? 1 : 0, ia: els.includeA.checked ? 1 : 0,
        sd: els.seed.value,
        p: current ? current.id : 0,
        fv: state.favorites.map(f=>f.id).slice(0,100)
      };
      const packed = btoa(unescape(encodeURIComponent(JSON.stringify(s))));
      history.replaceState(null,'','#'+packed);
      wpToast('Share link ready');
    }

    function decodeState(){
      const hash = location.hash.slice(1);
      if (!hash) return null;
      try{
        const raw = decodeURIComponent(escape(atob(hash)));
        const s = JSON.parse(raw);
        els.genre.value = s.g || '';
        els.tone.value = s.t || '';
        els.length.value = s.l || '';
        els.search.value = s.q || '';
        els.unique.checked = !!s.u;
        els.includeQ.checked = s.iq!==0;
        els.includeV.checked = s.iv!==0;
        els.includeA.checked = !!s.ia;
        els.seed.value = s.sd || '';
        if (Array.isArray(s.fv) && s.fv.length){
          // mark those ids as favorites if found
          const map = new Map(state.library.map(p=>[p.id,p]));
          state.favorites = s.fv.map(id=>map.get(id)).filter(Boolean);
        }
        renderList();
        renderJSON();
        // If prompt id in state, show it
        const p = state.library.find(x=>x.id===s.p);
        if (p){ showPrompt(p); if (els.unique.checked) state.historyIds.add(p.id); }
        return s;
      }catch(e){
        console.warn('Bad hash', e);
        return null;
      }
    }

    // Local storage
    function saveLocal(){
      try{
        localStorage.setItem('writingprompt-favorites', JSON.stringify(state.favorites));
        localStorage.setItem('writingprompt-library', JSON.stringify(state.library));
      }catch{}
    }
    function loadLocal(){
      try{
        const fav = JSON.parse(localStorage.getItem('writingprompt-favorites')||'[]');
        const lib = JSON.parse(localStorage.getItem('writingprompt-library')||'[]');
        if (Array.isArray(fav) && fav.length) state.favorites = fav;
        if (Array.isArray(lib) && lib.length) state.library = lib;
      }catch{}
    }

    // Events
    function bindEvents(){
      els.generate.addEventListener('click', ()=>{
        const p = pickPrompt(); showPrompt(p);
        if (els.live.checked) encodeState(p);
      });
      els.lock.addEventListener('click', ()=>{
        const current = findCurrent();
        if (!current || !current.id){ wpToast('Nothing to lock'); return; }
        state.lockedId = state.lockedId===current.id ? null : current.id;
        wpToast(state.lockedId ? 'Locked' : 'Unlocked');
      });
      els.copy.addEventListener('click', async ()=>{
        const t = `${els.title.textContent}: ${els.text.textContent}`;
        try{ await navigator.clipboard.writeText(t); wpToast('Copied'); }catch{ wpToast('Press Ctrl+C'); }
      });
      els.live.addEventListener('change', ()=>{
        if (els.live.checked){ const p = pickPrompt(); showPrompt(p); encodeState(p); }
      });

      ['change','input','keyup'].forEach(ev=>{
        [els.genre,els.tone,els.length,els.search,els.unique,els.includeQ,els.includeV,els.includeA,els.seed]
        .forEach(el=>el.addEventListener(ev,()=>{
          renderList();
          if (els.live.checked){ const p = pickPrompt(); showPrompt(p); encodeState(p); }
        }));
      });

      els.list.addEventListener('click', e=>{
        const btn = e.target.closest('button[data-act]');
        if (!btn) return;
        const id = Number(btn.dataset.id);
        const p = state.library.find(x=>x.id===id);
        if (!p) return;
        if (btn.dataset.act==='use'){ showPrompt(p); if (els.unique.checked) state.historyIds.add(p.id); if (els.live.checked) encodeState(p); }
        if (btn.dataset.act==='fav'){ addFavorite(p); }
      });

      els.share.addEventListener('click', ()=>{
        const p = findCurrent();
        encodeState(p);
      });

      els.importBtn.addEventListener('click', ()=> els.file.click());
      els.file.addEventListener('change', e=>{
        const f = e.target.files?.[0]; if (f) importJSON(f);
        els.file.value = '';
      });

      els.exportJson.addEventListener('click', exportVisibleJSON);
      els.exportCsv.addEventListener('click', exportVisibleCSV);

      els.copyJson.addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText(els.json.textContent||''); wpToast('JSON copied'); }catch{ wpToast('Select and copy'); }
      });
      els.downloadJson.addEventListener('click', ()=> wpDownload('writing-prompts.json', els.json.textContent||'{}', 'application/json'));

      els.fav.addEventListener('click', ()=> addFavorite(findCurrent()));
      els.viewFav.addEventListener('click', viewFavorites);
      els.clearFav.addEventListener('click', clearFavorites);

      document.addEventListener('keydown', e=>{
        if (e.ctrlKey && e.key==='Enter'){ e.preventDefault(); els.generate.click(); }
      });

      // Reduced motion preference sync
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
        document.documentElement.style.scrollBehavior = 'auto';
      }
    }

    function findCurrent(){
      const t = els.text.textContent||'';
      return state.library.find(p=>p.text===t) || null;
    }

    // Init
    loadLocal();
    renderList();
    renderJSON();
    decodeState();
    bindEvents();

  </script>
</body>
</html>
