<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date());
    gtag('config','G-GE98V48RK8');
  </script>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Rock Paper Scissors - smart RPS game with adaptive AI, stats and gorgeous icons | SnipText</title>
  <meta name="description" content="Play a beautiful dark themed Rock Paper Scissors with adaptive AI that learns your patterns, animated hand icons, streaks, charts, keyboard shortcuts and local stats. Private and in browser." />
  <meta name="keywords" content="rock paper scissors, rps game, adaptive ai, rock paper scissors online, keyboard shortcuts, statistics, streaks, confetti" />
  <meta name="author" content="SnipText" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/rock-paper-scissors-smart" />
  <link rel="alternate" href="https://checkai.pro/tools/rock-paper-scissors-smart" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/rock-paper-scissors-smart" hreflang="x-default" />

  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Rock Paper Scissors - smart, fast and pretty" />
  <meta property="og:description" content="Adaptive AI, animated SVG hands, streaks, charts and keyboard play. All local and private." />
  <meta property="og:url" content="https://checkai.pro/tools/rock-paper-scissors-smart.html" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText Rock Paper Scissors preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Rock Paper Scissors - smart, fast and pretty" />
  <meta name="twitter:description" content="Play a gorgeous dark themed RPS with adaptive AI and stats. Works offline after first load." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#0F172A" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- Fonts (brand stack) -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>

  <!-- Structured Data: Game -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Game",
    "name": "SnipText Rock Paper Scissors",
    "applicationCategory": "Game",
    "operatingSystem": "Web",
    "url": "https://checkai.pro/tools/rock-paper-scissors-smart.html",
    "gamePlatform": "Web browser",
    "inLanguage": "en",
    "author": {"@type":"Organization","name":"SnipText"},
    "genre": ["Arcade","Strategy"],
    "isAccessibleForFree": true,
    "playMode": "SinglePlayer",
    "description": "Dark themed Rock Paper Scissors with adaptive AI, animated icons, charts and keyboard shortcuts."
  }
  </script>

  <style>
    /* ======================================================
       SNIPTEXT â€¢ ROCK PAPER SCISSORS (dark, single file)
       Brand aware tokens - variable names include 'rps'
       ====================================================== */
    :root{
      /* Mapped brand palette */
      --rps-primary:#1D4ED8; /* color-primary */
      --rps-accent:#3B82F6;  /* color-accent */
      --rps-bg:#0F172A;      /* color-bg-dark */
      --rps-bg-soft:#1d1f2f; /* color-footer-bg */
      --rps-white:#ffffff;   /* white */
      --rps-muted:#c7d2fe;   /* soft text */
      --rps-warm:#ff7c4c;    /* gradient cta end */
      --rps-pop:#e85d27;     /* used often */

      --rps-surface:rgba(255,255,255,.05);
      --rps-surface-2:rgba(255,255,255,.07);
      --rps-border:rgba(255,255,255,.14);

      --rps-radius-xl:22px;
      --rps-radius-lg:16px;
      --rps-radius-md:12px;

      --rps-shadow-1:0 12px 30px rgba(0,0,0,.35);
      --rps-shadow-2:0 20px 60px rgba(17,24,39,.46);

      --rps-head:'Poppins','Segoe UI',system-ui,-apple-system,Roboto,'Helvetica Neue',Arial,sans-serif;
      --rps-body:'Roboto','Segoe UI',system-ui,-apple-system,'Helvetica Neue',Arial,sans-serif;

      color-scheme:dark;
    }
    html,body{height:100%}
    body{
      margin:0; font-family:var(--rps-body); color:var(--rps-white); line-height:1.55;
      background:
        radial-gradient(1200px 600px at 8% -10%, color-mix(in oklab, var(--rps-primary) 26%, transparent), transparent 60%),
        radial-gradient(900px 500px at 100% 0%,  color-mix(in oklab, var(--rps-accent) 22%, transparent), transparent 52%),
        radial-gradient(800px 520px at 0% 100%, color-mix(in oklab, var(--rps-warm) 12%, transparent), transparent 58%),
        linear-gradient(180deg, var(--rps-bg) 0%, var(--rps-bg-soft) 100%);
      background-attachment:fixed;
    }

    /* Page shell - mirrors reference layout vibe */
    .rps-main{ width:min(1200px,92vw); margin: clamp(16px,3vw,40px) auto 90px; }

    .rps-hero{
      display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(14px,2.4vw,22px); align-items:center;
      border:1px solid var(--rps-border); border-radius:var(--rps-radius-xl);
      padding: clamp(18px,3vw,28px);
      background: linear-gradient(135deg,
        color-mix(in oklab, var(--rps-primary) 18%, transparent),
        color-mix(in oklab, var(--rps-accent) 16%, transparent)
      ) border-box;
      backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
      box-shadow:var(--rps-shadow-1); position:relative; overflow:hidden;
    }
    @media (max-width:960px){ .rps-hero{ grid-template-columns:1fr } }
    .rps-hero::after{
      content:""; position:absolute; inset:-3px; filter: blur(16px); opacity:.6; pointer-events:none;
      background:
        radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--rps-primary) 28%, transparent), transparent 65%),
        radial-gradient(460px 280px at 86% 0%,  color-mix(in oklab, var(--rps-accent) 26%, transparent), transparent 62%);
    }
    .rps-title{ margin:0 0 6px; font-weight:800; letter-spacing:.2px; line-height:1.12; font-family:var(--rps-head); font-size: clamp(22px,3.2vw,36px);
      background: linear-gradient(90deg,#fff,
        color-mix(in oklab, var(--rps-accent) 54%, #fff) 38%,
        color-mix(in oklab, var(--rps-warm) 40%, #fff) 78%, #fff);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .rps-sub{ margin:6px 0 0; color:var(--rps-muted); font-size:clamp(14px,1.8vw,16px) }
    .rps-badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px }
    .rps-badge{ padding:6px 10px; border:1px solid var(--rps-border); border-radius:999px; background: color-mix(in oklab, var(--rps-bg) 72%, transparent); color:#dbe7ff; font-size:.82rem; }

    .rps-hero-art{ display:grid; place-items:center; position:relative }
    .rps-orb{ width:100%; aspect-ratio:1/1; border-radius:30px; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.12), rgba(255,255,255,.04) 38%, transparent 40%); display:grid; place-items:center }

    .rps-grid{ margin-top: clamp(14px,2.6vw,24px); display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(12px,2.4vw,20px) }
    @media (max-width:980px){ .rps-grid{ grid-template-columns:1fr } }

    .rps-card{ border:1px solid var(--rps-border); border-radius:var(--rps-radius-lg); background:var(--rps-surface); box-shadow:var(--rps-shadow-2); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); overflow:hidden }
    .rps-card-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px; background: linear-gradient(90deg, color-mix(in oklab, var(--rps-primary) 12%, transparent), color-mix(in oklab, var(--rps-accent) 10%, transparent)); border-bottom:1px solid var(--rps-border) }
    .rps-card-title{ margin:0; font-size:13px; letter-spacing:.35px; text-transform:uppercase; opacity:.9; font-family:var(--rps-head) }
    .rps-section{ padding:12px 14px; display:grid; gap:10px }

    /* Buttons and inputs */
    .rps-row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center }
    .rps-btn{
      --_bg: linear-gradient(180deg, color-mix(in oklab, var(--rps-primary) 70%, transparent), color-mix(in oklab, var(--rps-accent) 62%, transparent));
      --_txt:#fff; --_bd: color-mix(in oklab, #000 12%, var(--rps-primary));
      appearance:none; border:1px solid var(--_bd); background:var(--_bg); color:var(--_txt);
      padding:10px 12px; border-radius:12px; font-weight:700; font-size:13px; letter-spacing:.3px; cursor:pointer;
      transition: transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease;
      box-shadow: 0 10px 20px rgba(29,78,216,.22), 0 6px 14px rgba(59,130,246,.16);
      font-family:var(--rps-head);
    }
    .rps-btn:hover{ transform: translateY(-1px); filter: brightness(1.06) }
    .rps-btn:active{ transform: translateY(0); filter: brightness(.98) }
    .rps-btn-ghost{ background:transparent; color:#e5e7eb; border:1px dashed var(--rps-border); box-shadow:none }
    .rps-btn-warm{ background: linear-gradient(135deg, var(--rps-accent), var(--rps-warm)); border-color:transparent }

    .rps-input, .rps-select{ background:#0e1730; color:#e6ecff; border:1px solid var(--rps-border); border-radius:10px; padding:10px 12px; outline:none; transition:border-color .2s ease, box-shadow .2s ease, transform .12s ease }
    .rps-input:focus, .rps-select:focus{ border-color: rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.25); transform:translateY(-1px) }

    /* Choice buttons with SVG hands */
    .rps-choices{ display:grid; grid-template-columns: repeat(3, minmax(120px,1fr)); gap:10px }
    @media (max-width:560px){ .rps-choices{ grid-template-columns: 1fr; } }
    .rps-choice{
      position:relative; display:grid; place-items:center; padding:16px; border:1px solid var(--rps-border); border-radius:16px; background:var(--rps-surface-2);
      cursor:pointer; transition: transform .15s ease, background .25s ease, border-color .2s ease, filter .2s ease;
      outline:none;
    }
    .rps-choice:hover{ transform: translateY(-2px); border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.08) }
    .rps-choice:focus{ box-shadow:0 0 0 3px rgba(59,130,246,.35) }
    .rps-choice[aria-pressed="true"]{ background: linear-gradient(135deg, color-mix(in oklab, var(--rps-accent) 28%, transparent), color-mix(in oklab, var(--rps-warm) 12%, transparent)) }
    .rps-choice svg{ width:66px; height:66px; filter:drop-shadow(0 6px 14px rgba(0,0,0,.35)) }
    .rps-choice-label{ position:absolute; bottom:8px; left:0; right:0; text-align:center; font-weight:700; color:#dbe7ff; font-size:.95rem }

    /* Board and score */
    .rps-board{ display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px; text-align:center }
    .rps-side h3{ margin:.2rem 0; font-family:var(--rps-head); letter-spacing:.4px }
    .rps-score{ font: 800 clamp(28px,7vw,42px)/1 var(--rps-head); letter-spacing:1px; background:linear-gradient(90deg, var(--rps-primary), var(--rps-accent)); -webkit-background-clip:text; background-clip:text; color:transparent }

    .rps-meter{ height:12px; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid var(--rps-border); overflow:hidden; position:relative }
    .rps-meter>i{ display:block; height:100%; width:0%; background: linear-gradient(90deg, var(--rps-primary), var(--rps-accent)) }

    .rps-outcomes{ display:flex; gap:6px; flex-wrap:wrap; align-items:center }
    .rps-dot{ width:10px; height:10px; border-radius:50%; background:#64748b; border:1px solid rgba(255,255,255,.25) }
    .rps-dot.win{ background:#22c55e }
    .rps-dot.loss{ background:#ef4444 }
    .rps-dot.draw{ background:#eab308 }

    /* Prediction bar */
    .rps-pred{ display:grid; gap:6px }
    .rps-pred-rows{ display:grid; gap:6px }
    .rps-pred-row{ display:grid; grid-template-columns: 90px 1fr 42px; gap:8px; align-items:center }
    .rps-bar{ height:10px; background:rgba(255,255,255,.08); border:1px solid var(--rps-border); border-radius:999px; overflow:hidden }
    .rps-bar>i{ display:block; height:100%; width:0%; background:linear-gradient(90deg, var(--rps-warm), var(--rps-accent)) }

    /* Toast & confetti canvas */
    .rps-toast{ position: fixed; inset: auto 16px 16px auto; background: #0b1223ee; color:#e5e7eb; padding: 10px 14px; border-radius: 12px; border:1px solid var(--rps-border); backdrop-filter: blur(8px); box-shadow: var(--rps-shadow-1); transform: translateY(20px); opacity:0; pointer-events:none; transition: transform .25s ease, opacity .25s ease; z-index:50 }
    .rps-toast.show{ transform: translateY(0); opacity:1 }
    #rps-confetti{ position: fixed; inset: 0; pointer-events:none; z-index:40 }

    /* Subtle float on cards */
    @media (prefers-reduced-motion:no-preference){
      .rps-card{ animation:rps-float 18s ease-in-out infinite }
      @keyframes rps-float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-2px)} }
    }

    .kbd{ font: 600 11px/1.2 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; background: color-mix(in oklab, var(--rps-bg) 78%, transparent); color:#cbd5e1; padding:3px 6px; border-radius:8px; border:1px solid var(--rps-border) }

.feature-card-all-pages {margin: 0 2rem;}
.tools-grid {margin: 1rem; background: #0e1730;}
.tool-card {background: #0f1b34;}
@media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>


    
  
<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="/features.html">Features</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="/contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="/login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>




  
 
<main class="rps-main" id="rps-main" aria-label="Rock Paper Scissors game">
  <section class="rps-hero" aria-labelledby="rps-title">
    <div>
      <h1 class="rps-title" id="rps-title">Rock Paper Scissors - adaptive and fun</h1>
      <p class="rps-sub">A smart opponent learns as you play. Enjoy animated hand icons, silky hover effects, streaks, stats and prediction bars. Everything runs locally and stays private.</p>
      <div class="rps-badges">
        <span class="rps-badge">Private & client side</span>
        <span class="rps-badge">Keyboard R P S</span>
        <span class="rps-badge">Adaptive AI</span>
        <span class="rps-badge">Charts & streaks</span>
      </div>
    </div>
    <div class="rps-hero-art" aria-hidden="true">
      <div class="rps-orb">
        <!-- Decorative SVG hand trio -->
        <svg viewBox="0 0 300 180" width="85%" role="img" aria-label="Stylized hands for rock paper scissors">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0%" stop-color="#3B82F6"/>
              <stop offset="100%" stop-color="#ff7c4c"/>
            </linearGradient>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="#1D4ED8" flood-opacity="0.55"/>
            </filter>
          </defs>
          <!-- Rock -->
          <path d="M70 120c-16-8-22-26-12-40 10-14 33-22 48-16 13 5 18 20 12 34-6 16-31 28-48 22z" fill="url(#g1)" opacity="0.85" filter="url(#glow)"></path>
          <!-- Paper -->
          <rect x="122" y="40" rx="14" ry="14" width="60" height="100" fill="url(#g1)" opacity="0.6" filter="url(#glow)"/>
          <!-- Scissors -->
          <g transform="translate(210,72) rotate(-14)" fill="none" stroke="url(#g1)" stroke-width="10" stroke-linecap="round" filter="url(#glow)">
            <circle cx="0" cy="0" r="18" opacity="0.9"/>
            <circle cx="34" cy="0" r="18" opacity="0.9"/>
            <path d="M5 8 L58 50"/>
            <path d="M5 -8 L58 -50"/>
          </g>
        </svg>
      </div>
    </div>
  </section>

  <section class="rps-grid">
    <!-- LEFT: Game play -->
    <article class="rps-card" aria-labelledby="play-title">
      <header class="rps-card-head">
        <h2 class="rps-card-title" id="play-title">Play</h2>
        <div class="rps-row">
          <button class="rps-btn rps-btn-ghost" id="rps-reset" title="Reset scores">Reset</button>
          <button class="rps-btn" id="rps-quick" title="Auto play 5 rounds">Auto 5</button>
        </div>
      </header>
      <div class="rps-section" id="rps-play">
        <div class="rps-board">
          <div class="rps-side" aria-label="Player">
            <h3>Player</h3>
            <div class="rps-score" id="rps-score-player" aria-live="polite">0</div>
          </div>
          <div class="rps-side">
            <div class="rps-row" style="justify-content:center">
              <span class="rps-badge">Best of</span>
              <select id="rps-bestof" class="rps-select" aria-label="Best of">
                <option>3</option><option selected>5</option><option>7</option><option>9</option>
              </select>
            </div>
            <div class="rps-row" style="justify-content:center; margin-top:6px">
              <div class="rps-meter" style="width:160px" aria-label="Round progress"><i id="rps-progress"></i></div>
            </div>
            <p id="rps-round" style="margin:.4rem 0 .2rem; color:#dbe7ff; text-align:center">Round 1</p>
          </div>
          <div class="rps-side" aria-label="Computer">
            <h3>Computer</h3>
            <div class="rps-score" id="rps-score-cpu" aria-live="polite">0</div>
          </div>
        </div>

        <div class="rps-choices" role="group" aria-label="Choose your move">
          <button class="rps-choice" id="rps-rock" data-move="rock" aria-pressed="false" aria-keyshortcuts="R" title="Rock [R]">
            <svg viewBox="0 0 64 64" role="img" aria-label="Rock icon">
              <path d="M14 44c-3-7 2-13 5-18 2-5 7-9 12-9 6 0 12 4 15 10 3 5 5 10 3 15-2 6-7 8-12 9-7 1-18 2-23-7z" fill="url(#rps-g)"></path>
            </svg>
            <span class="rps-choice-label">Rock</span>
          </button>
          <button class="rps-choice" id="rps-paper" data-move="paper" aria-pressed="false" aria-keyshortcuts="P" title="Paper [P]">
            <svg viewBox="0 0 64 64" role="img" aria-label="Paper icon">
              <rect x="14" y="10" width="36" height="46" rx="8" fill="url(#rps-g)"></rect>
              <path d="M22 18h20M22 26h20M22 34h20M22 42h16" stroke="rgba(255,255,255,.5)" stroke-width="2"/>
            </svg>
            <span class="rps-choice-label">Paper</span>
          </button>
          <button class="rps-choice" id="rps-scissors" data-move="scissors" aria-pressed="false" aria-keyshortcuts="S" title="Scissors [S]">
            <svg viewBox="0 0 64 64" role="img" aria-label="Scissors icon">
              <g fill="none" stroke="url(#rps-g)" stroke-width="6" stroke-linecap="round">
                <circle cx="20" cy="22" r="8"/>
                <circle cx="34" cy="22" r="8"/>
                <path d="M24 28 L50 50"/>
                <path d="M24 16 L50 4"/>
              </g>
            </svg>
            <span class="rps-choice-label">Scissors</span>
          </button>
          <!-- shared gradient for icons -->
          <svg width="0" height="0" aria-hidden="true">
            <defs>
              <linearGradient id="rps-g" x1="0" x2="1">
                <stop offset="0%" stop-color="#3B82F6"/>
                <stop offset="100%" stop-color="#ff7c4c"/>
              </linearGradient>
            </defs>
          </svg>
        </div>

        <div class="rps-row" style="justify-content:space-between; margin-top:6px">
          <div class="rps-outcomes" id="rps-outcomes" aria-label="Last outcomes"></div>
          <div class="rps-row">
            <button class="rps-btn rps-btn-ghost" id="rps-sound">Sound on</button>
            <button class="rps-btn rps-btn-ghost" id="rps-haptics">Haptics on</button>
          </div>
        </div>
      </div>
    </article>

    <!-- RIGHT: Insights, prediction, history -->
    <aside class="rps-card" aria-labelledby="insights-title">
      <header class="rps-card-head">
        <h2 class="rps-card-title" id="insights-title">Insights</h2>
        <div class="rps-row">
          <button class="rps-btn" id="rps-export">Export stats</button>
          <button class="rps-btn rps-btn-ghost" id="rps-clear">Clear history</button>
        </div>
      </header>
      <div class="rps-section">
        <div class="rps-row" style="justify-content:space-between">
          <div class="rps-chip">Games <b id="rps-games">0</b></div>
          <div class="rps-chip">Win rate <b id="rps-winrate">0%</b></div>
          <div class="rps-chip">Current streak <b id="rps-streak">0</b></div>
        </div>

        <div class="rps-pred" aria-label="Prediction bars">
          <h3 style="margin:.2rem 0 .4rem; font-size:1rem">AI prediction for your next move</h3>
          <div class="rps-pred-rows">
            <div class="rps-pred-row"><span>Rock</span><div class="rps-bar"><i id="rps-prock"></i></div><span id="rps-prock-t">0%</span></div>
            <div class="rps-pred-row"><span>Paper</span><div class="rps-bar"><i id="rps-ppaper"></i></div><span id="rps-ppaper-t">0%</span></div>
            <div class="rps-pred-row"><span>Scissors</span><div class="rps-bar"><i id="rps-pscissors"></i></div><span id="rps-pscissors-t">0%</span></div>
          </div>
          <small style="color:#bcd3ff">Computer counters your most likely choice. Mix it up to keep the edge.</small>
        </div>

        <div class="rps-section" style="padding-top:0">
          <canvas id="rps-chart" width="640" height="200" aria-label="Win loss timeline" role="img"></canvas>
          <small style="color:#bcd3ff">Last 30 rounds timeline. Green is win, red is loss, yellow is draw.</small>
        </div>
      </div>
    </aside>
  </section>

  <section class="rps-card" aria-labelledby="help-title" style="margin-top:12px">
    <header class="rps-card-head">
      <h2 class="rps-card-title" id="help-title">Tips</h2>
      <div class="rps-row">
        <span class="rps-badge"><span class="kbd">R</span> <span class="kbd">P</span> <span class="kbd">S</span> play</span>
        <span class="rps-badge"><span class="kbd">Space</span> auto 5</span>
        <span class="rps-badge">All local</span>
      </div>
    </header>
    <div class="rps-section">
      <ul>
        <li>Keyboard shortcuts: R, P, S to play instantly. Space triggers quick auto mode.</li>
        <li>Adaptive AI uses a tiny Markov model to predict your next move based on your recent history.</li>
        <li>Haptics will vibrate lightly on win or heavy on loss where supported.</li>
        <li>Stats are saved in your browser. Use Export to download a JSON backup.</li>
      </ul>
    </div>
  </section>

    <div class="free-tools-guide">
    <p class="free-tools-guide-p">See Rock Paper Scissors Guide on SnipText Blog Page <a href="/blog/rock-paper-scissors-adaptive-ai-game-strategy-probabilities-keyboard-shortcuts-stats-guide-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>
</main>

<canvas id="rps-confetti" aria-hidden="true"></canvas>
<div class="rps-toast" id="rps-toast" role="status" aria-live="polite"></div>


  <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

    <article class="tool-card picker-card-teaser" tabindex="0"
                                  data-href="/tools/random-picker.html"
                                  aria-labelledby="t-picker" data-filter="Fun & Interactive">
                                  <div class="card-icon" aria-hidden="true">
                                    <!-- Random Picker icon: die + raffle ticket -->
                                    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Random Picker icon" xmlns="http://www.w3.org/2000/svg">
                                      <!-- die -->
                                      <rect x="2.5" y="2.5" width="11" height="11" rx="2.2" fill="none" stroke="currentColor" stroke-width="1.6"/>
                                      <circle cx="6.5" cy="6.5" r="1" fill="currentColor"/>
                                      <circle cx="9.5" cy="6.5" r="1" fill="currentColor"/>
                                      <circle cx="8" cy="9.5" r="1" fill="currentColor"/>
                                      <!-- ticket -->
                                      <path d="M21.2 12.3c-.9 0-1.6-.7-1.6-1.6s.7-1.6 1.6-1.6V6.7c0-.9-.8-1.7-1.7-1.7h-6.2c-.9 0-1.7.8-1.7 1.7v6.2c0 .9.8 1.7 1.7 1.7h6.2c.9 0 1.7-.8 1.7-1.7v-1.4z"
                                            fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
                                      <!-- ticket perforation -->
                                      <path d="M13.3 8.8h6.6" stroke="currentColor" stroke-width="1.2" stroke-dasharray="1.6 1.6" stroke-linecap="round"/>
                                      <!-- sparkle -->
                                      <path d="M18.8 3.2l.4-1 .4 1 1 .4-1 .4-.4 1-.4-1-1-.4 1-.4z" stroke="currentColor" stroke-width="1.1" fill="none"/>
                                    </svg>
                                  </div>
                                  <h3 id="t-picker" class="card-title">Random Number and Name Picker</h3>
                                  <p class="card-desc">
                                    Fair draws for games, raffles, and classrooms. Paste names or set a number range, then pick with no repeats, optional weights, and reproducible seeding. Make balanced teams, view live history, import or export CSV, share a link with state, and celebrate winners with confetti. Private, in-browser.
                                  </p>
                                  <a class="card-cta" href="/tools/random-picker.html" aria-label="Open Random Picker">Open â†’</a>
                              </article>

    <article class="tool-card" tabindex="0"
         data-href="/tools/love-calculator-smart-compatibility-score-sniptext.html"
         aria-labelledby="tlovecalc" data-filter="Fun & Interactive">
  <div class="card-icon" aria-hidden="true">
    <!-- Love Calculator icon: heart + gauge -->
    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Love Calculator icon">
      <!-- Heart -->
      <path d="M12 21s-6.4-4.2-9-7.6C1.5 11.1 2 8.3 4.2 6.9c1.7-1.1 4-0.9 5.5 0.5L12 9.6l2.3-2.2c1.5-1.4 3.8-1.6 5.5-0.5 2.2 1.4 2.7 4.2 1.2 6.5C18.4 16.8 12 21 12 21z"
            fill="currentColor" opacity="0.9"/>
      <!-- Gauge arc -->
      <path d="M6.2 6.5a6.8 6.8 0 0 1 11.6 0" fill="none" stroke="currentColor" stroke-width="1.6" opacity="0.6"/>
      <!-- Tick marks -->
      <g stroke="currentColor" stroke-width="1" opacity="0.75">
        <path d="M7.4 6.4l-1.7-.7"/>
        <path d="M9.7 5.6L8.9 4"/>
        <path d="M12 5.2V3.4"/>
        <path d="M14.3 5.6l.8-1.6"/>
        <path d="M16.6 6.4l1.7-.7"/>
      </g>
      <!-- Needle -->
      <path d="M12 6 L13.9 9.8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      <circle cx="12" cy="6" r="0.9" fill="currentColor"/>
      <!-- Sparkles -->
      <g fill="currentColor" opacity="0.85">
        <circle cx="4.5" cy="12.2" r="0.7"/>
        <circle cx="19.6" cy="12.4" r="0.7"/>
      </g>
    </svg>
  </div>
  <h3 id="tlovecalc" class="card-title">Love Calculator</h3>
  <p class="card-desc">
    Get a smart compatibility score with a clear breakdown. Mix name similarity, phonetics, numerology, and zodiac with adjustable weights, private local history, and a shareable result card. Everything runs in your browser.
  </p>
  <a class="card-cta"
     href="/tools/love-calculator-smart-compatibility-score-sniptext.html"
     aria-label="Open Love Calculator">Open â†’</a>
</article>
    
    <article class="tool-card agecalc-tool-card" tabindex="0" data-href="/tools/age-birthday-calculator-sniptext.html" aria-labelledby="agecalc-tg" data-filter="Fun & Interactive">
  <div class="card-icon agecalc-card-icon" aria-hidden="true">
    <!-- Age Calculator icon: calendar + countdown ring -->
    <svg viewBox="0 0 24 24" class="svg-icon agecalc-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Age & Birthday Calculator">
      <!-- Outer countdown ring -->
      <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.25"/>
      <!-- Progress arc (static accent wedge) -->
      <path d="M12 2 a10 10 0 0 1 8.7 5.02" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.9"/>
      <!-- Calendar body -->
      <rect x="5" y="7.2" width="14" height="10.8" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.85"/>
      <!-- Calendar header bar -->
      <rect x="5" y="7.2" width="14" height="3" rx="1" ry="1" fill="currentColor" opacity="0.3"/>
      <!-- Binding rings -->
      <g fill="currentColor" opacity="0.95">
        <rect x="7" y="5" width="1.6" height="2.6" rx="0.6"/>
        <rect x="11.2" y="5" width="1.6" height="2.6" rx="0.6"/>
        <rect x="15.4" y="5" width="1.6" height="2.6" rx="0.6"/>
      </g>
      <!-- Date dots -->
      <g fill="currentColor" opacity="0.85">
        <circle cx="8.4" cy="12" r="0.8"/>
        <circle cx="12" cy="12" r="0.8"/>
        <circle cx="15.6" cy="12" r="0.8"/>
        <circle cx="8.4" cy="15" r="0.8"/>
        <circle cx="12" cy="15" r="0.8"/>
        <circle cx="15.6" cy="15" r="0.8"/>
      </g>
      <!-- Small clock overlay -->
      <g transform="translate(16.6,15.4)">
        <circle cx="0" cy="0" r="2.8" fill="none" stroke="currentColor" stroke-width="1" opacity="0.9"/>
        <path d="M0 0 v-1.4 M0 0 h1.2" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.9"/>
      </g>
    </svg>
  </div>
  <h3 id="agecalc-tg" class="card-title agecalc-card-title">Age & Birthday Calculator</h3>
  <p class="card-desc agecalc-card-desc">
    Get exact age in years, months, days, hours and seconds with a live countdown to your next birthday. See weekday born, zodiac, leap year handling, milestones like 10,000 days, and age on planets. Private and fully in your browser.
  </p>
  <a class="card-cta agecalc-card-cta" href="/tools/age-birthday-calculator-sniptext.html" aria-label="Open Age & Birthday Calculator">Open â†’</a>
</article>

    <article class="tool-card zodiac-tool-card" tabindex="0" data-href="/tools/zodiac-sign-and-horoscope-calculator.html" aria-labelledby="zodiac-tg" data-filter="Fun & Interactive">
  <div class="card-icon zodiac-card-icon" aria-hidden="true">
    <!-- Zodiac icon: sun disc + constellation path -->
    <svg viewBox="0 0 24 24" class="svg-icon zodiac-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Zodiac Calculator">
      <!-- Sun disc -->
      <circle cx="6" cy="6" r="2.6" fill="currentColor" opacity="0.95"/>
      <!-- Sun rays -->
      <g stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.9">
        <path d="M6 1.5v2.2M6 8.3v2.2M1.5 6h2.2M8.3 6h2.2M2.8 2.8l1.6 1.6M9.6 9.6l1.6 1.6M2.8 9.6l1.6-1.6M9.6 2.8L8 4.4"/>
      </g>
      <!-- Constellation frame -->
      <rect x="10.2" y="4.2" width="11.8" height="15.6" rx="2.6" fill="none" stroke="currentColor" stroke-width="1" opacity="0.28"/>
      <!-- Constellation stars -->
      <g fill="currentColor">
        <circle cx="12.2" cy="9.2" r="0.7"/>
        <circle cx="15.4" cy="7.8" r="0.7"/>
        <circle cx="18.6" cy="9.9" r="0.7"/>
        <circle cx="17.8" cy="13.2" r="0.7"/>
        <circle cx="14.1" cy="14.8" r="0.7"/>
      </g>
      <!-- Constellation lines -->
      <path d="M12.2 9.2L15.4 7.8 18.6 9.9 17.8 13.2 14.1 14.8 12.2 9.2" fill="none" stroke="currentColor" stroke-width="1.1" opacity="0.72"/>
    </svg>
  </div>
  <h3 id="zodiac-tg" class="card-title zodiac-card-title">Zodiac Sign & Horoscope</h3>
  <p class="card-desc zodiac-card-desc">
    Enter your date of birth to get your sun sign, traits, element and modality. See your Chinese Zodiac, life path number, a privacy friendly seeded daily reading, and a shareable link. Runs fully in browser.
  </p>
  <a class="card-cta zodiac-card-cta" href="/tools/zodiac-sign-and-horoscope-calculator.html" aria-label="Open Zodiac Sign & Horoscope Calculator">Open â†’</a>
</article>

  </section>
  




  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="/feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="/privacy-policy.html">Privacy Policy</a>
      <a href="/terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        Â· All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>

      <!-- Include the JavaScript file for this page -->
<script src="/js/index.js?v=reset1" defer></script>
  <script src="/js/auth.js?v=reset1"></script>
<script src="/tools/js/free-tools.js?v=reset1"></script>

<script>
(function(){
  "use strict";
  const $ = (sel, el=document) => el.querySelector(sel);
  const $$ = (sel, el=document) => [...el.querySelectorAll(sel)];

  // State
  const state = {
    scores: { player: 0, cpu: 0 },
    bestOf: 5,
    round: 1,
    games: 0,
    streak: 0,
    sound: true,
    haptics: true,
    history: [], // {p, c, result}
    markov: { last: null, trans: { rock:{rock:0,paper:0,scissors:0}, paper:{rock:0,paper:0,scissors:0}, scissors:{rock:0,paper:0,scissors:0} } },
  };

  // DOM
  const scoreP = $('#rps-score-player');
  const scoreC = $('#rps-score-cpu');
  const bestof = $('#rps-bestof');
  const roundEl = $('#rps-round');
  const progress = $('#rps-progress');
  const outcomes = $('#rps-outcomes');
  const btnReset = $('#rps-reset');
  const btnQuick = $('#rps-quick');
  const btnSound = $('#rps-sound');
  const btnHaptics = $('#rps-haptics');
  const toast = $('#rps-toast');
  const confettiCanvas = $('#rps-confetti');
  const ctxConf = confettiCanvas.getContext('2d');

  const gamesEl = $('#rps-games');
  const winrateEl = $('#rps-winrate');
  const streakEl = $('#rps-streak');
  const chart = $('#rps-chart');
  const ctxChart = chart.getContext('2d');
  const exportBtn = $('#rps-export');
  const clearBtn = $('#rps-clear');

  const pro = { rock: $('#rps-prock'), paper: $('#rps-ppaper'), scissors: $('#rps-pscissors') };
  const prot = { rock: $('#rps-prock-t'), paper: $('#rps-ppaper-t'), scissors: $('#rps-pscissors-t') };

  // Resize canvases
  function fitCanvas(c){
    const dpr = window.devicePixelRatio || 1;
    const {width, height} = c.getBoundingClientRect();
    c.width = Math.max(320, Math.floor(width * dpr));
    c.height = Math.max(140, Math.floor(height * dpr));
    const ctx = c.getContext('2d');
    ctx.scale(dpr, dpr);
  }
  const ro = new ResizeObserver(entries=>entries.forEach(e=>{ if(e.target===chart){ fitCanvas(chart); drawChart(); } if(e.target===confettiCanvas){ fitConfetti(); } }));
  ro.observe(chart); ro.observe(confettiCanvas);
  function fitConfetti(){ confettiCanvas.width=innerWidth; confettiCanvas.height=innerHeight; }
  fitCanvas(chart); fitConfetti();

  // Load saved
  try{
    const saved = JSON.parse(localStorage.getItem('sniptext-rps')||'null');
    if(saved){ Object.assign(state, saved); }
  }catch(e){}
  updateAll();

  // Game logic
  const beats = { rock:'scissors', paper:'rock', scissors:'paper' };
  const moves = ['rock','paper','scissors'];

  function aiMove(){
    // Predict player's next move using markov last->next frequencies
    const last = state.markov.last;
    let probs = {rock:1/3, paper:1/3, scissors:1/3};
    if(last && state.history.length>3){
      const t = state.markov.trans[last];
      const sum = t.rock + t.paper + t.scissors;
      if(sum>0){ probs = { rock: t.rock/sum, paper: t.paper/sum, scissors: t.scissors/sum } }
    } else {
      // frequency bias on last N moves
      const N = 8; const recent = state.history.slice(-N).map(h=>h.p);
      if(recent.length){
        const f = {rock:0,paper:0,scissors:0}; recent.forEach(m=>f[m]++);
        const sum = recent.length || 1; probs = { rock:f.rock/sum, paper:f.paper/sum, scissors:f.scissors/sum };
      }
    }
    // Computer chooses counter move weighted by probs
    const counter = { rock:'paper', paper:'scissors', scissors:'rock' };
    const weights = { rock: probs.scissors, paper: probs.rock, scissors: probs.paper };
    const choice = weightedChoice(weights);
    updatePredictionBars(probs);
    return counter[choice];
  }

  function weightedChoice(w){
    const entries = Object.entries(w);
    const total = entries.reduce((a,[,v])=>a+v,0) || 1;
    let r = Math.random()*total;
    for(const [k,v] of entries){ if((r-=v)<=0) return k; }
    return entries[0][0];
  }

  function play(player){
    setPressed(player);
    const cpu = aiMove();
    const result = player===cpu ? 'draw' : (beats[player]===cpu ? 'win' : 'loss');

    // Update scores and streak
    if(result==='win'){ state.scores.player++; state.streak = state.streak>=0 ? state.streak+1 : 1; confetti(); beep(660,90); vibrate([20,20,30]); }
    if(result==='loss'){ state.scores.cpu++; state.streak = state.streak<=0 ? state.streak-1 : -1; beep(220,90); vibrate([30,20,60]); }
    if(result==='draw'){ beep(440,60); vibrate([15]); }

    // Update history and markov
    if(state.markov.last){ state.markov.trans[state.markov.last][player]++; }
    state.markov.last = player;
    state.history.push({p:player,c:cpu,result,time:Date.now()});

    // UI
    pushOutcome(result);
    updateBoard();
    drawChart();
    save();

    // Check series end
    const need = Math.ceil(state.bestOf/2);
    if(state.scores.player===need || state.scores.cpu===need){
      const msg = state.scores.player>state.scores.cpu ? 'You win the series' : 'Computer wins the series';
      notify(msg);
      state.games++;
      state.scores.player = 0; state.scores.cpu = 0; state.round = 1;
      updateBoard(); save();
    } else {
      state.round++; updateBoard();
    }
  }

  function setPressed(move){
    $$('.rps-choice').forEach(b=> b.setAttribute('aria-pressed', String(b.dataset.move===move)) );
    setTimeout(()=> $$('.rps-choice').forEach(b=> b.setAttribute('aria-pressed','false')), 220);
  }

  function pushOutcome(r){
    const dot = document.createElement('i');
    dot.className = 'rps-dot '+r; dot.title = r;
    outcomes.appendChild(dot);
    while(outcomes.children.length>20){ outcomes.removeChild(outcomes.firstChild); }
  }

  function updateBoard(){
    scoreP.textContent = state.scores.player;
    scoreC.textContent = state.scores.cpu;
    roundEl.textContent = `Round ${state.round}`;
    const total = state.bestOf; const played = state.scores.player + state.scores.cpu; const pct = Math.min(100, Math.round((played/total)*100));
    progress.style.width = pct+'%';

    gamesEl.textContent = state.games;
    const wins = state.history.filter(h=>h.result==='win').length;
    winrateEl.textContent = state.history.length ? Math.round(100*wins/state.history.length)+'%' : '0%';
    streakEl.textContent = state.streak;
  }

  function updatePredictionBars(probs){
    ['rock','paper','scissors'].forEach(k=>{
      const pct = Math.round(probs[k]*100);
      pro[k].style.width = pct+'%';
      prot[k].textContent = pct+'%';
    });
  }

  function notify(msg){
    toast.textContent = msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 1400);
  }

  function save(){
    localStorage.setItem('sniptext-rps', JSON.stringify(state));
  }

  // Simple WebAudio beeps
  let ac; function beep(freq=440, dur=80){ if(!state.sound) return; try{ ac = ac || new (window.AudioContext||window.webkitAudioContext)(); const o = ac.createOscillator(); const g = ac.createGain(); o.type='triangle'; o.frequency.value=freq; o.connect(g); g.connect(ac.destination); g.gain.value=.06; o.start(); setTimeout(()=>{ g.gain.exponentialRampToValueAtTime(0.0001, ac.currentTime+0.08); o.stop(ac.currentTime+0.09); }, dur); }catch(e){} }
  function vibrate(p){ if(state.haptics && navigator.vibrate) navigator.vibrate(p); }

// Confetti
const confettiBits = [];
let confettiTimer = null;

function confetti () {
  // 1) spawn particles
  const count = 120;
  for (let i = 0; i < count; i++) {
    confettiBits.push({
      x: Math.random() * innerWidth,
      y: -10,
      vy: 2 + Math.random() * 3,
      vx: (Math.random() - 0.5) * 2,
      r: 2 + Math.random() * 3,
      hue: 210 + Math.random() * 120,
      a: 0.9
    });
  }

  // 2) start animation loop once
  if (!confettiTimer) {
    confettiTimer = requestAnimationFrame(tickConfetti);

    // 3) stop, clear, and reset after ~1.7 s
    setTimeout(() => {
      cancelAnimationFrame(confettiTimer);
      confettiTimer = null;
      ctxConf.clearRect(0, 0, innerWidth, innerHeight); // wipe canvas
      confettiBits.length = 0;                           // drop old dots
    }, 1700); // adjust to 1000-2000 ms as you prefer
  }
}

  function tickConfetti(){
    ctxConf.clearRect(0,0,innerWidth,innerHeight);
    confettiBits.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy*=0.99; p.vx*=0.99; ctxConf.fillStyle = `hsla(${p.hue},90%,60%,${p.a})`; ctxConf.beginPath(); ctxConf.arc(p.x,p.y,p.r,0,Math.PI*2); ctxConf.fill(); });
    for(let i=confettiBits.length-1;i>=0;i--){ if(confettiBits[i].y>innerHeight+10) confettiBits.splice(i,1); }
    confettiTimer = requestAnimationFrame(tickConfetti);
  }

  // Chart - simple draw of last 30 results
  function drawChart(){
    const w = chart.clientWidth, h = chart.clientHeight; const pad = 12; const N = 30; const data = state.history.slice(-N);
    const xStep = (w - pad*2) / Math.max(1,data.length-1);
    ctxChart.clearRect(0,0,w,h);
    // grid
    ctxChart.strokeStyle = 'rgba(255,255,255,.08)'; ctxChart.lineWidth=1; ctxChart.beginPath();
    for(let i=0;i<6;i++){ const y = pad + (h-pad*2)*(i/5); ctxChart.moveTo(pad,y); ctxChart.lineTo(w-pad,y); }
    ctxChart.stroke();
    // points
    data.forEach((d,i)=>{
      const x = pad + i*xStep; const y = d.result==='win'? pad*1.4 : d.result==='draw'? h/2 : h-pad*1.4;
      ctxChart.fillStyle = d.result==='win'? '#22c55e' : d.result==='loss'? '#ef4444' : '#eab308';
      ctxChart.beginPath(); ctxChart.arc(x,y,4,0,Math.PI*2); ctxChart.fill();
    });
  }

  // Events
  $$('.rps-choice').forEach(btn=> btn.addEventListener('click', ()=> play(btn.dataset.move) ));
  window.addEventListener('keydown', e=>{
    if(['INPUT','TEXTAREA','SELECT'].includes(document.activeElement?.tagName)) return;
    if(e.key==='r' || e.key==='R'){ play('rock'); }
    if(e.key==='p' || e.key==='P'){ play('paper'); }
    if(e.key==='s' || e.key==='S'){ play('scissors'); }
    if(e.code==='Space'){ e.preventDefault(); autoPlay(5); }
  });

  bestof.addEventListener('change', ()=>{ state.bestOf = parseInt(bestof.value,10); state.scores.player=0; state.scores.cpu=0; state.round=1; progress.style.width='0%'; save(); updateBoard(); notify('Best of '+state.bestOf); });
  btnReset.addEventListener('click', ()=>{ Object.assign(state.scores,{player:0,cpu:0}); state.round=1; state.streak=0; outcomes.innerHTML=''; updateBoard(); save(); notify('Scores reset'); });
  btnQuick.addEventListener('click', ()=> autoPlay(5));
  btnSound.addEventListener('click', ()=>{ state.sound=!state.sound; btnSound.textContent = state.sound? 'Sound on' : 'Sound off'; save(); });
  btnHaptics.addEventListener('click', ()=>{ state.haptics=!state.haptics; btnHaptics.textContent = state.haptics? 'Haptics on' : 'Haptics off'; save(); });

  exportBtn.addEventListener('click', ()=>{
    const blob = new Blob([JSON.stringify(state,null,2)], {type:'application/json'});
    const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'sniptext-rps-stats.json'; a.click(); URL.revokeObjectURL(a.href);
  });
  clearBtn.addEventListener('click', ()=>{
    if(confirm('Clear history and model?')){ state.history=[]; state.markov={ last:null, trans: { rock:{rock:0,paper:0,scissors:0}, paper:{rock:0,paper:0,scissors:0}, scissors:{rock:0,paper:0,scissors:0} } }; updateAll(); save(); }
  });

  function autoPlay(n){
    let i=0; const seq=['rock','paper','scissors'];
    const t=setInterval(()=>{ play(seq[i%3]); if(++i>=n) clearInterval(t); }, 220);
  }

  function updateAll(){
    bestof.value = String(state.bestOf);
    outcomes.innerHTML=''; state.history.slice(-20).forEach(h=> pushOutcome(h.result));
    updateBoard();
    const recentProbs = {rock:1/3,paper:1/3,scissors:1/3}; updatePredictionBars(recentProbs);
    drawChart();
  }
})();
</script>
</body>
</html>
