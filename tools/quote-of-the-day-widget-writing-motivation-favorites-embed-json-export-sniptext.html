<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date()); gtag('config', 'G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Quote of the Day Widget - Writing Motivation, Favorites, Embed, JSON Export | SnipText</title>
  <meta name="description" content="Free Quote of the Day widget for writers and students. Daily motivational writing quotes with categories, search, favorites, share, poster download, and embed code. Private, fast, runs in your browser." />
  <meta name="keywords" content="quote of the day, writing quotes, motivational quotes for writers, daily quotes widget, creative writing motivation, author quotes, embed quotes, export quotes json, share quotes image" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/quote-of-the-day-widget" />
  <link rel="alternate" href="https://checkai.pro/tools/quote-of-the-day-widget" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/quote-of-the-day-widget" hreflang="x-default" />

  <!-- Styles -->
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Quote of the Day Widget - Writing Motivation for Students and Creators" />
  <meta property="og:description" content="Daily writing quotes with categories, search, favorites, share, poster, and embed. Private and fast." />
  <meta property="og:url" content="https://checkai.pro/tools/quote-of-the-day-widget" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText Quote of the Day - widget preview" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Quote of the Day Widget - Writing Motivation" />
  <meta name="twitter:description" content="Daily writing quotes with categories, favorites, share, poster, and embed. Private, fast, responsive." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#0F172A" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- Fonts & CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/style.css?v=reset1" />
  <link rel="stylesheet" href="/tools/css/free-tools.css?v=reset1" />

  <!-- Structured Data: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText Quote of the Day Widget",
    "url":"https://checkai.pro/tools/quote-of-the-day-widget",
    "applicationCategory":"UtilitiesApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "featureList":[
      "Daily writing quote rotation",
      "Categories and search",
      "Quote length filter",
      "Favorites and history",
      "Share, copy, and poster download",
      "Embed code generator",
      "Import/export JSON",
      "Optional remote refresh (no API key)"
    ],
    "publisher":{
      "@type":"Organization",
      "name":"Snip Text",
      "logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}
    }
  }
  </script>

  <!-- Structured Data: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Is the Quote of the Day private","acceptedAnswer":{"@type":"Answer","text":"Yes. It runs in your browser and stores favorites locally. No accounts and no servers required."}},
      {"@type":"Question","name":"Can I embed the widget","acceptedAnswer":{"@type":"Answer","text":"Yes. Use the Embed tab to copy a single tag snippet. You can set theme, category, and size."}},
      {"@type":"Question","name":"Can it update daily without an API","acceptedAnswer":{"@type":"Answer","text":"Yes. The tool rotates locally once per day and can optionally fetch a static JSON from your domain without keys."}},
      {"@type":"Question","name":"Can I export quotes","acceptedAnswer":{"@type":"Answer","text":"Yes. Export your favorites or the full library to JSON. You can import later on any device."}}
    ]
  }
  </script>

  <!-- Structured Data: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://checkai.pro/"},
      {"@type":"ListItem","position":2,"name":"Free Tools","item":"https://checkai.pro/tools/free-tools"},
      {"@type":"ListItem","position":3,"name":"Quote of the Day Widget","item":"https://checkai.pro/tools/quote-of-the-day-widget"}
    ]
  }
  </script>

  <style>
  /* ===========================
     Brand tokens (explicit hex)
     =========================== */
  :root{
    --color-primary:#1D4ED8;
    --color-accent:#3B82F6;
    --color-bg-dark:#0F172A;
    --color-white:#ffffff;
    --color-text-dark:#1F2937;
    --color-text-light:#6B7280;
    --color-border:#E5E7EB;
    --color-used-often:#e85d27;
    --gradient-cta-start:#3B82F6;
    --gradient-cta-end:#ff7c4c;

    /* Page-scoped for QUOTE widget */
    --quote-bg:#0F172A;
    --quote-bg-soft:#0b1326;
    --quote-surface:rgba(255,255,255,0.06);
    --quote-surface-2:#101a35;
    --quote-text:#e6ebf5;
    --quote-muted:#94a3b8;
    --quote-border:rgba(255,255,255,.14);
    --quote-primary:#1D4ED8;
    --quote-accent:#3B82F6;
    --quote-warm:#ff7c4c;
    --quote-good:#22c55e;
    --quote-bad:#ef4444;
    --quote-shadow-1:0 10px 30px rgba(0,0,0,.35);
    --quote-shadow-2:0 18px 48px rgba(17,24,39,.46);
    --quote-radius-xl:20px;
    --quote-radius-lg:14px;
    --quote-radius-md:10px;
  }

  /* Base */
  html,body{height:100%}
  body{
    margin:0;
    font-family:'Roboto','Arial',sans-serif;
    color:var(--quote-text);
    background: var(--quote-bg);
  }

  /* Full-height calm gradient background with subtle aurora */
  .quote-page{
    position:relative;
    max-width:1200px;
    margin:clamp(16px,3vw,40px) auto;
    padding:clamp(12px,2.5vw,24px);
    isolation:isolate;
  }
  .quote-page::before{
    content:"";
    position:fixed; inset:0; z-index:-2;
    background:
      radial-gradient(1200px 700px at 12% -10%, rgba(59,130,246,.16), transparent 60%),
      radial-gradient(900px 600px at 100% 0%, rgba(29,78,216,.12), transparent 55%),
      radial-gradient(900px 640px at 20% 110%, rgba(232,93,39,.12), transparent 65%),
      linear-gradient(180deg,#0b1224 0%, #0F172A 65%, #0b1224 100%);
    background-attachment:fixed,fixed,fixed,fixed;
  }
  .quote-hero{
    padding:clamp(18px,3vw,28px);
    border:1px solid var(--quote-border);
    border-radius:var(--quote-radius-xl);
    background:linear-gradient(135deg,
      color-mix(in oklab, var(--quote-primary) 16%, transparent),
      color-mix(in oklab, var(--quote-accent) 12%, transparent)
    ) border-box;
    box-shadow:var(--quote-shadow-1);
    overflow:hidden;
  }
  .quote-hero::after{
    content:"";position:absolute;inset:-3px;filter:blur(16px);opacity:.6;pointer-events:none;
    background:
      radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--quote-primary) 26%, transparent), transparent 65%),
      radial-gradient(460px 280px at 86% 0%,  color-mix(in oklab, var(--quote-accent) 22%, transparent), transparent 62%);
  }
  .quote-hero-title{
    margin:0 0 6px 0;
    font-family:'Poppins','Segoe UI',sans-serif;
    font-weight:800; letter-spacing:.2px; line-height:1.12;
    font-size:clamp(22px,3.2vw,36px);
    background:linear-gradient(90deg,#fff,
      color-mix(in oklab, var(--quote-accent) 54%, #fff) 38%,
      color-mix(in oklab, var(--quote-warm) 40%, #fff) 78%, #fff);
    -webkit-background-clip:text;background-clip:text;color:transparent;
  }
  .quote-hero-sub{margin:6px 0 0 0;color:var(--quote-muted);font-size:clamp(14px,1.8vw,16px)}

  /* Grid layout similar to reference */
  .quote-grid{display:grid;grid-template-columns:1.25fr .75fr;gap:18px;margin-top:clamp(14px,2.6vw,24px)}
  @media (max-width:980px){.quote-grid{grid-template-columns:1fr}}

  /* Cards */
  .quote-card{
    border:1px solid var(--quote-border);
    border-radius:var(--quote-radius-xl);
    background:linear-gradient(180deg,var(--quote-surface-2),var(--quote-surface));
    box-shadow:var(--quote-shadow-2);
    overflow:hidden; backdrop-filter:blur(10px);
    animation:quote-fade-in 360ms cubic-bezier(.22,.61,.36,1) both;
  }
  .quote-card-head{
    display:flex;align-items:center;justify-content:space-between;gap:10px;
    padding:12px 14px;border-bottom:1px solid var(--quote-border);
    background:linear-gradient(90deg,
      color-mix(in oklab, var(--quote-accent) 11%, transparent),
      color-mix(in oklab, var(--quote-primary) 9%, transparent)
    );
  }
  .quote-card-title{margin:0;font-size:14px;letter-spacing:.35px;text-transform:uppercase;opacity:.92;font-family:'Poppins','Segoe UI',sans-serif}

  /* Widget stage */
  .quote-stage{
    position:relative;display:grid;gap:12px;padding:16px;min-height:240px;
  }
  .quote-text{
    font:600 clamp(18px,2.4vw,24px)/1.5 "Merriweather",Georgia,serif;
    color:#f3f6ff;
    text-wrap:balance;
  }
  .quote-author{
    font:500 14px/1.6 'Poppins','Segoe UI',sans-serif;color:var(--quote-muted);
  }
  .quote-tags{display:flex;gap:8px;flex-wrap:wrap}
  .quote-chip{
    padding:6px 10px;border-radius:999px;border:1px solid var(--quote-border);
    background:#0b1224;font-size:.82rem;color:#e6ebf5
  }

  /* Toolbar */
  .quote-toolbar{display:flex;flex-wrap:wrap;gap:8px;padding:12px 14px;border-top:1px solid var(--quote-border);background:linear-gradient(90deg,rgba(255,255,255,.03),transparent)}
  .quote-btn{
    appearance:none;border:1px solid rgba(255,255,255,.16);
    background:linear-gradient(180deg,color-mix(in oklab,var(--quote-primary) 44%, transparent),color-mix(in oklab,var(--quote-accent) 36%, transparent));
    color:#fff;padding:10px 12px;border-radius:12px;font-weight:700;font-size:13px;letter-spacing:.3px;cursor:pointer;position:relative;
    transition:transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease; box-shadow:0 10px 20px rgba(29,78,216,.22),0 6px 14px rgba(59,130,246,.16);
    font-family:'Poppins','Segoe UI',sans-serif;
  }
  .quote-btn:hover{transform:translateY(-1px);filter:brightness(1.06)}
  .quote-btn:active{transform:translateY(0);filter:brightness(.98)}
  .quote-btn-outline{background:transparent;color:#e5e7eb;border:1px solid var(--quote-border);box-shadow:none}
  .quote-btn-ghost{background:transparent;color:var(--quote-muted);border:1px dashed var(--quote-border);box-shadow:none;font-weight:600}
  .quote-spacer{flex:1 1 auto}

  /* Right column controls */
  .quote-controls{display:grid;gap:12px;padding:12px 14px}
  .quote-field{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
  .quote-label{font-size:13px;color:var(--quote-muted)}
  .quote-input,.quote-select{
    background:#0e1730;color:#e5e7eb;border:1px solid var(--quote-border);border-radius:10px;padding:8px 10px;outline:none;min-height:36px
  }
  .quote-select{min-width:180px}
  .quote-range{width:100%}
  .quote-switch{position:relative;display:inline-flex;align-items:center;gap:8px;cursor:pointer}
  .quote-switch input{appearance:none;width:40px;height:22px;background:#0f1b34;border:1px solid var(--quote-border);border-radius:999px;outline:0;transition:background .2s ease;position:relative}
  .quote-switch input:checked{background:linear-gradient(90deg,var(--quote-primary),var(--quote-accent));border-color:transparent}
  .quote-switch input::after{content:"";position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:#fff;transition:transform .2s ease;box-shadow:0 3px 10px rgba(0,0,0,.25)}
  .quote-switch input:checked::after{transform:translateX(18px)}

  /* Stats mini */
  .quote-stats{display:flex;gap:10px;flex-wrap:wrap;padding:10px 14px;border-top:1px solid var(--quote-border);color:var(--quote-muted);font-size:12px;background:linear-gradient(90deg,rgba(255,255,255,.03),transparent)}
  .quote-mini{padding:6px 8px;border:1px solid var(--quote-border);border-radius:999px;background:#0b1224}

  /* Embed block */
  .quote-embed-area{width:100%;min-height:90px;resize:vertical;border:0;outline:0;background:transparent;color:var(--quote-text);padding:12px;font:500 13px/1.5 'Roboto','Arial',sans-serif}

  /* Toast */
  .quote-toast{position:fixed;inset:auto 16px 16px auto;background:#0b1223ee;color:#e5e7eb;padding:10px 14px;border-radius:12px;border:1px solid var(--quote-border);backdrop-filter:blur(8px);box-shadow:var(--quote-shadow-1);transform:translateY(20px);opacity:0;pointer-events:none;transition:transform .25s ease,opacity .25s ease;z-index:50}
  .quote-toast.quote-show{transform:translateY(0);opacity:1}

  /* Animations */
  @keyframes quote-fade-in{from{opacity:0}to{opacity:1}}
  @media (prefers-reduced-motion:no-preference){
    .quote-card{animation:quote-float 18s ease-in-out infinite}
    @keyframes quote-float{0%,100%{transform:translateY(0)}50%{transform:translateY(-2px)}}
  }

  /* Links area at bottom */
  .free-tools-guide{margin-top:10px}
  .free-tools-blog-link{color:#bcd2ff;text-decoration:underline}

  /* Small */
  @media (max-width:600px){ .tools-grid{margin:1rem 0} }

.feature-card-all-pages {margin: 0 2rem;}
.tools-grid {margin: 1rem; background: #0e1730;}
.tool-card {background: #0f1b34;}
@media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>



    

<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="features.html">Features</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>
  


  




<main class="quote-page" aria-label="Quote of the Day Widget">
  <!-- Hero -->
  <section class="quote-hero">
    <h1 class="quote-hero-title">Quote of the Day Widget - writing motivation and focus</h1>
    <p class="quote-hero-sub">Fresh writing quotes with categories and search. Save favorites, share, download posters, and embed on your site. Private and fast.</p>
  </section>

  <!-- Grid -->
  <section class="quote-grid">
    <!-- Left: Widget -->
    <article class="quote-card" id="quote-widget">
      <header class="quote-card-head">
        <h2 class="quote-card-title">Today’s Quote</h2>
        <div class="quote-toolbar" style="padding:0;background:transparent;border:0;box-shadow:none">
          <button class="quote-btn" id="quote-new" title="New quote">New</button>
          <button class="quote-btn quote-btn-outline" id="quote-fav" title="Save to favorites">Favorite</button>
          <button class="quote-btn quote-btn-outline" id="quote-copy" title="Copy quote">Copy</button>
          <button class="quote-btn quote-btn-outline" id="quote-share" title="Share">Share</button>
          <button class="quote-btn quote-btn-outline" id="quote-poster" title="Download poster image">Poster</button>
        </div>
      </header>

      <div class="quote-stage">
        <div id="quote-text" class="quote-text">Loading quote…  <span style="font-size: 1rem; color: #6B7280;">(Click on "New" to get a new Quote of the Day)</span></div>
        <div id="quote-author" class="quote-author"></div>
        <div id="quote-tags" class="quote-tags"></div>
      </div>

      <div class="quote-toolbar">
        <button class="quote-btn" id="quote-embed-open" title="Open embed options">Embed</button>
        <button class="quote-btn quote-btn-outline" id="quote-export" title="Export favorites to JSON">Export</button>
        <label class="quote-btn quote-btn-ghost" for="quote-import-file" title="Import JSON">Import
          <input id="quote-import-file" type="file" accept="application/json" hidden />
        </label>
        <span class="quote-spacer"></span>
        <span class="quote-mini" id="quote-count-mini">Library: 0</span>
        <span class="quote-mini" id="quote-fav-mini">Favorites: 0</span>
      </div>
    </article>

    <!-- Right: Controls and Embed -->
    <article class="quote-card">
      <header class="quote-card-head">
        <h2 class="quote-card-title">Filters & Options</h2>
      </header>
      <div class="quote-controls">
        <div class="quote-field" role="group" aria-label="Category">
          <label class="quote-label">Category:</label>
          <select id="quote-category" class="quote-select">
            <option value="all">All</option>
            <option value="motivation">Motivation</option>
            <option value="craft">Writing Craft</option>
            <option value="editing">Editing</option>
            <option value="creativity">Creativity</option>
            <option value="focus">Focus</option>
            <option value="publishing">Publishing</option>
          </select>
        </div>
        <div class="quote-field" role="group" aria-label="Search">
          <label class="quote-label" for="quote-search">Search:</label>
          <input id="quote-search" class="quote-input" type="search" placeholder="Find by author or text" />
        </div>
        <div class="quote-field" role="group" aria-label="Length">
          <label class="quote-label">Max length:</label>
          <input id="quote-length" class="quote-range" type="range" min="60" max="260" step="10" value="220" />
          <span id="quote-length-label" class="quote-label">≤ 220 chars</span>
        </div>
        <div class="quote-field" role="group" aria-label="Daily rotation">
          <label class="quote-switch" title="Rotate once per day">
            <input id="quote-daily" type="checkbox" checked />
            <span>Daily rotate</span>
          </label>
          <label class="quote-switch" title="Try fetching a static JSON file from your domain">
            <input id="quote-remote" type="checkbox" />
            <span>Remote refresh (no key)</span>
          </label>
        </div>
        <div class="quote-field" role="group" aria-label="Remote URL">
          <label class="quote-label">Remote JSON URL:</label>
          <input id="quote-remote-url" class="quote-input" type="url" placeholder="https://checkai.pro/components/quotes-qotd.json" />
          <button class="quote-btn quote-btn-outline" id="quote-remote-test">Fetch</button>
        </div>
      </div>

      <div class="quote-stats">
        <span class="quote-mini" id="quote-today-mini">Today: local</span>
        <span class="quote-mini" id="quote-source-mini">Source: built-in</span>
      </div>

      <header class="quote-card-head">
        <h2 class="quote-card-title">Embed</h2>
      </header>
      <div class="quote-controls">
        <div class="quote-field" role="group" aria-label="Embed options">
          <label class="quote-label">Theme:</label>
          <select id="quote-embed-theme" class="quote-select">
            <option value="dark" selected>Dark</option>
            <option value="light">Light</option>
          </select>
          <label class="quote-label">Width:</label>
          <input id="quote-embed-width" class="quote-input" type="text" placeholder="e.g. 100% or 360px" />
          <label class="quote-label">Category:</label>
          <select id="quote-embed-cat" class="quote-select">
            <option value="all">All</option>
            <option value="motivation">Motivation</option>
            <option value="craft">Writing Craft</option>
            <option value="editing">Editing</option>
            <option value="creativity">Creativity</option>
            <option value="focus">Focus</option>
            <option value="publishing">Publishing</option>
          </select>
          <button class="quote-btn" id="quote-embed-gen">Generate</button>
          <button class="quote-btn quote-btn-outline" id="quote-embed-copy">Copy</button>
        </div>
        <textarea id="quote-embed-code" class="quote-embed-area" readonly placeholder="<sniptext-qotd ...>"></textarea>
      </div>
    </article>
  </section>

  <div class="free-tools-guide">
    <p>See related guides on SnipText Blog: <a href="/blog/random-writing-prompt-generator-guide-json-prompts-filters-favorites-import-export-private-in-browser-sniptext-blog.html" class="free-tools-blog-link">Random Writing Prompts</a>, <a href="/blog/word-character-line-sentence-counter-blog.html" class="free-tools-blog-link">Word Counter</a>, and <a href="/blog/timeline-maker-create-academic-timelines-project-roadmaps-history-classroom-sniptext-blog.html" class="free-tools-blog-link">Timeline Maker</a>.</p>
  </div>

      <div class="free-tools-guide">
    <p class="free-tools-guide-p">See Quote of the Day Guide on SnipText Blog Page <a href="/blog/quote-of-the-day-widget-writing-motivation-daily-quotes-streaks-embed-free-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>
</main>

    <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

    <article class="tool-card writingchallenge-tool-card" tabindex="0"
                data-href="/tools/daily-writing-challenge.html"
                aria-labelledby="writingchallenge-tg" data-filter="Engagement & Productivity">
                <div class="card-icon writingchallenge-card-icon" aria-hidden="true">
                  <!-- Daily Writing Challenge icon: calendar + pen nib + spark -->
                  <svg viewBox="0 0 24 24" class="svg-icon writingchallenge-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Daily Writing Challenge">
                    <!-- calendar frame -->
                    <rect x="3" y="4" width="14" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="1.6"/>
                    <path d="M3 7.5h14" stroke="currentColor" stroke-width="1.4" />
                    <!-- calendar rings -->
                    <path d="M7 3v3M13 3v3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                    <!-- day dots -->
                    <circle cx="6.8" cy="10.2" r="0.8" fill="currentColor"/>
                    <circle cx="10"  cy="10.2" r="0.8" fill="currentColor"/>
                    <circle cx="13.2" cy="10.2" r="0.8" fill="currentColor"/>
                    <circle cx="6.8" cy="13.4" r="0.8" fill="currentColor"/>
                    <circle cx="10"  cy="13.4" r="0.8" fill="currentColor"/>
                    <!-- pen nib (daily writing) -->
                    <path d="M19.5 13.5l2.6 2.6-5.8 5.4c-.3.3-.7.4-1.1.3l-1.8-.6c-.2-.1-.2-.3-.1-.5l.7-1.7c.1-.3.3-.6.5-.8l5-4.7z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                    <circle cx="17.9" cy="15.1" r="0.7" fill="currentColor"/>
                    <!-- spark of inspiration -->
                    <path d="M19.2 6.2l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1" fill="none"/>
                  </svg>
                </div>
                <h3 id="writingchallenge-tg" class="card-title writingchallenge-card-title">Daily Writing Challenge - Random Prompt Every 24 Hours</h3>
                <p class="card-desc writingchallenge-card-desc">
                  Get a fresh prompt each day, pick categories and difficulty, track streaks with a mini calendar, and bank gentle rerolls. Write in a built-in editor with a focus timer, then copy or download your work. Private and fast - runs entirely in your browser.
                </p>
                <a class="card-cta writingchallenge-card-cta"
                  href="/tools/daily-writing-challenge.html"
                  aria-label="Open Daily Writing Challenge">Open →</a>
            </article>

    <article class="tool-card pomodoro-tool-card" tabindex="0"
                          data-href="/tools/pomodoro-timer.html"
                          aria-labelledby="pomodoro-tg" data-filter="Engagement & Productivity">
                          <div class="card-icon pomodoro-card-icon" aria-hidden="true">
                            <!-- Pomodoro Timer icon: tomato + clock ring + hand -->
                            <svg viewBox="0 0 24 24" class="svg-icon pomodoro-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Pomodoro Timer">
                              <!-- tomato crown -->
                              <path d="M12 6c1.7-2.1 4.4-3.2 6.8-3.2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
                              <path d="M12 6C10.3 3.9 7.6 2.8 5.2 2.8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
                              <!-- tomato/clock body -->
                              <circle cx="12" cy="14" r="8" fill="none" stroke="currentColor" stroke-width="1.6"/>
                              <!-- minute ticks -->
                              <g stroke="currentColor" stroke-width="1">
                                <path d="M12 6.5v1.6" />
                                <path d="M17.3 8.1l-.8 1.4" />
                                <path d="M19.9 13.4h-1.6" />
                                <path d="M17.3 18.7l-1.4-.8" />
                                <path d="M12 21.5v-1.6" />
                                <path d="M6.7 18.7l1.4-.8" />
                                <path d="M4.1 13.4h1.6" />
                                <path d="M6.7 8.1l.8 1.4" />
                              </g>
                              <!-- clock hand -->
                              <path d="M12 14V10m0 4l3 2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
                              <!-- tiny focus spark -->
                              <path d="M19.2 5.8l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1" fill="none"/>
                            </svg>
                          </div>
                          <h3 id="pomodoro-tg" class="card-title pomodoro-card-title">Pomodoro Timer - focus cycles, tasks, streaks</h3>
                          <p class="card-desc pomodoro-card-desc">
                            Set calm focus blocks with auto short and long breaks, plan tasks with quick estimates, mix gentle ambient sounds, and track streaks with clean stats. Keyboard shortcuts, fullscreen focus, and private client-side storage keep it fast and distraction free.
                          </p>
                          <a class="card-cta pomodoro-card-cta"
                            href="/tools/pomodoro-timer.html"
                            aria-label="Open Pomodoro Timer">Open →</a>
                    </article>

    <article class="tool-card writingprompt-tool-card" tabindex="0"
                      data-href="/tools/random-writing-prompt-generator-json-list-filters-export.html"
                      aria-labelledby="writingprompt-tg" data-filter="Text & Writing Tools">
                      <div class="card-icon writingprompt-card-icon" aria-hidden="true">
                        <!-- Writing Prompt icon: dice + pencil + spark -->
                        <svg viewBox="0 0 24 24" class="svg-icon writingprompt-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Random Writing Prompt Generator">
                          <!-- dice -->
                          <rect x="2.5" y="2.5" width="9" height="9" rx="2" fill="none" stroke="currentColor" stroke-width="1.4"/>
                          <circle cx="5.3" cy="5.3" r="0.9" fill="currentColor"/>
                          <circle cx="8.7" cy="5.3" r="0.9" fill="currentColor"/>
                          <circle cx="7" cy="8.7" r="0.9" fill="currentColor"/>
                          <!-- pencil -->
                          <path d="M14.2 6.8l6.6 6.6c.5.5.5 1.3 0 1.8l-3.6 3.6c-.5.5-1.3.5-1.8 0l-6.6-6.6 5.4-5.4z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                          <path d="M7.9 12.1l1.8 1.8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                          <!-- pencil tip fill -->
                          <path d="M20.8 13.6l-1.8-1.8-1.5 1.5 1.8 1.8 1.5-1.5z" fill="currentColor"/>
                          <!-- spark -->
                          <path d="M12.2 2.6l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1.1" fill="none"/>
                        </svg>
                      </div>
                      <h3 id="writingprompt-tg" class="card-title writingprompt-card-title">Random Writing Prompt Generator</h3>
                      <p class="card-desc writingprompt-card-desc">
                        Generate story ideas with genre, tone, and length filters. Save favorites, search the library, import your own JSON list, and export visible results as JSON or CSV. Share a link to your exact settings. Private, in-browser.
                      </p>
                      <a class="card-cta writingprompt-card-cta"
                        href="/tools/random-writing-prompt-generator-json-list-filters-export.html"
                        aria-label="Open Random Writing Prompt Generator">Open →</a>
                  </article>

    <article class="tool-card metaphor-card-teaser" tabindex="0"
                          data-href="/tools/metaphor-finder-fresh-analogy-generator-avoid-cliches-context-highlighter-export.html"
                          aria-labelledby="t-metaphor" data-filter="Text & Writing Tools">
                          <div class="card-icon" aria-hidden="true">
                            <!-- Metaphor icon: bridge (linking ideas) + spark -->
                            <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Metaphor Finder icon" xmlns="http://www.w3.org/2000/svg">
                              <!-- bridge arc -->
                              <path d="M3 14c3-5 15-5 18 0" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                              <!-- pillars -->
                              <path d="M6 14v5M18 14v5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                              <!-- deck -->
                              <path d="M4 14h16" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                              <!-- sparkle -->
                              <path d="M12 4l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1.1" fill="none"/>
                            </svg>
                          </div>
                          <h3 id="t-metaphor" class="card-title">Metaphor Finder</h3>
                          <p class="card-desc">
                            Generate fresh metaphors and similes from curated lists with category, tone, and intensity filters. Flag clichés and mixed metaphors, highlight in context, one-click replace, and export your replacement map as CSV or JSON. Private, in-browser.
                          </p>
                          <a class="card-cta"
                            href="/tools/metaphor-finder-fresh-analogy-generator-avoid-cliches-context-highlighter-export.html"
                            aria-label="Open Metaphor Finder">Open →</a>
                      </article>

  </section>

<div id="quote-toast" class="quote-toast" role="status" aria-live="polite"></div>




  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="/feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="/privacy-policy.html">Privacy Policy</a>
      <a href="/terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        · All rights reserved.
      </p>
    </div>
  </div>

  <!-- Chatbot (floating, above Back to Top) -->
<div class="chatbot" id="chatbot" aria-live="polite">
  <!-- launcher (icon + label; icon injected via JS) -->
  <button class="chat-launcher" id="chat-launcher"
          aria-controls="chat-panel" aria-expanded="false"
          aria-label="Open chat support" title="Chat">
    <!-- JS injects icon -->
    <span class="chat-label" aria-hidden="true">Chat</span>
    <span class="notify-badge" hidden></span>
  </button>

  <!-- panel -->
  <section class="chat-panel" id="chat-panel" role="dialog" aria-label="Help chat" aria-modal="false" hidden>
    <header class="chat-header">
      <div class="chat-title">
        <span class="chat-dot"></span>
        <strong>SnipText Agent</strong>
      </div>
      <div class="chat-actions">
        <button class="chat-action-btn" id="chat-minimize" aria-label="Minimize chat">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path d="M5 12h14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <button class="chat-action-btn" id="chat-close" aria-label="Close chat">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </header>

    <div class="chat-body" id="chat-body" tabindex="-1" aria-live="polite"></div>
    <div class="chat-quick" id="chat-quick" aria-label="Quick questions"></div>

    <form class="chat-input" id="chat-form" autocomplete="off">
      <input id="chat-text" type="text" inputmode="search" placeholder="Type your question…" aria-label="Type your question" />
      <button class="chat-send" id="chat-send" aria-label="Send message">
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
          <path d="M5 12l14-7-5 7 5 7-14-7z" fill="currentColor"/>
        </svg>
      </button>
    </form>
  </section>
</div>


  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>





  <!-- =========================
       SCRIPT
       ========================= -->
<script src="/js/index.js?v=reset1" defer></script>
  <script src="/js/auth.js?v=reset1"></script>
<script src="/tools/js/free-tools.js?v=reset1"></script>

<script>
/* ============================================================
   SnipText • QUOTE OF THE DAY WIDGET (client-only, private)
   - Daily local rotation (+ optional remote JSON refresh)
   - Categories, search, length filter
   - Favorites, export/import, copy/share/poster
   - Embed code generator
============================================================ */

/* ---------- Utilities ---------- */
const $ = sel => document.querySelector(sel);
const el = (tag, cls, txt) => { const n = document.createElement(tag); if(cls) n.className = cls; if(txt) n.textContent = txt; return n; };
const toast = (msg) => {
  const t = $('#quote-toast');
  t.textContent = msg; t.classList.add('quote-show');
  setTimeout(()=> t.classList.remove('quote-show'), 1800);
};
const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));

/* ---------- Built-in quote library (writing-focused, many items) ---------- */
const QUOTE_LIB = [
  { t:"You can always edit a bad page. You can’t edit a blank page.", a:"Jodi Picoult", g:["motivation","craft"] },
  { t:"The first draft is just you telling yourself the story.", a:"Terry Pratchett", g:["craft"] },
  { t:"Write the story that only you can write.", a:"Neil Gaiman", g:["creativity","motivation"] },
  { t:"If I waited for perfection, I would never write a word.", a:"Margaret Atwood", g:["motivation","focus"] },
  { t:"Professional writers are amateurs who never gave up.", a:"Richard Bach", g:["motivation"] },
  { t:"Short sentences are the soul of clarity.", a:"Unknown", g:["editing","craft"] },
  { t:"The secret of getting ahead is getting started.", a:"Mark Twain", g:["motivation","focus"] },
  { t:"Write drunk, edit sober.", a:"Peter De Vries", g:["editing","craft"] },
  { t:"You don’t start out writing good stuff. You start out writing crap and thinking it’s good stuff.", a:"Anne Lamott", g:["craft","motivation"] },
  { t:"A writer is someone for whom writing is more difficult than it is for other people.", a:"Thomas Mann", g:["craft"] },
  { t:"Don’t get it right, just get it written.", a:"James Thurber", g:["motivation"] },
  { t:"What gets measured gets managed.", a:"Peter Drucker", g:["focus","publishing"] },
  { t:"The scariest moment is always just before you start.", a:"Stephen King", g:["motivation","focus"] },
  { t:"There is nothing to writing. All you do is sit down at a typewriter and bleed.", a:"Ernest Hemingway", g:["craft"] },
  { t:"Perfection is the enemy of done.", a:"Unknown", g:["motivation","editing"] },
  { t:"Revision is not cleaning up after the party. Revision is the party.", a:"Unknown", g:["editing","craft"] },
  { t:"A room without books is like a body without a soul.", a:"Cicero", g:["creativity"] },
  { t:"You become a writer by writing.", a:"R.K. Narayan", g:["motivation","craft"] },
  { t:"The best time to write was yesterday. The next best time is now.", a:"Unknown", g:["motivation","focus"] },
  { t:"Read widely. Then write simply.", a:"Unknown", g:["craft","editing"] },
  { t:"Stories happen to those who tell them.", a:"Thucydides", g:["creativity"] },
  { t:"Your first million words are practice.", a:"Ray Bradbury", g:["motivation","craft"] },
  { t:"Clarity is kindness to the reader.", a:"Unknown", g:["editing","craft"] },
  { t:"Write with the door closed, rewrite with the door open.", a:"Stephen King", g:["editing"] },
  { t:"Amateurs sit and wait for inspiration. The rest of us just get up and go to work.", a:"Stephen King", g:["motivation","focus"] },
  { t:"If it sounds like writing, I rewrite it.", a:"Elmore Leonard", g:["editing","craft"] },
  { t:"Creativity is a habit, and the best creativity is a result of good work habits.", a:"Twyla Tharp", g:["focus","creativity"] },
  { t:"Show up. That’s the whole game.", a:"Austin Kleon", g:["motivation","focus"] },
  { t:"The main thing is to keep the main thing the main thing.", a:"Stephen Covey", g:["focus"] },
  { t:"The more you write, the more you have to write about.", a:"Unknown", g:["creativity","motivation"] },
  { t:"Kill your darlings.", a:"William Faulkner", g:["editing"] },
  { t:"Easy reading is damn hard writing.", a:"Nathaniel Hawthorne", g:["craft","editing"] },
  { t:"The art of writing is the art of discovering what you believe.", a:"Gustave Flaubert", g:["creativity"] },
  { t:"Talent is helpful. Persistence is decisive.", a:"Unknown", g:["motivation","focus"] },
  { t:"A goal is a dream with a deadline.", a:"Napoleon Hill", g:["publishing","focus"] },
  { t:"Write like you talk. Then polish.", a:"Unknown", g:["craft","editing"] },
  { t:"Finish your stuff.", a:"Neil Gaiman", g:["motivation","focus"] },
  { t:"Work on one piece until it sings.", a:"Unknown", g:["editing","focus"] },
  { t:"Inspiration exists, but it has to find you working.", a:"Pablo Picasso", g:["creativity","focus"] },
  { t:"Your outline is a kindness to your future self.", a:"Unknown", g:["planning","publishing"] },
  { t:"A paragraph should have one job.", a:"Unknown", g:["editing","craft"] },
  { t:"Read it aloud. Your ear will find what your eye missed.", a:"Unknown", g:["editing"] },
  { t:"Make it simple. Make it memorable.", a:"Leo Burnett", g:["publishing","editing"] },
  { t:"You don’t need more time. You need fewer distractions.", a:"Unknown", g:["focus"] },
  { t:"The only mistake is not writing.", a:"Unknown", g:["motivation"] },
  { t:"Write bravely. Edit generously.", a:"Unknown", g:["motivation","editing"] },
  { t:"A good title is a promise kept.", a:"Unknown", g:["publishing"] },
  { t:"First, make a mess. Then make it clear.", a:"Unknown", g:["craft","editing"] },
  { t:"Drafts are where ideas learn to walk.", a:"Unknown", g:["creativity","craft"] },
  { t:"Consistency beats intensity.", a:"Unknown", g:["focus","motivation"] },
  { t:"Readers don’t owe you their attention. Earn it.", a:"Unknown", g:["publishing","craft"] }
];
// Count label
const LIB_COUNT = QUOTE_LIB.length;

/* ---------- State ---------- */
const state = {
  idx: 0,
  todayKey: '',
  favorites: [],
  library: [...QUOTE_LIB],
  filters: { cat:'all', q:'', maxLen:220 },
  dailyRotate:true,
  remoteEnabled:false,
  remoteUrl:'',
  lastRemote:''
};

/* ---------- Elements ---------- */
const qText = $('#quote-text');
const qAuthor = $('#quote-author');
const qTags = $('#quote-tags');
const qLen = $('#quote-length');
const qLenLabel = $('#quote-length-label');
const qCat = $('#quote-category');
const qSearch = $('#quote-search');
const dailyToggle = $('#quote-daily');
const remoteToggle = $('#quote-remote');
const remoteUrlInput = $('#quote-remote-url');
const remoteTestBtn = $('#quote-remote-test');

const miniLib = $('#quote-count-mini');
const miniFav = $('#quote-fav-mini');
const miniToday = $('#quote-today-mini');
const miniSource = $('#quote-source-mini');

/* ---------- Storage helpers ---------- */
const LS = {
  get(k, d){ try { return JSON.parse(localStorage.getItem(k)) ?? d; } catch { return d; } },
  set(k, v){ localStorage.setItem(k, JSON.stringify(v)); }
};
const TZ = Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
const todayISO = () => new Date().toISOString().slice(0,10);

/* ---------- Filtering ---------- */
function filteredLibrary(){
  const {cat,q,maxLen} = state.filters;
  const needle = q.trim().toLowerCase();
  return state.library.filter(item=>{
    const byCat = cat==='all' || (item.g||[]).includes(cat);
    const text = `${item.t} ${item.a}`.toLowerCase();
    const bySearch = !needle || text.includes(needle);
    const byLen = (item.t || '').length <= maxLen;
    return byCat && bySearch && byLen;
  });
}

/* ---------- Rendering ---------- */
function renderQuote(item){
  qText.textContent = '“' + item.t + '”';
  qAuthor.textContent = item.a ? '- ' + item.a : '';
  qTags.innerHTML = '';
  (item.g||[]).forEach(tag => qTags.appendChild(el('span','quote-chip', tag)));
  miniLib.textContent = 'Library: ' + filteredLibrary().length;
  miniFav.textContent = 'Favorites: ' + state.favorites.length;
}

function pickQuote(idx=null){
  const list = filteredLibrary();
  if(list.length===0){ qText.textContent='No quotes match your filters.'; qAuthor.textContent=''; qTags.innerHTML=''; return; }
  if(idx==null){
    state.idx = Math.floor(Math.random()*list.length);
  }else{
    state.idx = clamp(idx,0,list.length-1);
  }
  const q = list[state.idx];
  renderQuote(q);
}

/* ---------- Daily rotation ---------- */
function dailyInit(){
  state.todayKey = 'qotd-day:' + todayISO() + ':' + TZ;
  const seenKey = LS.get('qotd-today-key','');
  const savedIdx = LS.get('qotd-today-idx', 0);
  if(state.dailyRotate){
    if(seenKey === state.todayKey){
      // same day, reuse
      const list = filteredLibrary();
      const idx = clamp(savedIdx,0,Math.max(0,list.length-1));
      state.idx = idx; renderQuote(list[idx]);
      miniToday.textContent = 'Today: saved';
    }else{
      pickQuote(); // new pick
      LS.set('qotd-today-key', state.todayKey);
      LS.set('qotd-today-idx', state.idx);
      miniToday.textContent = 'Today: new';
    }
  }else{
    pickQuote(savedIdx);
    miniToday.textContent = 'Today: manual';
  }
}

/* ---------- Remote refresh (no key) ----------
   How it works:
   - If you host a static JSON at the URL below that returns
     an array of { t, a, g[] } objects, we will merge it.
   - Example file: /components/quotes-qotd.json
   - CORS: host the file on your own domain to avoid CORS issues.
------------------------------------------------ */
async function tryRemote(url){
  try{
    miniSource.textContent = 'Source: fetching…';
    const res = await fetch(url, { cache:'no-store' });
    if(!res.ok) throw new Error('HTTP ' + res.status);
    const data = await res.json();
    if(!Array.isArray(data)) throw new Error('Invalid JSON format');
    // Merge unique by text+author
    const key = (q)=> (q.t||'').trim()+'|'+(q.a||'').trim();
    const have = new Set(state.library.map(key));
    let added = 0;
    data.forEach(q=>{
      if(q && q.t && !have.has(key(q))){
        state.library.push({ t:String(q.t), a:q.a||'Unknown', g:Array.isArray(q.g)?q.g:[] });
        have.add(key(q)); added++;
      }
    });
    LS.set('qotd-remote-url', url);
    LS.set('qotd-remote-last', todayISO());
    state.lastRemote = todayISO();
    miniSource.textContent = 'Source: remote + local';
    toast('Imported ' + added + ' quotes');
    dailyInit();
  }catch(e){
    miniSource.textContent = 'Source: built-in';
    toast('Remote fetch failed. Using built-in.');
    console.error(e);
  }
}

/* ---------- Favorites / Export / Import ---------- */
function toggleFavorite(){
  const list = filteredLibrary();
  if(!list.length) return;
  const q = list[state.idx];
  const key = (q.t||'')+'|'+(q.a||'');
  const i = state.favorites.findIndex(x => (x.t||'')+'|'+(x.a||'')===key);
  if(i>=0){ state.favorites.splice(i,1); toast('Removed from favorites'); }
  else { state.favorites.push(q); toast('Added to favorites'); }
  LS.set('qotd-favorites', state.favorites);
  miniFav.textContent = 'Favorites: ' + state.favorites.length;
}
function exportFavorites(){
  const blob = new Blob([JSON.stringify(state.favorites, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='sniptext-qotd-favorites.json'; a.click();
  URL.revokeObjectURL(url);
}
function importFavorites(file){
  const reader = new FileReader();
  reader.onload = () => {
    try{
      const data = JSON.parse(reader.result);
      if(!Array.isArray(data)) throw new Error('Invalid JSON');
      // Merge favorites unique
      const key = q => (q.t||'')+'|'+(q.a||'');
      const have = new Set(state.favorites.map(key));
      let added=0;
      data.forEach(q=>{
        if(q && q.t && !have.has(key(q))){
          state.favorites.push({ t:String(q.t), a:q.a||'Unknown', g:Array.isArray(q.g)?q.g:[] });
          have.add(key(q)); added++;
        }
      });
      LS.set('qotd-favorites', state.favorites);
      miniFav.textContent = 'Favorites: ' + state.favorites.length;
      toast('Imported ' + added + ' favorites');
    }catch(e){ toast('Import failed'); }
  };
  reader.readAsText(file);
}

/* ---------- Copy / Share / Poster ---------- */
async function copyQuote(){
  const list = filteredLibrary(); if(!list.length) return;
  const q = list[state.idx];
  const text = '“' + q.t + '” - ' + (q.a||'Unknown');
  try{ await navigator.clipboard.writeText(text); toast('Copied to clipboard'); }
  catch{ toast('Copy failed'); }
}
async function shareQuote(){
  const list = filteredLibrary(); if(!list.length) return;
  const q = list[state.idx];
  const text = '“' + q.t + '” - ' + (q.a||'Unknown');
  const url = location.href;
  if(navigator.share){
    try{ await navigator.share({ text, url }); }
    catch{}
  }else{
    copyQuote();
  }
}
function downloadPoster(){
  const list = filteredLibrary(); if(!list.length) return;
  const q = list[state.idx];
  const W = 1200, H = 630, pad = 64;
  const c = document.createElement('canvas'); c.width=W; c.height=H;
  const ctx = c.getContext('2d');
  // bg gradient
  const g = ctx.createLinearGradient(0,0,W,H);
  g.addColorStop(0,'#0b1224'); g.addColorStop(.6,'#0F172A'); g.addColorStop(1,'#0b1224');
  ctx.fillStyle = g; ctx.fillRect(0,0,W,H);
  // soft aurora circles
  ctx.globalAlpha = 0.35;
  ctx.fillStyle = '#1D4ED8'; ctx.beginPath(); ctx.arc(W*0.2,H*0.25,220,0,Math.PI*2); ctx.fill();
  ctx.fillStyle = '#3B82F6'; ctx.beginPath(); ctx.arc(W*0.9,H*0.15,180,0,Math.PI*2); ctx.fill();
  ctx.fillStyle = '#ff7c4c'; ctx.beginPath(); ctx.arc(W*0.2,H*0.95,220,0,Math.PI*2); ctx.fill();
  ctx.globalAlpha = 1;

  // text
  ctx.fillStyle = '#e6ebf5';
  ctx.font = '700 44px Merriweather, Georgia, serif';
  const maxWidth = W - pad*2;
  const words = ('“'+q.t+'”').split(' ');
  let line = '', y = pad + 30, lh = 52;
  for(const w of words){
    const test = line + w + ' ';
    if(ctx.measureText(test).width > maxWidth){
      ctx.fillText(line, pad, y); line = w + ' '; y += lh;
    }else{ line = test; }
  }
  ctx.fillText(line, pad, y); y += lh + 12;
  ctx.font = '600 28px Poppins, Segoe UI, sans-serif';
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('- ' + (q.a || 'Unknown'), pad, y);
  // badge
  ctx.font = '600 20px Poppins, Segoe UI, sans-serif';
  ctx.fillStyle = '#bcd2ff';
  ctx.fillText('SnipText • Quote of the Day', pad, H - pad);

  const link = document.createElement('a');
  link.download = 'sniptext-quote-poster.png';
  link.href = c.toDataURL('image/png');
  link.click();
}

/* ---------- Embed generator ---------- */
function genEmbed(){
  const theme = $('#quote-embed-theme').value;
  const width = $('#quote-embed-width').value.trim() || '100%';
  const cat = $('#quote-embed-cat').value;

  const srcPage = location.origin + '/tools/quote-of-the-day-widget.html';
  const embedSrc = `${srcPage}#embed`; // separated for clarity

  const code =
`<div style="width:${width};max-width:600px">
  <sniptext-qotd theme="${theme}" category="${cat}"></sniptext-qotd>
  <script async src="${embedSrc}"><\/script>
</div>`;
  $('#quote-embed-code').value = code;
  toast('Embed code ready');
}


/* ---------- Event bindings ---------- */
$('#quote-new').addEventListener('click', ()=>{ pickQuote(); if(state.dailyRotate){ LS.set('qotd-today-key', state.todayKey); LS.set('qotd-today-idx', state.idx); } });
$('#quote-fav').addEventListener('click', toggleFavorite);
$('#quote-copy').addEventListener('click', copyQuote);
$('#quote-share').addEventListener('click', shareQuote);
$('#quote-poster').addEventListener('click', downloadPoster);

qCat.addEventListener('change', ()=>{ state.filters.cat=qCat.value; dailyInit(); });
qSearch.addEventListener('input', ()=>{ state.filters.q=qSearch.value; pickQuote(0); });
qLen.addEventListener('input', ()=>{ state.filters.maxLen=+qLen.value; qLenLabel.textContent='≤ ' + qLen.value + ' chars'; pickQuote(0); });

dailyToggle.addEventListener('change', ()=>{ state.dailyRotate=dailyToggle.checked; dailyInit(); });

remoteToggle.addEventListener('change', ()=>{ state.remoteEnabled = remoteToggle.checked; if(state.remoteEnabled && state.remoteUrl) tryRemote(state.remoteUrl); else miniSource.textContent='Source: built-in'; });
remoteUrlInput.addEventListener('change', ()=>{ state.remoteUrl = remoteUrlInput.value.trim(); LS.set('qotd-remote-url', state.remoteUrl); });
remoteTestBtn.addEventListener('click', ()=>{ if(state.remoteUrl){ tryRemote(state.remoteUrl); } else { toast('Enter a remote URL'); } });

$('#quote-export').addEventListener('click', exportFavorites);
$('#quote-import-file').addEventListener('change', (e)=>{ const f = e.target.files[0]; if(f) importFavorites(f); });
$('#quote-embed-open').addEventListener('click', ()=>{ document.querySelector('#quote-embed-code').scrollIntoView({behavior:'smooth'}); });
$('#quote-embed-gen').addEventListener('click', genEmbed);
$('#quote-embed-copy').addEventListener('click', copyEmbed);

/* ---------- Init ---------- */
(function init(){
  state.favorites = LS.get('qotd-favorites', []);
  state.remoteUrl = LS.get('qotd-remote-url','');
  state.lastRemote = LS.get('qotd-remote-last','');
  if(state.remoteUrl){ remoteUrlInput.value = state.remoteUrl; }
  miniLib.textContent = 'Library: ' + LIB_COUNT;
  miniFav.textContent = 'Favorites: ' + state.favorites.length;
  miniSource.textContent = 'Source: built-in';

  // If remote enabled and you want auto daily pull, you can toggle it on.
  // We keep it manual by default to avoid accidental external requests.
  dailyInit();

  // If page is loaded as an "embed target" (hash=embed), expose a minimal custom element.
  if(location.hash === '#embed'){
    // Minimal web component for embedding
    class SnipTextQotd extends HTMLElement{
      connectedCallback(){
        const theme = (this.getAttribute('theme')||'dark').toLowerCase();
        const cat = (this.getAttribute('category')||'all').toLowerCase();
        const root = this.attachShadow({mode:'open'});
        const wrap = document.createElement('div');
        wrap.setAttribute('part','wrap');
        wrap.style.cssText = `
          font-family: 'Poppins','Segoe UI',sans-serif; color:${theme==='light'?'#0F172A':'#e6ebf5'};
          background:${theme==='light'?'#ffffff':'#0f172a'};
          border:1px solid ${theme==='light'?'#E5E7EB':'rgba(255,255,255,.14)'};
          border-radius:12px; padding:14px; box-shadow:0 10px 24px rgba(0,0,0,0.2);
        `;
        const q = document.createElement('div'); q.style.cssText='font-weight:700; font-size:18px; line-height:1.6; text-wrap:balance;';
        const a = document.createElement('div'); a.style.cssText='margin-top:6px; color:#94a3b8; font-size:14px;';
        // Pick from filtered library
        const pickList = QUOTE_LIB.filter(item => cat==='all' || (item.g||[]).includes(cat));
        const item = pickList[Math.floor(Math.random()*Math.max(1,pickList.length))] || QUOTE_LIB[0];
        q.textContent = '“' + item.t + '”';
        a.textContent = '- ' + (item.a || 'Unknown');
        wrap.append(q,a);
        root.appendChild(wrap);
      }
    }
    customElements.define('sniptext-qotd', SnipTextQotd);
  }
})();
</script>
</body>
</html>