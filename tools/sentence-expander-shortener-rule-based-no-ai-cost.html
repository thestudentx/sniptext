<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE98V48RK8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GE98V48RK8');
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "t5y2d08vd0");
  </script>
  <meta name="msvalidate.01" content="A9EB890789B5C28E62629F99EEDC30A1" />

  <!-- Essentials -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <base href="/tools/">

  <!-- Primary SEO -->
  <title>Sentence Expander - Shortener: Rule-based Rewriting (No AI Cost) | SnipText</title>
  <meta name="description" content="Free Sentence Expander - Shortener by SnipText. Rule-based rewriting to expand ideas with transitions or shorten for clarity. Set targets, lock protected terms, see diffs, batch process, and export. Private, in-browser." />
  <meta name="keywords" content="sentence expander, sentence shortener, rewrite sentences, expand text, shorten text, remove filler, add transitions, tighten writing, rule-based rewriting, no AI cost, SnipText" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <!-- Canonical & hreflang -->
  <link rel="canonical" href="https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost" />
  <link rel="alternate" href="https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost" hreflang="en" />
  <link rel="alternate" href="https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost" hreflang="x-default" />

  <!-- Styles -->
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/tools/css/free-tools.css" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="SnipText" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Sentence Expander - Shortener: Rule-based Rewriting (No AI Cost)" />
  <meta property="og:description" content="Expand for nuance or shorten for clarity with smart, rule-based controls. See diffs, protect terms, export results." />
  <meta property="og:url" content="https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost" />
  <meta property="og:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:secure_url" content="https://checkai.pro/images/sniptext-default-tools-img.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="SnipText tool preview" />

  <!-- Twitter (no handles) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Sentence Expander - Shortener: Rule-based Rewriting (No AI Cost)" />
  <meta name="twitter:description" content="Free, private, rule-based rewriting that runs in your browser." />
  <meta name="twitter:image" content="https://checkai.pro/images/sniptext-default-tools-img.png" />

  <!-- Theme / Icons -->
  <meta name="theme-color" content="#1D4ED8" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

  <!-- JSON-LD: WebApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"SnipText Sentence Expander - Shortener",
    "url":"https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost",
    "applicationCategory":"UtilitiesApplication",
    "operatingSystem":"All",
    "isAccessibleForFree":true,
    "browserRequirements":"Requires JavaScript; works on modern browsers.",
    "featureList":[
      "Rule-based expansion and shortening",
      "Target length slider and tone presets",
      "Protected terms (never change)",
      "Side-by-side diffs",
      "Batch lines mode",
      "History and undo",
      "Copy - download TXT, CSV, JSON",
      "Runs locally for privacy"
    ],
    "publisher":{"@type":"Organization","name":"Snip Text","logo":{"@type":"ImageObject","url":"https://checkai.pro/favicon.png","width":512,"height":512}}
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Is the Sentence Expander - Shortener private","acceptedAnswer":{"@type":"Answer","text":"Yes. Everything runs in your browser and your text is not uploaded."}},
      {"@type":"Question","name":"How is this tool different from AI rewriters","acceptedAnswer":{"@type":"Answer","text":"It uses transparent, rule-based edits with zero AI cost and predictable results. You can audit and customize every rule."}},
      {"@type":"Question","name":"Can I lock words so they never change","acceptedAnswer":{"@type":"Answer","text":"Yes. Add protected terms like names, formulas, or citations. The tool preserves them exactly."}},
      {"@type":"Question","name":"Does it support batch processing","acceptedAnswer":{"@type":"Answer","text":"Yes. Toggle Batch Lines to process each line independently and export results to CSV or JSON."}}
    ]
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://checkai.pro/"},
      {"@type":"ListItem","position":2,"name":"Tools","item":"https://checkai.pro/tools/free-tools.html"},
      {"@type":"ListItem","position":3,"name":"Sentence Expander - Shortener","item":"https://checkai.pro/tools/sentence-expander-shortener-rule-based-no-ai-cost"}
    ]
  }
  </script>

  <style>
/* -------------------------
   Brand tokens (scoped)
------------------------- */
:root{
  /* Brand palette mapped to page */
  --expandshort-primary:#1D4ED8;
  --expandshort-accent:#3B82F6;
  --expandshort-warm:#ff7c4c;

  /* Surfaces and text */
  --expandshort-bg:#0F172A;
  --expandshort-bg-soft:#0b1226;
  --expandshort-surface:rgba(255,255,255,.06);
  --expandshort-surface-2:rgba(255,255,255,.04);
  --expandshort-text:#e7eefc;
  --expandshort-muted:rgba(255,255,255,.78);
  --expandshort-border:rgba(255,255,255,.14);

  /* Functional */
  --expandshort-ok:#1D4ED8;
  --expandshort-warn:#3B82F6;
  --expandshort-danger:#ef4444;
  --expandshort-focus:#60a5fa;

  /* Rounds, shadow, width */
  --expandshort-r-xl:20px;
  --expandshort-r-lg:14px;
  --expandshort-r-md:10px;
  --expandshort-shadow-1:0 10px 30px rgba(0,0,0,.35);
  --expandshort-shadow-2:0 18px 48px rgba(17,24,39,.46);
  --expandshort-maxw:1200px;

  /* Typography */
  --expandshort-font-head:'Poppins','Segoe UI',system-ui,-apple-system,Roboto,'Helvetica Neue',Arial,sans-serif;
  --expandshort-font-body:'Roboto','Segoe UI',system-ui,-apple-system,'Helvetica Neue',Arial,sans-serif;
}

/* -------------------------
   Base + aurora backdrop
------------------------- */
html,body{height:100%}
html,body{
  margin:0; background:var(--expandshort-bg); color:var(--expandshort-text);
  font-family:var(--expandshort-font-body); line-height:1.55;
}

.expandshort-wrap{
  position:relative; isolation:isolate;
  width:min(var(--expandshort-maxw),92vw);
  margin: clamp(16px,3vw,40px) auto 80px;
  padding: clamp(12px,2.5vw,24px);
}
.expandshort-wrap::before{
  content:""; position:fixed; inset:0; z-index:-2;
  background:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--expandshort-primary) 26%, transparent), transparent 60%),
    radial-gradient(900px 500px at 100% 0%,  color-mix(in oklab, var(--expandshort-accent) 22%, transparent), transparent 52%),
    radial-gradient(800px 520px at 0% 100%, color-mix(in oklab, var(--expandshort-warm) 12%, transparent), transparent 58%),
    linear-gradient(180deg, var(--expandshort-bg) 0%, var(--expandshort-bg-soft) 100%);
}

/* -------------------------
   Hero header (glassy)
------------------------- */
.expandshort-header{
  position:relative; display:grid; grid-template-columns:auto 1fr auto; gap:14px; align-items:center;
  border:1px solid var(--expandshort-border);
  border-radius:var(--expandshort-r-xl);
  padding: clamp(16px,2.8vw,24px);
  background: linear-gradient(135deg,
      color-mix(in oklab, var(--expandshort-primary) 20%, transparent),
      color-mix(in oklab, var(--expandshort-accent) 18%, transparent)
    ) border-box;
  box-shadow: var(--expandshort-shadow-1);
  overflow:hidden; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
}
@media (max-width:820px){
  .expandshort-header{ grid-template-columns: auto 1fr; }
  .expandshort-badge{ grid-column: 1 / -1; justify-self:start; }
}
.expandshort-header::after{
  content:""; position:absolute; inset:-3px; pointer-events:none; filter: blur(16px); opacity:.6;
  background:
    radial-gradient(600px 220px at 18% -6%, color-mix(in oklab, var(--expandshort-primary) 28%, transparent), transparent 65%),
    radial-gradient(460px 280px at 86% 0%,  color-mix(in oklab, var(--expandshort-accent) 26%, transparent), transparent 62%);
}

.expandshort-logo{
  width:48px; height:48px; border-radius:14px; display:grid; place-items:center;
  background: linear-gradient(135deg, var(--expandshort-accent), var(--expandshort-primary));
  color:#0b1220; box-shadow: 0 10px 22px rgba(29,78,216,.35);
  transition: transform .15s ease;
}
.expandshort-logo:hover{ transform: translateY(-2px) }
.expandshort-logo svg{ width:26px; height:26px }

.expandshort-title{
  margin:0 0 6px; font:800 clamp(22px,3.2vw,34px)/1.14 var(--expandshort-font-head); letter-spacing:.2px;
  background: linear-gradient(90deg,#fff,
    color-mix(in oklab, var(--expandshort-accent) 54%, #fff) 38%,
    color-mix(in oklab, var(--expandshort-warm) 40%, #fff) 78%, #fff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.expandshort-sub{ margin:0; color:var(--expandshort-muted); font-size:clamp(14px,1.8vw,16px) }

.expandshort-badge{
  justify-self:end;
  padding:6px 10px; border:1px solid var(--expandshort-border); border-radius:999px;
  background: color-mix(in oklab, var(--expandshort-bg) 72%, transparent); color:#dbe7ff; font-size:.82rem;
}

/* -------------------------
   Grid + cards
------------------------- */
.expandshort-grid{
  display:grid; grid-template-columns: 1.1fr .9fr; gap: clamp(12px,2.4vw,20px);
  margin-top: clamp(12px,2.2vw,18px);
}
@media (max-width:980px){ .expandshort-grid{ grid-template-columns:1fr } }

.expandshort-card{
  border:1px solid var(--expandshort-border);
  border-radius:var(--expandshort-r-lg);
  background: var(--expandshort-surface);
  box-shadow: var(--expandshort-shadow-2);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  overflow:hidden;
  animation: exs-float 18s ease-in-out infinite;
}
@keyframes exs-float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-2px)} }

.expandshort-card .card-head{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding: 12px 14px; border-bottom:1px solid var(--expandshort-border);
  background: linear-gradient(90deg,
    color-mix(in oklab, var(--expandshort-accent) 10%, transparent),
    color-mix(in oklab, var(--expandshort-primary) 9%, transparent)
  );
}
.card-head h2{ margin:0; font:700 13px/1 var(--expandshort-font-body); letter-spacing:.12em; text-transform:uppercase; color:#cfe0ff }
.expandshort-card .card-body{ padding: 14px; display:grid; gap:12px }

/* -------------------------
   Inputs, selects, textarea
------------------------- */
.expandshort-textarea{
  width:100%; min-height: 220px; resize:vertical; border:0; outline:0;
  background: #0b142b; color:#e6ecff; border:1px solid var(--expandshort-border); border-radius:14px; padding:14px;
  font: 500 14px/1.6 var(--expandshort-font-body); letter-spacing:.2px; caret-color: var(--expandshort-accent);
  transition: border-color .2s ease, box-shadow .2s ease, transform .12s ease;
}
.expandshort-textarea:focus{ border-color: rgba(59,130,246,.55); box-shadow: 0 0 0 3px rgba(59,130,246,.25); transform: translateY(-1px) }

.expandshort-input, .expandshort-select{
  background:#0b142b; color:#e6ecff; border:1px solid var(--expandshort-border);
  border-radius:10px; padding:9px 12px; outline:none;
  transition:border-color .2s ease, box-shadow .2s ease, transform .12s ease; min-height:36px;
}
.expandshort-input:focus, .expandshort-select:focus{ border-color:var(--expandshort-focus); box-shadow:0 0 0 3px rgba(96,165,250,.22); transform:translateY(-1px) }

.stack-md{ display:flex; flex-wrap:wrap; gap:10px }
.stack-md > *{ flex:1 1 auto }
.stack-md .shrink{ flex:0 0 auto }

.expandshort-row, .expandshort-toolbar{ display:flex; flex-wrap:wrap; gap:10px; align-items:center }

/* -------------------------
   Chips and toggles
------------------------- */
.expandshort-chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px; border-radius:999px; cursor:pointer; user-select:none;
  border:1px solid var(--expandshort-border); background:#0c162f; color:#b9c8ea; font-size:12px;
  transition: border-color .2s ease, background .2s ease, transform .12s ease, color .2s ease;
}
.expandshort-chip[aria-pressed="true"]{
  background: linear-gradient(180deg, color-mix(in oklab, var(--expandshort-accent) 22%, transparent), color-mix(in oklab, var(--expandshort-primary) 20%, transparent));
  color:#fff; border-color: transparent;
}
.expandshort-chip:hover{ transform: translateY(-1px) }
.expandshort-chip .dot{ width:8px; height:8px; border-radius:50%; background: currentColor; opacity:.9 }

/* -------------------------
   Buttons
------------------------- */
.expandshort-btn, .expandshort-btn-ghost{
  --_bg: linear-gradient(180deg, color-mix(in oklab, var(--expandshort-primary) 70%, transparent), color-mix(in oklab, var(--expandshort-accent) 62%, transparent));
  appearance:none; border:1px solid color-mix(in oklab,#000 12%, var(--expandshort-primary));
  background:var(--_bg); color:#fff;
  padding:10px 12px; border-radius:12px; font:700 13px/1 var(--expandshort-font-head); letter-spacing:.3px; cursor:pointer;
  transition: transform .15s ease, filter .15s ease, box-shadow .2s ease, background .3s ease;
  box-shadow: 0 10px 20px rgba(29,78,216,.22), 0 6px 14px rgba(59,130,246,.16);
}
.expandshort-btn:hover{ transform: translateY(-1px); filter: brightness(1.06) }
.expandshort-btn:active{ transform: translateY(0); filter: brightness(.98) }
.expandshort-btn[disabled]{ opacity:.6; cursor:not-allowed; box-shadow:none }

.expandshort-btn-ghost{
  background: transparent; color: var(--expandshort-text);
  border:1px dashed var(--expandshort-border); box-shadow:none; font-weight:700;
}

/* Action buttons with semantic hues */
.expandshort-btn-success{
  appearance:none; border:1px solid transparent;
  background: linear-gradient(135deg, var(--expandshort-ok), color-mix(in oklab, var(--expandshort-ok) 80%, #fff));
  color:#fff; padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer;
  box-shadow: 0 10px 22px rgba(34,197,94,.28); transition: transform .15s ease, filter .15s ease;
}
.expandshort-btn-success:hover{ transform: translateY(-1px); filter: brightness(1.06) }

.expandshort-btn-warning{
  appearance:none; border:1px solid transparent;
  background: linear-gradient(135deg, var(--expandshort-warn), color-mix(in oklab, var(--expandshort-warn) 80%, #fff));
  color:#fff; padding:10px 14px; border-radius:12px; font-weight:800; cursor:pointer;
  box-shadow: 0 10px 22px rgba(245,158,11,.28); transition: transform .15s ease, filter .15s ease;
}
.expandshort-btn-warning:hover{ transform: translateY(-1px); filter: brightness(1.06) }

/* Meter and slider */
.expandshort-meter{
  background:#0b142b; border:1px solid var(--expandshort-border);
  border-radius:12px; padding:8px 10px; font-size:12px; color:var(--expandshort-muted)
}
.expandshort-meter strong{ color:#fff }
.expandshort-slider{ width:220px; accent-color: var(--expandshort-accent) }

/* -------------------------
   Diff viewer
------------------------- */
.expandshort-diff{
  background:#0b142b; border:1px solid var(--expandshort-border); border-radius:14px; padding:12px;
  overflow:auto; min-height: 220px; font: 500 14px/1.7 var(--expandshort-font-body);
}
mark.expandshort-ins{
  background: rgba(34,197,94,.18); color:#c9ffe0; border-radius:6px; padding:0 2px;
}
mark.expandshort-del{
  background: rgba(239,68,68,.18); color:#ffd6d6; border-radius:6px; padding:0 2px; text-decoration:line-through;
}

/* -------------------------
   Footer
------------------------- */
.expandshort-footnote{ color:var(--expandshort-muted); font-size:.9rem; margin-top:10px; text-align:center }
.expandshort-footnote a{ color:#cfe0ff; text-decoration:underline; text-underline-offset:2px }
.expandshort-footnote a:hover{ color:#e7f0ff }

/* -------------------------
   Focus accessibility
------------------------- */
:where(.expandshort-btn,.expandshort-btn-ghost,.expandshort-btn-success,.expandshort-btn-warning,
       .expandshort-input,.expandshort-select,.expandshort-textarea,.expandshort-chip):focus{
  outline:2px solid color-mix(in oklab, var(--expandshort-accent) 60%, #fff);
  outline-offset:2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .expandshort-card{ animation:none }
  .expandshort-logo, .expandshort-btn, .expandshort-btn-success, .expandshort-btn-warning{ transition:none }
}

.feature-card-all-pages {margin: 0 2rem;}
.tools-grid {margin: 1rem; background: #0e1730;}
.tool-card {background: #0f1b34;}
@media (max-width: 600px) { .tools-grid {margin: 1rem 0;} }
  </style>
</head>
<body>



    

<nav id="main-navbar">
  <div class="nav-container">
    <div class="logo">
      <a href="/index.html">Snip Text</a>
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="/index.html">Home</a></li>
      <li><a href="/tools/free-tools.html">Free Tools</a></li>
      <li><a href="features.html">Features</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="/blog/blog.html">Blog</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a id="nav-dashboard-link" href="login.html">Dashboard</a></li>
      <li><a id="nav-logout-link" href="#" style="display:none;">Logout</a></li>
    </ul>
  </div>
</nav>



  


  
  <main class="expandshort-wrap" aria-labelledby="expandshort-title">
    <!-- Header -->
    <header class="expandshort-header">
      <div class="expandshort-logo" aria-hidden="true">
        <!-- Sentence Expander - Shortener icon: arrows out/in + spark -->
        <svg viewBox="0 0 24 24" role="img" aria-label="Sentence Expander Shortener icon" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 8h7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
          <path d="M10 5l3 3-3 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M21 16h-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none"/>
          <path d="M14 19l-3-3 3-3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M12 2.6l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1" fill="none" opacity=".9"/>
        </svg>
      </div>
      <div>
        <h1 id="expandshort-title" class="expandshort-title">Sentence Expander - Shortener</h1>
        <p class="expandshort-sub">Rule-based rewriting that expands ideas with tasteful transitions or shortens for clarity. No AI cost, private, and predictable.</p>
      </div>
      <span class="expandshort-badge" title="Runs locally">Private - in browser</span>
    </header>

    <!-- Main grid -->
    <section class="expandshort-grid" aria-label="Sentence Expander Shortener workspace">
      <!-- Left: input and controls -->
      <article class="expandshort-card" aria-labelledby="card-input">
        <div class="card-head">
          <h2 id="card-input">Your Text</h2>
          <div class="stack-md">
            <button class="expandshort-btn expandshort-btn-ghost shrink" id="expandshort-clear" aria-label="Clear input">Clear</button>
            <button class="expandshort-btn shrink" id="expandshort-sample" aria-label="Load sample">Sample</button>
          </div>
        </div>
        <div class="card-body">
          <label for="expandshort-input" class="sr-only">Input</label>
          <textarea id="expandshort-input" class="expandshort-textarea" placeholder="Paste or type sentences here. Toggle Batch Lines if you want to process each line independently."></textarea>

          <!-- Protected terms -->
          <div class="stack-md">
            <input id="expandshort-protected" class="expandshort-input" placeholder="Protected terms (comma separated: names, formulas, citations)"/>
            <select id="expandshort-tone" class="expandshort-select shrink" title="Tone preset">
              <option value="neutral">Tone: Neutral</option>
              <option value="formal">Tone: Formal</option>
              <option value="friendly">Tone: Friendly</option>
              <option value="confident">Tone: Confident</option>
            </select>
            <label class="expandshort-chip shrink" role="button" aria-pressed="false" id="expandshort-batch">
              <span class="dot"></span> Batch Lines
            </label>
          </div>

          <!-- Modes and rules -->
          <div class="expandshort-toolbar" role="group" aria-label="Mode and rules">
            <button class="expandshort-btn-success" id="expandshort-run-expand" aria-label="Run expander"><span>Expand</span></button>
            <button class="expandshort-btn-warning" id="expandshort-run-short" aria-label="Run shortener"><span>Shorten</span></button>
            <button class="expandshort-btn-ghost" id="expandshort-undo" disabled>Undo</button>

            <div class="expandshort-meter" id="expandshort-meter" aria-live="polite">
              Target: <strong id="expandshort-target-label">100%</strong>
            </div>
            <input type="range" min="60" max="160" value="100" step="5" class="expandshort-slider" id="expandshort-target" aria-label="Target length percentage"/>
          </div>

          <!-- Quick rule toggles -->
          <div class="expandshort-row" role="group" aria-label="Quick rule toggles">
            <label class="expandshort-chip" aria-pressed="true" data-rule="hedges">
              <span class="dot"></span> Remove hedges
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="filler">
              <span class="dot"></span> Remove filler
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="adverbs">
              <span class="dot"></span> Trim adverbs
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="parentheses">
              <span class="dot"></span> Flatten parentheses
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="passive">
              <span class="dot"></span> Light passive tweak
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="transitions">
              <span class="dot"></span> Add transitions
            </label>
            <label class="expandshort-chip" aria-pressed="true" data-rule="examples">
              <span class="dot"></span> Add small examples
            </label>
          </div>
        </div>
      </article>

      <!-- Right: output, diff, exports -->
      <article class="expandshort-card" aria-labelledby="card-output">
        <div class="card-head">
          <h2 id="card-output">Result &amp; Diff</h2>
          <div class="stack-md">
            <button class="expandshort-btn shrink" id="expandshort-copy">Copy</button>
            <button class="expandshort-btn-ghost shrink" id="expandshort-download">Download</button>
            <button class="expandshort-btn-ghost shrink" id="expandshort-export">Export CSV - JSON</button>
          </div>
        </div>
        <div class="card-body">
          <div class="expandshort-toolbar">
            <label class="expandshort-chip" id="expandshort-toggle-diff" role="button" aria-pressed="true"><span class="dot"></span> Show diff</label>
            <label class="expandshort-chip" id="expandshort-toggle-wrap" role="button" aria-pressed="true"><span class="dot"></span> Wrap text</label>
          </div>
          <div id="expandshort-diff" class="expandshort-diff" aria-live="polite"></div>
        </div>
      </article>
    </section>

    <p class="expandshort-footnote">
      Tip: For deeper rewrites, try the <a href="/quillbot2.html">Paraphrasing Tool</a>. Clean spacing with
      <a href="/tools/whitespace-and-formatting-cleaner.html">Whitespace and Formatting Cleaner</a> and check counts with
      <a href="/tools/word-counter.html">Word and Character Counter</a>.
    </p>

     <div class="free-tools-guide">
    <p class="free-tools-guide-p">See Sentence Expnader/Shortner Guide on SnipText Blog Page <a href="/blog/sentence-expander-shortener-rule-based-no-ai-cost-lengthen-or-shorten-sentences-snippets-examples-sniptext-blog.html" class="free-tools-blog-link">here</a>.</p>
  </div>
  </main>


  

  <!-- TOOLS GRID -->
       <div class="feature-card-all-pages">
        <h1 class="feature-card-all-pages-para">Featured Tools</h1>
       </div>
  <section id="tools-grid" class="tools-grid" aria-label="Tools list">
    <!-- Tool cards - 10 items -->

              <article class="tool-card piglatin-card-teaser" tabindex="0"
                  data-href="/tools/pig-latin-converter-fun-accurate-and-classroom-friendly.html"
                  aria-labelledby="t-piglatin">
                  <div class="card-icon" aria-hidden="true">
                    <!-- Pig Latin icon: pig snout + speech bubble "ay" motif -->
                    <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Pig Latin Converter icon">
                      <!-- head -->
                      <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="1.6"/>
                      <!-- ears -->
                      <path d="M7.2 6.5l-2-1.6 0 2.8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M16.8 6.5l2-1.6 0 2.8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <!-- snout -->
                      <ellipse cx="12" cy="14" rx="4.2" ry="2.6" fill="none" stroke="currentColor" stroke-width="1.6"/>
                      <circle cx="10.7" cy="14" r="0.7" fill="currentColor"/>
                      <circle cx="13.3" cy="14" r="0.7" fill="currentColor"/>
                      <!-- smile hint -->
                      <path d="M9 11.2c.8.5 2 .5 3 0" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                      <!-- speech bubble tail with tiny 'ay' strokes -->
                      <path d="M18 9.2c1.9 0 3.3 1.4 3.3 3.1 0 1.8-1.4 3.2-3.3 3.2h-1.1l-1.2 1.3v-1.3h-0.2"
                            fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M17.2 11.5l.5 1.6m1-1.6l-.5 1.6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                    </svg>
                  </div>
                  <h3 id="t-piglatin" class="card-title">Pig Latin Converter</h3>
                  <p class="card-desc">
                    Turn English into Pig Latin with smart punctuation and capitalization, choose suffix styles, see side by side diffs, try reverse mode, and export TXT, CSV, or JSON. Private, in browser.
                  </p>
                  <a class="card-cta"
                    href="/tools/pig-latin-converter-fun-accurate-and-classroom-friendly.html"
                    aria-label="Open Pig Latin Converter">Open →</a>
              </article>

              <article class="tool-card writingprompt-tool-card" tabindex="0"
                      data-href="/tools/random-writing-prompt-generator-json-list-filters-export.html"
                      aria-labelledby="writingprompt-tg">
                      <div class="card-icon writingprompt-card-icon" aria-hidden="true">
                        <!-- Writing Prompt icon: dice + pencil + spark -->
                        <svg viewBox="0 0 24 24" class="svg-icon writingprompt-svg" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Random Writing Prompt Generator">
                          <!-- dice -->
                          <rect x="2.5" y="2.5" width="9" height="9" rx="2" fill="none" stroke="currentColor" stroke-width="1.4"/>
                          <circle cx="5.3" cy="5.3" r="0.9" fill="currentColor"/>
                          <circle cx="8.7" cy="5.3" r="0.9" fill="currentColor"/>
                          <circle cx="7" cy="8.7" r="0.9" fill="currentColor"/>
                          <!-- pencil -->
                          <path d="M14.2 6.8l6.6 6.6c.5.5.5 1.3 0 1.8l-3.6 3.6c-.5.5-1.3.5-1.8 0l-6.6-6.6 5.4-5.4z" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
                          <path d="M7.9 12.1l1.8 1.8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
                          <!-- pencil tip fill -->
                          <path d="M20.8 13.6l-1.8-1.8-1.5 1.5 1.8 1.8 1.5-1.5z" fill="currentColor"/>
                          <!-- spark -->
                          <path d="M12.2 2.6l.5-1 .5 1 1 .5-1 .5-.5 1-.5-1-1-.5 1-.5z" stroke="currentColor" stroke-width="1.1" fill="none"/>
                        </svg>
                      </div>
                      <h3 id="writingprompt-tg" class="card-title writingprompt-card-title">Random Writing Prompt Generator</h3>
                      <p class="card-desc writingprompt-card-desc">
                        Generate story ideas with genre, tone, and length filters. Save favorites, search the library, import your own JSON list, and export visible results as JSON or CSV. Share a link to your exact settings. Private, in-browser.
                      </p>
                      <a class="card-cta writingprompt-card-cta"
                        href="/tools/random-writing-prompt-generator-json-list-filters-export.html"
                        aria-label="Open Random Writing Prompt Generator">Open →</a>
                  </article>

    <article class="tool-card" tabindex="0" data-href="/tools/random-text-generator.html" aria-labelledby="t10">
          <div class="card-icon" aria-hidden="true">
            <!-- Random Text Generator Icon -->
            <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Random Text Generator icon">
              <!-- Random scattered lines -->
              <line x1="4" y1="6" x2="14" y2="6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <line x1="10" y1="10" x2="20" y2="10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <line x1="6" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <line x1="8" y1="18" x2="18" y2="18" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <!-- Shuffle arrows -->
              <path d="M3 12h3l2-2m-2 4l2-2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12h-3l-2-2m2 4l-2-2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 id="t10" class="card-title">Random Text Generator</h3>
          <p class="card-desc">Generate placeholder text: lorem ipsum, short sentences, and dummy paragraphs for testing layouts.</p>
          <a class="card-cta" href="/tools/random-text-generator.html" aria-label="Open Random Text Generator">Open →</a>
      </article>

    <article class="tool-card" tabindex="0" data-href="/tools/symbol-character-info.html" aria-labelledby="t6">
        <div class="card-icon" aria-hidden="true">
          <!-- Symbol/Character Info Icon -->
          <svg viewBox="0 0 24 24" class="svg-icon" role="img" aria-label="Symbol and Character Info icon">
            <!-- Outer square -->
            <rect x="3" y="3" width="18" height="18" rx="3" ry="3" stroke="currentColor" stroke-width="1.4" fill="none"/>
            <!-- Omega symbol -->
            <path d="M8 8a4 4 0 0 1 8 0v6a4 4 0 0 1-8 0z" fill="none" stroke="currentColor" stroke-width="1.4"/>
            <!-- Small info dot -->
            <circle cx="12" cy="18" r="1.2" fill="currentColor"/>
          </svg>
        </div>
        <h3 id="t6" class="card-title">Symbol / Character Info</h3>
        <p class="card-desc">Counts symbols and shows ASCII & Unicode code points and names for selected characters.</p>
        <a class="card-cta" href="/tools/symbol-character-info.html" aria-label="Open Symbol/Character Counter">Open →</a>
    </article>

  </section>







  
<footer id="main-footer" class="site-footer" aria-labelledby="footer-heading">
  <!-- decorative background -->
  <div class="footer-bg" aria-hidden="true"></div>

  <div class="footer-container">
    <div class="footer-logo">
      <h2 id="footer-heading" class="footer-brand">Snip Text</h2>
      <p>Empowering better writing, one tool at a time.</p>
    </div>

    <nav class="footer-links" aria-label="Footer links">
      <a href="feedback.html">Feedback</a>
      <a href="contact.html#contact">Contact Us</a>
      <a href="privacy-policy.html">Privacy Policy</a>
      <a href="terms-of-use.html">Terms of Use</a>
    </nav>

    <div class="footer-bottom">
      <p>
        &copy; <span id="year"></span>
        <span class="powered-by">
          Snip Text - powered by
          <a href="https://checkai.pro" target="_blank" rel="noopener">CheckAI.pro</a>
        </span>
        · All rights reserved.
      </p>
    </div>
  </div>

  <!-- back to top -->
  <button class="to-top" id="to-top" aria-label="Back to top">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</footer>






  <!-- =========================
       SCRIPT
       ========================= -->

       <script src="/js/index.js"></script>
       <script src="/js/auth.js"></script>
       <script src="/tools/js/free-tools.js"></script>

  <script>
    /* ============== Utility ============== */
    const $ = (q, p=document)=>p.querySelector(q);
    const $$ = (q, p=document)=>[...p.querySelectorAll(q)];

    const state = {
      history: [],
      batch:false,
      showDiff:true,
      wrap:true,
      target:100,
      tone:'neutral',
      quickRules: { hedges:true, filler:true, adverbs:true, parentheses:true, passive:true, transitions:true, examples:true },
      protected: [],
      lastInput:'',
      lastOutput:''
    };

    function saveHistory(input, output){
      state.history.push({input, output});
      $('#expandshort-undo').disabled = state.history.length === 0;
    }

    function escapeHTML(s){
      return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    function tokenizeProtected(text, list){
      // Replace protected terms with placeholders so rules do not alter them.
      const map = new Map();
      let protectedText = text;
      list.filter(Boolean).forEach((term, idx)=>{
        const token = `__PROTECTED_${idx}__`;
        const re = new RegExp(term.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
        protectedText = protectedText.replace(re, token);
        map.set(token, term);
      });
      return {protectedText, map};
    }

    function restoreProtected(text, map){
      let out = text;
      map.forEach((v,k)=>{ out = out.replaceAll(k, v); });
      return out;
    }

    /* ============== Rule Packs ============== */
    const RULES = {
      // Shortener rules
      hedges: [
        [/\b(i\s*think|i\s*believe|it\s*seems|it\s*appears|i\s*feel)\b[\s,:-]*/gi, ""],
        [/\b(maybe|perhaps|somewhat|quite|rather|fairly)\b\s*/gi, ""]
      ],
      filler: [
        [/\b(in\s*order\s*to)\b/gi, "to"],
        [/\b(due\s*to\s*the\s*fact\s*that)\b/gi, "because"],
        [/\b(at\s*this\s*point\s*in\s*time)\b/gi, "now"],
        [/\b(it\s*is\s*important\s*to\s*note\s*that)\b/gi, ""],
        [/\b(there\s*is|there\s*are)\b\s+([a-z]+)/gi, "$2"]
      ],
      adverbs: [
        [/\b(really|very|basically|actually|literally|definitely|clearly)\b\s*/gi, ""]
      ],
      parentheses: [
        [/\s*\(([^)]+)\)/g, ", $1"], // flatten soft parentheses
        [/,\s*,/g, ", "]
      ],
      passive: [
        [/\b(is|are|was|were|been|be|being)\s+([a-z]+ed)\s+by\s+([A-Z]?[a-z]+)/gi, "$3 $2"] // simple passive->active
      ],

      // Expander rules
      transitions(text){
        // Add small transitions at sentence starts if missing
        return text.replace(/(^|\.\s+)([A-Z])/g, (m, sep, cap) => {
          const t = ["Additionally, ","Moreover, ","However, ","Therefore, "];
          // only sometimes
          if (Math.random() < 0.18) return sep + t[Math.floor(Math.random()*t.length)] + cap;
          return sep + cap;
        });
      },
      examples(text){
        // Add mini examples after colon or "for example" injection occasionally
        return text.replace(/(\bconcept\b|\bmethod\b|\bissue\b|\bresult\b)/gi, (m)=>{
          if(Math.random()<0.2){
            return m + " (for example, one quick case or metric)";
          }
          return m;
        });
      }
    };

    function applyShortener(text){
      let out = text;
      const active = state.quickRules;
      if(active.hedges) RULES.hedges.forEach(([re, rep]) => out = out.replace(re, rep));
      if(active.filler) RULES.filler.forEach(([re, rep]) => out = out.replace(re, rep));
      if(active.adverbs) RULES.adverbs.forEach(([re, rep]) => out = out.replace(re, rep));
      if(active.parentheses) RULES.parentheses.forEach(([re, rep]) => out = out.replace(re, rep));
      if(active.passive) RULES.passive.forEach(([re, rep]) => out = out.replace(re, rep));
      // Light trimming and punctuation cleanups
      out = out.replace(/\s{2,}/g, " ").replace(/\s+([,.;:!?])/g, "$1").trim();
      return out;
    }

    function applyExpander(text){
      let out = text;
      // Tone presets influence light diction tweaks
      const tone = state.tone;
      if (tone === 'friendly'){
        out = out.replace(/\b(you)\b/gi, "you").replace(/\b(we)\b/gi,"we");
      } else if (tone === 'formal'){
        out = out.replace(/\b(kids)\b/gi, "children");
      } else if (tone === 'confident'){
        out = out.replace(/\b(might|could)\b/gi, "will");
      }
      // Add transitions and tiny examples if toggled
      if(state.quickRules.transitions) out = RULES.transitions(out);
      if(state.quickRules.examples) out = RULES.examples(out);

      // Gentle lengthening towards target by expanding contractions and adding clarifiers
      out = out
        .replace(/\bcan't\b/gi, "cannot")
        .replace(/\bwon't\b/gi, "will not")
        .replace(/\bit's\b/gi, "it is")
        .replace(/\bthat's\b/gi, "that is");

      // Add clarifiers lightly
      out = out.replace(/\b(is|are)\b\s+([a-z]+)/gi, (m, v, w) => {
        if (Math.random()<0.15) return v + " clearly " + w;
        return m;
      });

      // spacing
      out = out.replace(/\s{2,}/g, " ").replace(/\s+([,.;:!?])/g, "$1").trim();
      return out;
    }

    /* Target length handler */
    function tuneToTarget(original, current){
      const want = state.target/100;
      const now = current.length / Math.max(1, original.length);
      if (Math.abs(now - want) < 0.07) return current; // close enough
      if (now > want){
        // shorten a bit more by removing extra adjectives and parentheses content
        current = current.replace(/\b(\w+ly)\b/g, "")
                         .replace(/\s*\(([^)]+)\)/g, "")
                         .replace(/\s{2,}/g," ").trim();
      } else {
        // expand a bit by adding mild transitions at sentence boundaries
        current = current.replace(/([.!?])\s+(?=[A-Z])/g, (m)=> m + " For clarity, ");
      }
      return current;
    }

    /* Diff (very small word-based) */
    function diffWords(a,b){
      const aw = a.split(/(\s+)/);
      const bw = b.split(/(\s+)/);
      const dp = Array(aw.length+1).fill(null).map(()=>Array(bw.length+1).fill(0));
      for(let i=1;i<=aw.length;i++){
        for(let j=1;j<=bw.length;j++){
          dp[i][j] = aw[i-1]===bw[j-1] ? dp[i-1][j-1]+1 : Math.max(dp[i-1][j], dp[i][j-1]);
        }
      }
      // backtrack
      let i=aw.length, j=bw.length, out=[];
      while(i>0 && j>0){
        if(aw[i-1]===bw[j-1]){ out.unshift(escapeHTML(aw[i-1])); i--; j--; }
        else if(dp[i-1][j] >= dp[i][j-1]){ out.unshift('<mark class="expandshort-del">'+escapeHTML(aw[i-1])+'</mark>'); i--; }
        else { out.unshift('<mark class="expandshort-ins">'+escapeHTML(bw[j-1])+'</mark>'); j--; }
      }
      while(i>0){ out.unshift('<mark class="expandshort-del">'+escapeHTML(aw[i-1])+'</mark>'); i--; }
      while(j>0){ out.unshift('<mark class="expandshort-ins">'+escapeHTML(bw[j-1])+'</mark>'); j--; }
      return out.join('');
    }

    function render(output, input){
      state.lastInput = input;
      state.lastOutput = output;
      const view = $('#expandshort-diff');
      if(state.showDiff){
        view.innerHTML = diffWords(input, output);
      }else{
        view.textContent = output;
      }
      view.style.whiteSpace = state.wrap ? 'pre-wrap' : 'pre';
      // meter
      const pct = Math.round((output.length/Math.max(1,input.length))*100);
      $('#expandshort-meter').innerHTML = `Target: <strong id="expandshort-target-label">${state.target}%</strong> • Now: <strong>${isFinite(pct)?pct:0}%</strong>`;
    }

    function getProtectedList(){
      const list = $('#expandshort-protected').value.split(',').map(s=>s.trim()).filter(Boolean);
      state.protected = list;
      localStorage.setItem('expandshort_protected', JSON.stringify(list));
      return list;
    }

    /* ============== Run actions ============== */
    function run(mode){
      const input = $('#expandshort-input').value;
      if(!input.trim()) return;

      const lines = state.batch ? input.split(/\r?\n/) : [input];
      const protectedList = getProtectedList();

      const outputs = lines.map(line=>{
        const {protectedText, map} = tokenizeProtected(line, protectedList);
        let work = protectedText;

        if(mode==='short'){
          work = applyShortener(work);
        }else{
          work = applyExpander(work);
        }
        work = tuneToTarget(protectedText, work);
        work = restoreProtected(work, map);
        return work;
      });

      const output = state.batch ? outputs.join('\n') : outputs[0];
      saveHistory(input, output);
      render(output, input);
    }

    /* ============== Events ============== */
    // chips
    $$('#expandshort .noop', document); // placeholder to keep code readers calm

    $$('#expandshort-target').forEach(()=>{}); // placeholder

    // Quick rule toggles
    $$('.expandshort-chip[data-rule]').forEach(el=>{
      el.addEventListener('click', ()=>{
        const key = el.getAttribute('data-rule');
        const pressed = el.getAttribute('aria-pressed') === 'true';
        el.setAttribute('aria-pressed', String(!pressed));
        state.quickRules[key] = !pressed;
      });
    });

    // Tone
    $('#expandshort-tone').addEventListener('change', e=>{ state.tone = e.target.value; });

    // Batch toggle
    $('#expandshort-batch').addEventListener('click', e=>{
      const pressed = e.currentTarget.getAttribute('aria-pressed')==='true';
      state.batch = !pressed;
      e.currentTarget.setAttribute('aria-pressed', String(state.batch));
    });

    // Target slider
    const target = $('#expandshort-target');
    const targetLabel = $('#expandshort-target-label');
    target.addEventListener('input', e=>{
      state.target = +e.target.value;
      targetLabel.textContent = state.target + '%';
    });

    // Buttons
    $('#expandshort-run-expand').addEventListener('click', ()=>run('expand'));
    $('#expandshort-run-short').addEventListener('click', ()=>run('short'));

    $('#expandshort-undo').addEventListener('click', ()=>{
      state.history.pop(); // current
      const prev = state.history.pop();
      if(prev){
        $('#expandshort-input').value = prev.input;
        render(prev.output, prev.input);
        saveHistory(prev.input, prev.output); // push back as current
      }
      $('#expandshort-undo').disabled = state.history.length === 0;
    });

    $('#expandshort-copy').addEventListener('click', async ()=>{
      const text = state.showDiff ? $('#expandshort-diff').innerText : state.lastOutput || '';
      try{ await navigator.clipboard.writeText(text); popToast('Copied'); }catch(e){ popToast('Copy failed', true); }
    });

    $('#expandshort-download').addEventListener('click', ()=>{
      const blob = new Blob([state.lastOutput||''], {type:'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'sentence-expander-shortener.txt';
      a.click();
      URL.revokeObjectURL(a.href);
    });

    $('#expandshort-export').addEventListener('click', ()=>{
      const rows = state.batch ? state.lastOutput.split(/\r?\n/) : [state.lastOutput];
      const inputRows = state.batch ? state.lastInput.split(/\r?\n/) : [state.lastInput];
      const data = rows.map((r,i)=>({input: inputRows[i]||'', output:r||''}));
      // Offer CSV and JSON
      const csv = 'input,output\n' + data.map(d => `"${(d.input||'').replace(/"/g,'""')}","${(d.output||'').replace(/"/g,'""')}"`).join('\n');
      const blobCSV = new Blob([csv], {type:'text/csv;charset=utf-8'});
      const a1 = document.createElement('a');
      a1.href = URL.createObjectURL(blobCSV);
      a1.download = 'sentence-expander-shortener.csv';
      a1.click();
      URL.revokeObjectURL(a1.href);

      const blobJSON = new Blob([JSON.stringify(data, null, 2)], {type:'application/json;charset=utf-8'});
      const a2 = document.createElement('a');
      a2.href = URL.createObjectURL(blobJSON);
      a2.download = 'sentence-expander-shortener.json';
      a2.click();
      URL.revokeObjectURL(a2.href);
    });

    $('#expandshort-clear').addEventListener('click', ()=>{
      $('#expandshort-input').value = '';
      $('#expandshort-diff').textContent = '';
      state.history = [];
      $('#expandshort-undo').disabled = true;
    });

    $('#expandshort-sample').addEventListener('click', ()=>{
      const sample = "We think the method is kind of useful, but it might be a bit slow. The result was achieved by the team after many tests. At this point in time, there are many issues.";
      $('#expandshort-input').value = sample;
    });

    // View toggles
    $('#expandshort-toggle-diff').addEventListener('click', e=>{
      const pressed = e.currentTarget.getAttribute('aria-pressed')==='true';
      state.showDiff = !pressed;
      e.currentTarget.setAttribute('aria-pressed', String(state.showDiff));
      render(state.lastOutput || '', state.lastInput || '');
    });
    $('#expandshort-toggle-wrap').addEventListener('click', e=>{
      const pressed = e.currentTarget.getAttribute('aria-pressed')==='true';
      state.wrap = !pressed;
      e.currentTarget.setAttribute('aria-pressed', String(state.wrap));
      $('#expandshort-diff').style.whiteSpace = state.wrap ? 'pre-wrap' : 'pre';
    });

    // Protected terms persistence
    (function initProtected(){
      try{
        const saved = JSON.parse(localStorage.getItem('expandshort_protected')||'[]');
        if(Array.isArray(saved) && saved.length) $('#expandshort-protected').value = saved.join(', ');
      }catch(e){}
    })();

    // Toast
    function popToast(text, danger){
      const t = document.createElement('div');
      t.textContent = text;
      t.style.position='fixed';t.style.right='16px';t.style.bottom='16px';t.style.zIndex='9999';
      t.style.background = danger ? 'linear-gradient(135deg,#ef4444,#ef4444)' : 'linear-gradient(135deg, var(--expandshort-accent), var(--expandshort-accent-2))';
      t.style.color = '#0b1220';t.style.padding='10px 12px';t.style.borderRadius='12px';t.style.boxShadow='0 10px 24px rgba(0,0,0,.35)';
      t.style.transform='translateY(12px)';t.style.opacity='0';
      document.body.appendChild(t);
      requestAnimationFrame(()=>{
        t.style.transition='all var(--expandshort-duration) var(--expandshort-ease)';
        t.style.transform='translateY(0)';t.style.opacity='1';
      });
      setTimeout(()=>{
        t.style.transform='translateY(12px)';t.style.opacity='0';
        setTimeout(()=>t.remove(), 260);
      }, 1300);
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e)=>{
      if(e.ctrlKey && e.key.toLowerCase()==='enter'){ e.preventDefault(); run('expand'); }
      if(e.ctrlKey && e.key.toLowerCase()==='backspace'){ e.preventDefault(); run('short'); }
    });

    // Accessibility helpers
    document.addEventListener('click', e=>{
      const href = e.target.closest('[data-href]');
      if(href){ location.href = href.getAttribute('data-href'); }
    });
  </script>
</body>
</html>
