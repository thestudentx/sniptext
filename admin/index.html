<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel - Snip Text</title>

<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/grammarly1.css" />

<!-- ‚úÖ Admin-specific CSS (inside admin folder) -->
<link rel="stylesheet" href="/admin/css/admin.css" />
 

  <!-- Favicon -->
  <link rel="icon" href="../favicon.png" type="image/png" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="admin-container">

    <!-- Main Panel -->
    <main class="main-panel" style="width: 100%; padding: 2rem;">

      <!-- Header with Logout -->
      <header class="admin-header" style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <h1 style="margin: 0; font-family: var(--font-heading); font-size: 2rem;">Admin Panel</h1>
          <h2 style="margin: 0; font-family: var(--font-body); font-size: 1.2rem; color: var(--color-text-light);">User Management</h2>
        </div>
        <div class="header-right">
           <div class="theme-toggle-wrapper">
            <button id="themeToggle" aria-label="Toggle theme">
              <span class="theme-icon">üåô</span>
            </button>
          </div>
          <button id="adminLogoutBtn" class="logout-btn">üö™ Logout</button>
        </div>
      </header>

      <!-- Section: Users -->
      <section class="admin-section" id="users-section">
        <button class="btn primary" id="addUserBtn">‚ûï Add User</button>

        <!-- Search & Rows Control -->
        <div class="table-controls">
          <form id="searchForm" class="search-form">
            <input type="text" id="searchInput" placeholder="Search users..." autocomplete="off" />
            <button type="submit" class="btn">Search</button>
            <button type="button" id="clearSearch" class="btn btn-secondary">‚úñÔ∏è</button>
          </form>
          <select id="rowsPerPage" onchange="changePageSize()">
            <option value="5">5 / page</option>
            <option value="10" selected>10 / page</option>
            <option value="20">20 / page</option>
          </select>
        </div>

        <!-- User Table -->
        <div class="admin-table-wrapper">
          <table class="admin-table" id="userTable">
            <thead>
              <tr>
                <th>No.</th>
                <th>Email</th>
                <th>Duration</th>
                <th>Expiry</th>
                <th>Tools</th>
                <th>Credits</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="userTableBody">
              <!-- Rows inserted dynamically by JS; remember to prepend numbering in script -->
            </tbody>
          </table>
        </div>

        <!-- Pagination Controls -->
        <div id="paginationControls" class="pagination-controls"></div>

        <!-- Delete Confirm Modal -->
        <div id="confirmModal" class="modal-overlay" style="display:none;">
          <div class="modal-content">
            <p>Are you sure you want to delete this user?</p>
            <div class="modal-buttons">
              <button id="confirmYes" class="btn btn-danger">Yes</button>
              <button id="confirmNo" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- User Modal -->
  <div id="userModal" class="modal hidden">
    <div class="modal-content">
      <h2 id="userModalTitle">Add User</h2>
      <form id="userForm" class="form-container">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" class="input" placeholder="Enter email" required />

        <label for="password">Password</label>
        <input type="password" id="password" name="password" class="input" placeholder="Enter password" required />

        <label for="access">Access Duration</label>
        <select id="access" name="access" class="input" required>
          <option value="">Select a duration</option>
          <option value="30">Standard - 1 Month</option>
          <option value="90">Pro - 3 Months</option>
          <option value="180">Business - 6 Months</option>
          <option value="365">Premium - 1 Year</option>
        </select>

        <label for="apis">Models</label>
        <input type="text" id="apis" name="apis" class="input" placeholder="e.g. turnitin1,quillbot2" required />

        <label for="credits">Credits</label>
        <input type="number" id="credits" name="credits" class="input" placeholder="Enter credits" min="0" required />

        <button id="userSubmitBtn" type="submit" class="btn">Add User</button>
        <button type="button" class="btn btn-cancel" onclick="closeModal('userModal')">Cancel</button>
      </form>
    </div>
  </div>

  <!-- Global Toast Container -->
  <div id="toast-container" class="toast-container hidden"></div>

  <!-- Scripts -->
<!-- ‚úÖ Global Scripts -->
<script src="/components/global-loading-animation.js"></script>
<script src="/js/index.js"></script>

<!-- ‚úÖ Admin Scripts (inside admin folder) -->
<script src="/admin/js/admin.js"></script>
<script src="/admin/js/users.js"></script>


</body>
</html>
