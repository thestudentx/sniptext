<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Snip Text â€“ AI & Plagiarism Checker (turnitin1)</title>
  <!-- Global CSS -->
  <link rel="stylesheet" href="css/turnitin1.css" />
  <link rel="stylesheet" href="css/global-loading-animation.css">

  <!-- AUTHENTICATING USERS ON PAGE LOAD -->   
  <script src="js/auth.js"></script>

  <!-- Favicon -->
  <link rel="icon" href="/favicon.png" type="image/png">
</head>
<body>
  <!-- (Removed obsolete #loaderOverlay) -->

  <!-- Main Container -->
  <main id="plagiarismPageContainer" data-page="turnitin1" data-component="mainContainer">
    <header class="page-header">
      <h1 data-component="pageTitle">AI & Plagiarism Checker</h1>
      <p data-component="pageSubTitle">
        Choose a scan type, then paste text or upload a file to detect AI-generated content, deepfakes, or extract text via OCR.
      </p>
    </header>

    <!-- Scan Type Selector -->
    <section class="scan-type-section" data-component="scanTypeSection">
      <label>Select Scan Type:</label>
      <div class="scan-options">
        <label>
          <input type="radio" name="scanType" value="content" checked data-component="scanTypeInput" />
          AI Content Detection
        </label>
        <label>
          <input type="radio" name="scanType" value="image" data-component="scanTypeInput" />
          AI Image/Deepfake Detection
        </label>
        <label>
          <input type="radio" name="scanType" value="document" data-component="scanTypeInput" />
          Document Scan & OCR
        </label>
      </div>
    </section>

    <!-- Form Section -->
    <section id="uploadSection" class="upload-section" data-component="uploadSection">
      <form id="plagiarismForm" data-component="plagiarismForm">
        <!-- Text Input (only for Content Detection) -->
        <div class="form-group" data-component="textInputGroup">
          <label for="textInput" data-component="textInputLabel">Paste your text here:</label>
          <textarea
            id="textInput"
            name="textInput"
            rows="8"
            placeholder="Type or paste your text..."
            data-component="textInput"
          ></textarea>
        </div>

        <!-- OR separator (only for Content Detection & Document Scan) -->
        <div class="separator" data-component="separator">
          <span>OR</span>
        </div>

        <!-- File Upload (for all scan types) -->
        <div class="form-group" data-component="fileInputGroup">
          <label for="fileInput" data-component="fileInputLabel">Upload a file:</label>
          <input
            type="file"
            id="fileInput"
            name="fileInput"
            accept=".txt,.doc,.docx,.pdf,.png,.jpg,.jpeg"
            data-component="fileInput"
          />
        </div>

        <!-- Submit Button -->
        <div class="form-group" data-component="submitGroup">
          <button
            type="submit"
            id="scanBtn"
            data-component="scanBtn"
            data-api="winstonApi"
          >
            Start Scan
          </button>
        </div>
      </form>
    </section>

    <!-- Results Section (hidden by default) -->
    <section
      id="resultsSection"
      class="results-section"
      data-component="resultsSection"
      hidden
    >
      <h2 data-component="resultsTitle">Scan Results</h2>
      <div id="resultsContainer" data-component="resultsContainer">
        <!-- AI Content Detection Results -->
        <div id="contentResults" data-component="contentResults" hidden>
          <p>
            <strong>Human Score:</strong> <span data-component="humanScore">--</span>%
          </p>
          <p>
            <strong>Readability Score:</strong> <span data-component="readabilityScore">--</span>
          </p>
          <div id="sentenceBreakdown" data-component="sentenceBreakdown">
            <!-- Filled dynamically -->
          </div>
        </div>

        <!-- AI Image/Deepfake Detection Results -->
        <div id="imageResults" data-component="imageResults" hidden>
          <p>
            <strong>Deepfake Probability:</strong> <span data-component="deepfakeScore">--</span>%
          </p>
          <!-- If more details are returned, insert here -->
        </div>

        <!-- OCR & Document Scan Results -->
        <div id="docResults" data-component="docResults" hidden>
          <h3>Extracted Text:</h3>
          <div id="extractedText" data-component="extractedText"></div>
        </div>
      </div>

      <!-- Try Again Button -->
      <button id="tryAgainBtn" data-component="tryAgainBtn">Try Another Scan</button>
    </section>
  </main>

  <!-- Global Loader -->
  <div id="global-loader">
    <div class="typewriter">
      <div class="slide"><i></i></div>
      <div class="paper"></div>
      <div class="keyboard"></div>
    </div>
    <!-- The "Analyzing..." label is added dynamically by JS -->
  </div>
  
  <!-- TOAST ALERT -->
  <div id="toast-container"></div>

  <!-- JavaScript -->
  <script src="components/global-loading-animation.js"></script>
  <script src="js/turnitin1.js"></script>
</body>
</html>
