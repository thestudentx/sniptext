/* ==========================================================
   AI DETECTION - THEME
   (keeps your data-theme="dark" toggle working)
   ========================================================== */
:root{
  --ai-bg: #ffffff;
  --ai-bg-2: #f6f7fb;
  --ai-ink: #111;
  --ai-ink-soft:#475569;

  --ai-panel: rgba(255,255,255,.86);
  --ai-panel-ink: #0f172a;

  --ai-line: rgba(2,6,23,.08);
  --ai-glass: rgba(2,6,23,.06);

  --ai-accent: #3b82f6;      /* blue */
  --ai-accent-2:#8b5cf6;     /* violet */
  --ai-safe: #22c55e;
  --ai-warn: #f59e0b;
  --ai-danger:#ef4444;

  --ai-radius-xl: 18px;
  --ai-radius-lg: 14px;
  --ai-radius-md: 10px;

  --ai-shadow-1: 0 10px 30px rgba(2,6,23,.12);
  --ai-shadow-2: 0 24px 60px rgba(2,6,23,.18);

  --ai-focus: 0 0 0 3px color-mix(in srgb, var(--ai-accent) 38%, #fff 0%);

  /* fallbacks for your existing vars used in buttons */
  --color-primary: var(--ai-accent);
  --color-white: #fff;
  --accent: var(--ai-accent);
}

[data-theme="dark"]{
  --ai-bg: #0f162a;
  --ai-bg-2: #0b1224;
  --ai-ink: #eaf1ff;
  --ai-ink-soft:#cfe0ff;

  --ai-panel: rgba(19,24,44,.86);
  --ai-panel-ink: #eaf1ff;

  --ai-line: rgba(255,255,255,.1);
  --ai-glass: rgba(255,255,255,.06);

  --ai-shadow-1: 0 12px 34px rgba(0,0,0,.55);
  --ai-shadow-2: 0 24px 70px rgba(0,0,0,.65);
}

/* Base */
html, body, textarea { transition: background-color .35s ease, color .25s ease; }
body{ background: linear-gradient(180deg, var(--ai-bg), var(--ai-bg-2)); color: var(--ai-ink); }

/* Layout container */
.turnit-container.dark-split{
  width:min(1120px, 94vw);
  margin: 0 auto;
  min-height: 100vh;
  display:grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  align-items: start;
  justify-content:center;
  padding: clamp(1rem, 3vw, 2rem) 0;
}

/* ==========================================================
   HERO / SCANNER
   ========================================================== */
.ai-hero{
  position: relative; overflow: clip;
  border: 1px solid var(--ai-line);
  border-radius: var(--ai-radius-xl);
  background:
    radial-gradient(800px 400px at 90% -10%, color-mix(in srgb, var(--ai-accent) 20%, transparent) 0%, transparent 60%),
    radial-gradient(700px 380px at 70% 120%, color-mix(in srgb, var(--ai-accent-2) 16%, transparent) 0%, transparent 60%),
    linear-gradient(180deg, color-mix(in srgb, var(--ai-panel) 70%, transparent), var(--ai-panel));
  box-shadow: var(--ai-shadow-1);
}

.ai-hero__bg{ position:absolute; inset:0; z-index:-1; color: var(--ai-ink); opacity:.8; }
.ai-hero__grid{ width:100%; height:100%; mix-blend-mode:overlay; }
.ai-hero__beam{ animation: ai-scan 5.5s linear infinite; }
.ai-hero__rings{
  position:absolute; inset:0;
  background:
    radial-gradient(200px 200px at 85% 40%, rgba(139,92,246,.18), transparent 60%),
    radial-gradient(220px 180px at 78% 46%, rgba(59,130,246,.18), transparent 60%);
  filter: blur(18px);
  pointer-events:none;
}
.ai-hero__inner{ display:grid; grid-template-columns: 1.2fr .8fr; gap: 1rem; padding: clamp(1rem, 3vw, 1.4rem); }
@media(max-width: 860px){ .ai-hero__inner{ grid-template-columns: 1fr; } }

.ai-hero__title{ margin:.2rem 0 .3rem; font-size: clamp(22px, 3.2vw, 28px); }
.ai-hero__sub{ margin:0; color: var(--ai-ink-soft); max-width: 70ch; }
.ai-hero__badgebar{ display:flex; gap:.5rem; flex-wrap:wrap; align-self:center; justify-content:flex-end; }
.ai-pill{
  padding:.45rem .7rem; border-radius:999px; font-weight:700; font-size:.88rem;
  background: rgba(255,255,255,.08); border:1px solid var(--ai-line); color: var(--ai-ink);
  backdrop-filter: blur(6px);
}

@keyframes ai-scan{
  0%{ transform: translateX(0); }
  100%{ transform: translateX(142%); }
}

/* ==========================================================
   PANELS (keep your original class names/IDs)
   ========================================================== */
.split-panel{
  background: var(--ai-panel);
  color: var(--ai-panel-ink);
  backdrop-filter: blur(10px);
  border: 1px solid var(--ai-line);
  border-radius: var(--ai-radius-xl);
  padding: clamp(1rem, 3.5vw, 1.6rem);
  box-shadow: var(--ai-shadow-1);
  position: relative;
  overflow: hidden;
}

.title-section{
  display:flex; align-items:center; justify-content:space-between; gap: .8rem;
  margin-bottom: .4rem;
}
.panel-title{
  font-size: clamp(18px, 2.8vw, 22px);
  color: var(--ai-accent);
  margin: 0 0 .3rem;
}
.panel-sub{ margin:0 0 .6rem; color: color-mix(in srgb, var(--ai-panel-ink) 70%, transparent); }

/* Actions line */
.input-actions-wrapper{ display:flex; flex-wrap:wrap; align-items:center; gap:.6rem; margin-bottom:.5rem; }
.upload-wrapper{ display:flex; align-items:center; gap:.7rem; flex-wrap:wrap; }
.upload-btn{
  display:inline-flex; align-items:center; gap:.5rem; cursor:pointer;
  padding:.6rem .9rem; border-radius: var(--ai-radius-md);
  background: rgba(59,130,246,.14); border:1px solid color-mix(in srgb, var(--ai-accent) 45%, transparent);
  color: var(--ai-panel-ink); font-weight:700;
  transition: transform .2s ease, box-shadow .2s ease, background .25s ease;
}
.upload-btn:hover{ transform: translateY(-1px); box-shadow: var(--ai-shadow-1); }
.file-info{ font-size:.9rem; opacity:.8; }

/* Small buttons */
.ripple-btn.small-btn{
  padding: .5rem .9rem; font-size:.92rem; border-radius: var(--ai-radius-md);
  background: linear-gradient(120deg, var(--ai-accent), var(--ai-accent-2)); color:#fff;
  border: none;
  box-shadow: var(--ai-shadow-1);
}

/* Textarea */
.textarea-wrapper{ position:relative; margin-top:.2rem; }
.textarea-wrapper textarea{
  width:100%; min-height: 220px;
  border-radius: var(--ai-radius-lg);
  border:1px solid var(--ai-line);
  background: color-mix(in srgb, var(--ai-glass) 60%, transparent);
  color: var(--ai-panel-ink);
  font: 500 15px/1.6 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  padding: 1rem 1.1rem;
  resize: vertical;
  transition: background .3s, border-color .25s, box-shadow .25s, transform .2s;
  caret-color: var(--ai-accent);
}
.textarea-wrapper textarea:focus{
  outline: none;
  border-color: color-mix(in srgb, var(--ai-accent) 70%, #fff 30%);
  box-shadow: var(--ai-focus);
  background: color-mix(in srgb, var(--ai-glass) 75%, transparent);
  transform: translateZ(0) scale(1.01);
}
.textarea-halo{
  position:absolute; inset:-2px; border-radius: calc(var(--ai-radius-lg) + 2px);
  pointer-events:none; opacity:.0;
  background: radial-gradient(240px 160px at 20% 0%, color-mix(in srgb, var(--ai-accent) 25%, transparent), transparent 60%);
  transition: opacity .3s ease;
}
.textarea-wrapper:focus-within .textarea-halo{ opacity:.6; }

.counter-wrapper{ color: color-mix(in srgb, var(--ai-panel-ink) 65%, transparent); text-align:right; margin: .2rem 0 1rem; }

/* Primary buttons (keep your class) */
.ripple-btn{
  position:relative; overflow:hidden; cursor:pointer; border:none;
  padding:.8rem 1.2rem; border-radius: var(--ai-radius-md);
  font-weight:700; letter-spacing:.2px; color:#fff;
  background: linear-gradient(120deg, var(--ai-accent), var(--ai-accent-2));
  box-shadow: var(--ai-shadow-1);
  transition: transform .18s ease, box-shadow .18s ease;
}
.ripple-btn:hover{ transform: translateY(-2px); box-shadow: var(--ai-shadow-2); }
.ripple-btn.disabled{ background: #555a; cursor: not-allowed; }

/* Ripple (your data-ripple) */
[data-ripple]::after{
  content:""; position:absolute; inset:0; margin:auto;
  width:0; height:0; border-radius:50%;
  background: rgba(255,255,255,.28);
  transform: scale(0); pointer-events:none;
}
[data-ripple]:active::after{
  width:240px; height:240px; transform: scale(1); opacity:0; transition: transform .55s, opacity .5s;
}

/* Loader */
.loader{
  width: 56px; height:56px; margin: 1rem auto 1.2rem;
  border-radius: 50%;
  background:
    conic-gradient(from 0deg, var(--ai-accent), var(--ai-accent-2), var(--ai-accent));
  -webkit-mask: radial-gradient(farthest-side, transparent 52%, #000 53%);
  mask: radial-gradient(farthest-side, transparent 52%, #000 53%);
  animation: spin 1s linear infinite;
}
@keyframes spin{ to{ transform: rotate(1turn);} }

.error{
  background: color-mix(in srgb, var(--ai-danger) 20%, transparent);
  color: var(--ai-danger);
  border: 1px solid color-mix(in srgb, var(--ai-danger) 50%, transparent);
  border-radius: var(--ai-radius-md);
  padding: .7rem 1rem; text-align:center; font-weight:700;
  animation: shake .45s;
}
@keyframes shake{ 0%,100%{transform:translateX(0)} 25%,75%{transform:translateX(-6px)} 50%{transform:translateX(6px)} }

/* Results */
.metrics-panel{
  border-radius: var(--ai-radius-xl);
  border: 1px solid var(--ai-line);
  background: linear-gradient(180deg, color-mix(in srgb, var(--ai-panel) 70%, transparent), var(--ai-panel));
  padding: 1.1rem;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}

.metrics-title{
  margin:.2rem 0 1rem; font-size:.95rem; text-transform: uppercase; letter-spacing:.4px;
  color: color-mix(in srgb, var(--ai-panel-ink) 65%, transparent);
}

.metric{ margin-bottom: .9rem; }
.metric-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:.3rem; }
.metric-label{ font-weight:700; color: color-mix(in srgb, var(--ai-panel-ink) 75%, transparent); }
.metric-value{ font-weight:900; color: var(--ai-accent); }

.progress{
  width: 100%; height: 12px; border-radius: 999px; overflow:hidden;
  background: color-mix(in srgb, var(--ai-ink) 12%, transparent);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.12);
}
.progress-bar{
  height: 100%; width: 0%;
  background:
    linear-gradient(90deg, var(--ai-accent), var(--ai-accent-2)),
    repeating-linear-gradient(45deg, rgba(255,255,255,.12) 0 10px, transparent 10px 20px);
  border-radius: inherit;
  transition: width .9s cubic-bezier(.2,.8,.2,1);
  box-shadow: 0 6px 16px color-mix(in srgb, var(--ai-accent) 30%, transparent);
}

/* verdict */
.verdict-text{ margin:.6rem 0 0; font-weight:800; color: var(--ai-ink); }

/* Report button */
.report-btn{
  border-radius: var(--ai-radius-lg);
  background: linear-gradient(120deg, var(--ai-accent-2), var(--ai-accent));
  box-shadow: var(--ai-shadow-1);
}

/* Color utility classes (used by your JS) */
.result-safe{ color: var(--ai-safe) !important; }
.result-warning{ color: var(--ai-warn) !important; }
.result-danger{ color: var(--ai-danger) !important; }
.bg-safe{ background: var(--ai-safe) !important; }
.bg-warning{ background: var(--ai-warn) !important; }
.bg-danger{ background: var(--ai-danger) !important; }

/* Responsive */
@media (max-width: 920px){
  .turnit-container.dark-split{ gap: .9rem; }
}
@media (max-width: 640px){
  .upload-btn{ width:100%; justify-content:center; }
  .ripple-btn.small-btn{ width:100%; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .ai-hero__beam{ animation: none; }
}
